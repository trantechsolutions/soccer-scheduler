(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Lm={exports:{}},Yl={};var y_;function XS(){if(y_)return Yl;y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var v_;function WS(){return v_||(v_=1,Lm.exports=XS()),Lm.exports}var T=WS(),jm={exports:{}},Se={};var __;function ZS(){if(__)return Se;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,q={};function F(k,te,re){this.props=k,this.context=te,this.refs=q,this.updater=re||U}F.prototype.isReactComponent={},F.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},F.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function K(k,te,re){this.props=k,this.context=te,this.refs=q,this.updater=re||U}var le=K.prototype=new Y;le.constructor=K,z(le,F.prototype),le.isPureReactComponent=!0;var oe=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(k,te,re){var fe=re.ref;return{$$typeof:i,type:k,key:te,ref:fe!==void 0?fe:null,props:re}}function P(k,te){return I(k.type,te,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function j(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return te[re]})}var D=/\/+/g;function ge(k,te){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):te.toString(36)}function Ye(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(me,me):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,te,re,fe,be){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Be=!1;if(k===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(k.$$typeof){case i:case e:Be=!0;break;case _:return Be=k._init,W(Be(k._payload),te,re,fe,be)}}if(Be)return be=be(k),Be=fe===""?"."+ge(k,0):fe,oe(be)?(re="",Be!=null&&(re=Be.replace(D,"$&/")+"/"),W(be,te,re,"",function(Rs){return Rs})):be!=null&&(M(be)&&(be=P(be,re+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(D,"$&/")+"/")+Be)),te.push(be)),1;Be=0;var kt=fe===""?".":fe+":";if(oe(k))for(var ut=0;ut<k.length;ut++)fe=k[ut],Ne=kt+ge(fe,ut),Be+=W(fe,te,re,Ne,be);else if(ut=C(k),typeof ut=="function")for(k=ut.call(k),ut=0;!(fe=k.next()).done;)fe=fe.value,Ne=kt+ge(fe,ut++),Be+=W(fe,te,re,Ne,be);else if(Ne==="object"){if(typeof k.then=="function")return W(Ye(k),te,re,fe,be);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(k,te,re){if(k==null)return k;var fe=[],be=0;return W(k,fe,"","",function(Ne){return te.call(re,Ne,be++)}),fe}function ce(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var De=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ze={map:se,forEach:function(k,te,re){se(k,function(){te.apply(this,arguments)},re)},count:function(k){var te=0;return se(k,function(){te++}),te},toArray:function(k){return se(k,function(te){return te})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=b,Se.Children=ze,Se.Component=F,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=K,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,te,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var fe=z({},k.props),be=k.key;if(te!=null)for(Ne in te.key!==void 0&&(be=""+te.key),te)!R.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(fe[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)fe.children=re;else if(1<Ne){for(var Be=Array(Ne),kt=0;kt<Ne;kt++)Be[kt]=arguments[kt+2];fe.children=Be}return I(k.type,be,fe)},Se.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,te,re){var fe,be={},Ne=null;if(te!=null)for(fe in te.key!==void 0&&(Ne=""+te.key),te)R.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(be[fe]=te[fe]);var Be=arguments.length-2;if(Be===1)be.children=re;else if(1<Be){for(var kt=Array(Be),ut=0;ut<Be;ut++)kt[ut]=arguments[ut+2];be.children=kt}if(k&&k.defaultProps)for(fe in Be=k.defaultProps,Be)be[fe]===void 0&&(be[fe]=Be[fe]);return I(k,Ne,be)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=M,Se.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:ce}},Se.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},Se.startTransition=function(k){var te=N.T,re={};N.T=re;try{var fe=k(),be=N.S;be!==null&&be(re,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(me,De)}catch(Ne){De(Ne)}finally{te!==null&&re.types!==null&&(te.types=re.types),N.T=te}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(k){return N.H.use(k)},Se.useActionState=function(k,te,re){return N.H.useActionState(k,te,re)},Se.useCallback=function(k,te){return N.H.useCallback(k,te)},Se.useContext=function(k){return N.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,te){return N.H.useDeferredValue(k,te)},Se.useEffect=function(k,te){return N.H.useEffect(k,te)},Se.useEffectEvent=function(k){return N.H.useEffectEvent(k)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(k,te,re){return N.H.useImperativeHandle(k,te,re)},Se.useInsertionEffect=function(k,te){return N.H.useInsertionEffect(k,te)},Se.useLayoutEffect=function(k,te){return N.H.useLayoutEffect(k,te)},Se.useMemo=function(k,te){return N.H.useMemo(k,te)},Se.useOptimistic=function(k,te){return N.H.useOptimistic(k,te)},Se.useReducer=function(k,te,re){return N.H.useReducer(k,te,re)},Se.useRef=function(k){return N.H.useRef(k)},Se.useState=function(k){return N.H.useState(k)},Se.useSyncExternalStore=function(k,te,re){return N.H.useSyncExternalStore(k,te,re)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.3",Se}var E_;function zp(){return E_||(E_=1,jm.exports=ZS()),jm.exports}var x=zp(),Um={exports:{}},Ql={},zm={exports:{}},Bm={};var T_;function JS(){return T_||(T_=1,(function(i){function e(W,se){var ce=W.length;W.push(se);e:for(;0<ce;){var De=ce-1>>>1,ze=W[De];if(0<o(ze,se))W[De]=se,W[ce]=ze,ce=De;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var se=W[0],ce=W.pop();if(ce!==se){W[0]=ce;e:for(var De=0,ze=W.length,k=ze>>>1;De<k;){var te=2*(De+1)-1,re=W[te],fe=te+1,be=W[fe];if(0>o(re,ce))fe<ze&&0>o(be,re)?(W[De]=be,W[fe]=ce,De=fe):(W[De]=re,W[te]=ce,De=te);else if(fe<ze&&0>o(be,ce))W[De]=be,W[fe]=ce,De=fe;else break e}}return se}function o(W,se){var ce=W.sortIndex-se.sortIndex;return ce!==0?ce:W.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,b=null,S=3,C=!1,U=!1,z=!1,q=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=W)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function oe(W){if(z=!1,le(W),!U)if(n(p)!==null)U=!0,me||(me=!0,j());else{var se=n(g);se!==null&&Ye(oe,se.startTime-W)}}var me=!1,N=-1,R=5,I=-1;function P(){return q?!0:!(i.unstable_now()-I<R)}function M(){if(q=!1,me){var W=i.unstable_now();I=W;var se=!0;try{e:{U=!1,z&&(z=!1,Y(N),N=-1),C=!0;var ce=S;try{t:{for(le(W),b=n(p);b!==null&&!(b.expirationTime>W&&P());){var De=b.callback;if(typeof De=="function"){b.callback=null,S=b.priorityLevel;var ze=De(b.expirationTime<=W);if(W=i.unstable_now(),typeof ze=="function"){b.callback=ze,le(W),se=!0;break t}b===n(p)&&s(p),le(W)}else s(p);b=n(p)}if(b!==null)se=!0;else{var k=n(g);k!==null&&Ye(oe,k.startTime-W),se=!1}}break e}finally{b=null,S=ce,C=!1}se=void 0}}finally{se?j():me=!1}}}var j;if(typeof K=="function")j=function(){K(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ge=D.port2;D.port1.onmessage=M,j=function(){ge.postMessage(null)}}else j=function(){F(M,0)};function Ye(W,se){N=F(function(){W(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ce=S;S=se;try{return W()}finally{S=ce}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=S;S=W;try{return se()}finally{S=ce}},i.unstable_scheduleCallback=function(W,se,ce){var De=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,W){case 1:var ze=-1;break;case 2:ze=250;break;case 5:ze=1073741823;break;case 4:ze=1e4;break;default:ze=5e3}return ze=ce+ze,W={id:_++,callback:se,priorityLevel:W,startTime:ce,expirationTime:ze,sortIndex:-1},ce>De?(W.sortIndex=ce,e(g,W),n(p)===null&&W===n(g)&&(z?(Y(N),N=-1):z=!0,Ye(oe,ce-De))):(W.sortIndex=ze,e(p,W),U||C||(U=!0,me||(me=!0,j()))),W},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(W){var se=S;return function(){var ce=S;S=se;try{return W.apply(this,arguments)}finally{S=ce}}}})(Bm)),Bm}var b_;function eA(){return b_||(b_=1,zm.exports=JS()),zm.exports}var qm={exports:{}},en={};var w_;function tA(){if(w_)return en;w_=1;var i=zp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},en.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,b=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.3",en}var S_;function nA(){if(S_)return qm.exports;S_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),qm.exports=tA(),qm.exports}var A_;function iA(){if(A_)return Ql;A_=1;var i=eA(),e=zp(),n=nA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,w=f.child;w;){if(w===a){v=!0,a=f,l=d;break}if(w===l){v=!0,l=f,a=d;break}w=w.sibling}if(!v){for(w=d.child;w;){if(w===a){v=!0,a=d,l=f;break}if(w===l){v=!0,l=d,a=f;break}w=w.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),K=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case F:return"Profiler";case q:return"StrictMode";case oe:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case K:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case le:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return r=t.displayName||null,r!==null?r:ge(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ge(t(r))}catch{}}return null}var Ye=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},De=[],ze=-1;function k(t){return{current:t}}function te(t){0>ze||(t.current=De[ze],De[ze]=null,ze--)}function re(t,r){ze++,De[ze]=t.current,t.current=r}var fe=k(null),be=k(null),Ne=k(null),Be=k(null);function kt(t,r){switch(re(Ne,r),re(be,t),re(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?zv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=zv(r),t=Bv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),re(fe,t)}function ut(){te(fe),te(be),te(Ne)}function Rs(t){t.memoizedState!==null&&re(Be,t);var r=fe.current,a=Bv(r,t.type);r!==a&&(re(be,t),re(fe,a))}function Ta(t){be.current===t&&(te(fe),te(be)),Be.current===t&&(te(Be),ql._currentValue=ce)}var ba,wa;function di(t){if(ba===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ba=r&&r[1]||"",wa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+wa}var qo=!1;function Cs(t,r){if(!t||qo)return"";qo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){Q=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],w=d[1];if(v&&w){var O=v.split(`
`),G=w.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===G.length)for(l=O.length-1,f=G.length-1;1<=l&&0<=f&&O[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==G[f]){var Z=`
`+O[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{qo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?di(a):""}function Ho(t,r){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return t.child!==r&&r!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return Cs(t.type,!1);case 11:return Cs(t.type.render,!1);case 1:return Cs(t.type,!0);case 31:return di("Activity");default:return""}}function Fo(t){try{var r="",a=null;do r+=Ho(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var wt=Object.prototype.hasOwnProperty,Pt=i.unstable_scheduleCallback,Rr=i.unstable_cancelCallback,Uf=i.unstable_shouldYield,Pu=i.unstable_requestPaint,an=i.unstable_now,Ns=i.unstable_getCurrentPriorityLevel,Go=i.unstable_ImmediatePriority,Yo=i.unstable_UserBlockingPriority,Cr=i.unstable_NormalPriority,zf=i.unstable_LowPriority,Lu=i.unstable_IdlePriority,ju=i.log,Uu=i.unstable_setDisableYieldValue,Xn=null,Gt=null;function kn(t){if(typeof ju=="function"&&Uu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Xn,t)}catch{}}var vt=Math.clz32?Math.clz32:Bu,zu=Math.log,Sa=Math.LN2;function Bu(t){return t>>>=0,t===0?32:31-(zu(t)/Sa|0)|0}var mi=256,Is=262144,St=4194304;function pi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?f=pi(l):(v&=w,v!==0?f=pi(v):a||(a=w&~t,a!==0&&(f=pi(a))))):(w=l&~d,w!==0?f=pi(w):v!==0?f=pi(v):a||(a=l&~t,a!==0&&(f=pi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Wn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Bf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qu(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function yi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ds(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qf(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-vt(a),ne=1<<Z;w[Z]=0,O[Z]=-1;var Q=G[Z];if(Q!==null)for(G[Z]=null,Z=0;Z<Q.length;Z++){var X=Q[Z];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&Os(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Os(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-vt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-vt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Ko(t,r){var a=r&-r;return a=(a&42)!==0?1:Ms(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ms(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Hu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:c_(t.type))}function Zn(t,r){var a=se.p;try{return se.p=t,r()}finally{se.p=a}}var Jn=Math.random().toString(36).slice(2),At="__reactFiber$"+Jn,Ut="__reactProps$"+Jn,vi="__reactContainer$"+Jn,Aa="__reactEvents$"+Jn,Hf="__reactListeners$"+Jn,Fu="__reactHandles$"+Jn,Gu="__reactResources$"+Jn,_i="__reactMarker$"+Jn;function xa(t){delete t[At],delete t[Ut],delete t[Aa],delete t[Hf],delete t[Fu]}function Ei(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[vi]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Kv(t);t!==null;){if(a=t[At])return a;t=Kv(t)}return r}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[At]||t[vi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function bn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ti(t){var r=t[Gu];return r||(r=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function xt(t){t[_i]=!0}var $o=new Set,Xo={};function bi(t,r){wi(t,r),wi(t+"Capture",r)}function wi(t,r){for(Xo[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function Yu(t){return wt.call(Jo,t)?!0:wt.call(Zo,t)?!1:Wo.test(t)?Jo[t]=!0:(Zo[t]=!0,!1)}function Ra(t,r,a){if(Yu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function wn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function el(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Xe(t){if(!t._valueTracker){var r=Nr(t)?"checked":"value";t._valueTracker=el(t,r,""+t[r])}}function Vs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Nr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ks=/[\n"\\]/g;function hn(t){return t.replace(ks,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ca(t,r,a,l,f,d,v,w){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+zt(r)):t.value!==""+zt(r)&&(t.value=""+zt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?tl(t,v,zt(r)):a!=null?tl(t,v,zt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+zt(w):t.removeAttribute("name")}function Qu(t,r,a,l,f,d,v,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Xe(t);return}a=a!=null?""+zt(a):"",r=r!=null?""+zt(r):a,w||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function tl(t,r,a){r==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ku(t,r,a){if(r!=null&&(r=""+zt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+zt(a):""}function Dr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=zt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function fn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||$u.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function il(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&nl(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&nl(t,d,r[d])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ia(t){return Or.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ei(){}var rl=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,Ai=null;function Ps(t){var r=Pn(t);if(r&&(t=r.stateNode)){var a=t[Ut]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ca(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Ut]||null;if(!f)throw Error(s(90));Ca(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Vs(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var Da=!1;function Vr(t,r,a){if(Da)return t(r,a);Da=!0;try{var l=t(r);return l}finally{if(Da=!1,(Mr!==null||Ai!==null)&&(Hc(),Mr&&(r=Mr,t=Ai,Ai=Mr=null,Ps(r),t)))for(r=0;r<t.length;r++)Ps(t[r])}}function ti(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ls=!1;if(jn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ls=!1}var xi=null,sl=null,js=null;function al(){if(js)return js;var t,r=sl,a=r.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return js=f.slice(t,1<l?1-l:void 0)}function Us(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function ni(){return!1}function Yt(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:ni,this.isPropagationStopped=ni,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Yt(Qi),kr=b({},Qi,{view:0,detail:0}),ol=Yt(kr),Pr,Oa,Ci,Ma=b({},kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Pr=t.screenX-Ci.screenX,Oa=t.screenY-Ci.screenY):Oa=Pr=0,Ci=t),Pr)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),ll=Yt(Ma),zs=b({},Ma,{dataTransfer:0}),Wu=Yt(zs),Zu=b({},kr,{relatedTarget:0}),Bs=Yt(Zu),ul=b({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=Yt(ul),Va=b({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ec=Yt(Va),tc=b({},Qi,{data:0}),Ni=Yt(tc),nc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=rc[t])?!!r[t]:!1}function Lr(){return sc}var on=b({},kr,{key:function(t){if(t.key){var r=nc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ic[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lr,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ac=Yt(on),oc=b({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Yt(oc),h=b({},kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lr}),y=Yt(h),E=b({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Yt(E),B=b({},Ma,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Yt(B),ae=b({},Qi,{newState:0,oldState:0}),xe=Yt(ae),_t=[9,13,27,32],Qe=jn&&"CompositionEvent"in window,ct=null;jn&&"documentMode"in document&&(ct=document.documentMode);var Un=jn&&"TextEvent"in window&&!ct,Ii=jn&&(!Qe||ct&&8<ct&&11>=ct),ii=" ",ri=!1;function qs(t,r){switch(t){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pa=!1;function Ew(t,r){switch(t){case"compositionend":return ka(r);case"keypress":return r.which!==32?null:(ri=!0,ii);case"textInput":return t=r.data,t===ii&&ri?null:t;default:return null}}function Tw(t,r){if(Pa)return t==="compositionend"||!Qe&&qs(t,r)?(t=al(),js=sl=xi=null,Pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!bw[t.type]:r==="textarea"}function Zg(t,r,a,l){Mr?Ai?Ai.push(l):Ai=[l]:Mr=l,r=Xc(r,"onChange"),0<r.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var cl=null,hl=null;function ww(t){Vv(t,0)}function lc(t){var r=bn(t);if(Vs(r))return t}function Jg(t,r){if(t==="change")return r}var ey=!1;if(jn){var Ff;if(jn){var Gf="oninput"in document;if(!Gf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Gf=typeof ty.oninput=="function"}Ff=Gf}else Ff=!1;ey=Ff&&(!document.documentMode||9<document.documentMode)}function ny(){cl&&(cl.detachEvent("onpropertychange",iy),hl=cl=null)}function iy(t){if(t.propertyName==="value"&&lc(hl)){var r=[];Zg(r,hl,t,Ln(t)),Vr(ww,r)}}function Sw(t,r,a){t==="focusin"?(ny(),cl=r,hl=a,cl.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function Aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return lc(hl)}function xw(t,r){if(t==="click")return lc(r)}function Rw(t,r){if(t==="input"||t==="change")return lc(r)}function Cw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Sn=typeof Object.is=="function"?Object.is:Cw;function fl(t,r){if(Sn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!wt.call(r,f)||!Sn(t[f],r[f]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ay(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Si(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Si(t.document)}return r}function Yf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Nw=jn&&"documentMode"in document&&11>=document.documentMode,La=null,Qf=null,dl=null,Kf=!1;function ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kf||La==null||La!==Si(l)||(l=La,"selectionStart"in l&&Yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&fl(dl,l)||(dl=l,l=Xc(Qf,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=La)))}function Hs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ja={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},$f={},uy={};jn&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Fs(t){if($f[t])return $f[t];if(!ja[t])return t;var r=ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in uy)return $f[t]=r[a];return t}var cy=Fs("animationend"),hy=Fs("animationiteration"),fy=Fs("animationstart"),Iw=Fs("transitionrun"),Dw=Fs("transitionstart"),Ow=Fs("transitioncancel"),dy=Fs("transitionend"),my=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function si(t,r){my.set(t,r),bi(r,[t])}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Ua=0,Wf=0;function cc(){for(var t=Ua,r=Wf=Ua=0;r<t;){var a=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&py(a,f,d)}}function hc(t,r,a,l){zn[Ua++]=t,zn[Ua++]=r,zn[Ua++]=a,zn[Ua++]=l,Wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zf(t,r,a,l){return hc(t,r,a,l),fc(t)}function Gs(t,r){return hc(t,null,null,r),fc(t)}function py(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-vt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function fc(t){if(50<kl)throw kl=0,om=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var za={};function Mw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,r,a,l){return new Mw(t,r,a,l)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,r){var a=t.alternate;return a===null?(a=An(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function dc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Jf(t)&&(v=1);else if(typeof t=="string")v=jS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=An(31,a,r,f),t.elementType=I,t.lanes=d,t;case z:return Ys(a.children,f,d,r);case q:v=8,f|=24;break;case F:return t=An(12,a,r,f|2),t.elementType=F,t.lanes=d,t;case oe:return t=An(13,a,r,f),t.elementType=oe,t.lanes=d,t;case me:return t=An(19,a,r,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:v=10;break e;case Y:v=9;break e;case le:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=An(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Ys(t,r,a,l){return t=An(7,t,l,r),t.lanes=a,t}function ed(t,r,a){return t=An(6,t,null,r),t.lanes=a,t}function yy(t){var r=An(18,null,null,0);return r.stateNode=t,r}function td(t,r,a){return r=An(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var vy=new WeakMap;function Bn(t,r){if(typeof t=="object"&&t!==null){var a=vy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Fo(r)},vy.set(t,r),r)}return{value:t,source:r,stack:Fo(r)}}var Ba=[],qa=0,mc=null,ml=0,qn=[],Hn=0,jr=null,Di=1,Oi="";function Xi(t,r){Ba[qa++]=ml,Ba[qa++]=mc,mc=t,ml=r}function _y(t,r,a){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=jr,jr=t;var l=Di;t=Oi;var f=32-vt(l)-1;l&=~(1<<f),a+=1;var d=32-vt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Di=1<<32-vt(r)+f|a<<f|l,Oi=d+t}else Di=1<<d|a<<f|l,Oi=t}function nd(t){t.return!==null&&(Xi(t,1),_y(t,1,0))}function id(t){for(;t===mc;)mc=Ba[--qa],Ba[qa]=null,ml=Ba[--qa],Ba[qa]=null;for(;t===jr;)jr=qn[--Hn],qn[Hn]=null,Oi=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null}function Ey(t,r){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=jr,Di=r.id,Oi=r.overflow,jr=t}var Qt=null,ot=null,Ue=!1,Ur=null,Fn=!1,rd=Error(s(519));function zr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(Bn(r,t)),rd}function Ty(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[Ut]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Me(Ll[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Qu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Dr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||jv(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=ei),r=!0):r=!1,r||zr(t,!0)}function by(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Qt=Qt.return}}function Ha(t){if(t!==Qt)return!1;if(!Ue)return by(t),Ue=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bm(t.type,t.memoizedProps)),a=!a),a&&ot&&zr(t),by(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Qv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ot=Qv(t)}else r===27?(r=ot,es(t.type)?(t=Rm,Rm=null,ot=t):ot=r):ot=Qt?Yn(t.stateNode.nextSibling):null;return!0}function Qs(){ot=Qt=null,Ue=!1}function sd(){var t=Ur;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ur=null),t}function pl(t){Ur===null?Ur=[t]:Ur.push(t)}var ad=k(null),Ks=null,Wi=null;function Br(t,r,a){re(ad,r._currentValue),r._currentValue=a}function Zi(t){t._currentValue=ad.current,te(ad)}function od(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ld(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=f;for(var O=0;O<r.length;O++)if(w.context===r[O]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),od(d.return,a,t),l||(v=null);break e}d=w.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),od(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Fa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var w=f.type;Sn(f.pendingProps.value,v.value)||(t!==null?t.push(w):t=[w])}}else if(f===Be.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}f=f.return}t!==null&&ld(r,t,a,l),r.flags|=262144}function pc(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $s(t){Ks=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return wy(Ks,t)}function gc(t,r){return Ks===null&&$s(t),wy(t,r)}function wy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Wi=Wi.next=r;return a}var Vw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},kw=i.unstable_scheduleCallback,Pw=i.unstable_NormalPriority,Ct={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Vw,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&kw(Pw,function(){t.controller.abort()})}var yl=null,cd=0,Ga=0,Ya=null;function Lw(t,r){if(yl===null){var a=yl=[];cd=0,Ga=dm(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,r.then(Sy,Sy),r}function Sy(){if(--cd===0&&yl!==null){Ya!==null&&(Ya.status="fulfilled");var t=yl;yl=null,Ga=0,Ya=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function jw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ay=W.S;W.S=function(t,r){lv=an(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lw(t,r),Ay!==null&&Ay(t,r)};var Xs=k(null);function hd(){var t=Xs.current;return t!==null?t:st.pooledCache}function yc(t,r){r===null?re(Xs,Xs.current):re(Xs,r.pool)}function xy(){var t=hd();return t===null?null:{parent:Ct._currentValue,pool:t}}var Qa=Error(s(460)),fd=Error(s(474)),vc=Error(s(542)),_c={then:function(){}};function Ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ei,ei),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Iy(t),t;default:if(typeof r.status=="string")r.then(ei,ei);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Iy(t),t}throw Zs=r,Qa}}function Ws(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Zs=a,Qa):a}}var Zs=null;function Ny(){if(Zs===null)throw Error(s(459));var t=Zs;return Zs=null,t}function Iy(t){if(t===Qa||t===vc)throw Error(s(483))}var Ka=null,vl=0;function Ec(t){var r=vl;return vl+=1,Ka===null&&(Ka=[]),Cy(Ka,t,r)}function _l(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Dy(t){function r(L,V){if(t){var H=L.deletions;H===null?(L.deletions=[V],L.flags|=16):H.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function f(L,V){return L=$i(L,V),L.index=0,L.sibling=null,L}function d(L,V,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<V?(L.flags|=67108866,V):H):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function w(L,V,H,J){return V===null||V.tag!==6?(V=ed(H,L.mode,J),V.return=L,V):(V=f(V,H),V.return=L,V)}function O(L,V,H,J){var ye=H.type;return ye===z?Z(L,V,H.props.children,J,H.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ws(ye)===V.type)?(V=f(V,H.props),_l(V,H),V.return=L,V):(V=dc(H.type,H.key,H.props,null,L.mode,J),_l(V,H),V.return=L,V)}function G(L,V,H,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=td(H,L.mode,J),V.return=L,V):(V=f(V,H.children||[]),V.return=L,V)}function Z(L,V,H,J,ye){return V===null||V.tag!==7?(V=Ys(H,L.mode,J,ye),V.return=L,V):(V=f(V,H),V.return=L,V)}function ne(L,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ed(""+V,L.mode,H),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case C:return H=dc(V.type,V.key,V.props,null,L.mode,H),_l(H,V),H.return=L,H;case U:return V=td(V,L.mode,H),V.return=L,V;case R:return V=Ws(V),ne(L,V,H)}if(Ye(V)||j(V))return V=Ys(V,L.mode,H,null),V.return=L,V;if(typeof V.then=="function")return ne(L,Ec(V),H);if(V.$$typeof===K)return ne(L,gc(L,V),H);Tc(L,V)}return null}function Q(L,V,H,J){var ye=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:w(L,V,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return H.key===ye?O(L,V,H,J):null;case U:return H.key===ye?G(L,V,H,J):null;case R:return H=Ws(H),Q(L,V,H,J)}if(Ye(H)||j(H))return ye!==null?null:Z(L,V,H,J,null);if(typeof H.then=="function")return Q(L,V,Ec(H),J);if(H.$$typeof===K)return Q(L,V,gc(L,H),J);Tc(L,H)}return null}function X(L,V,H,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,w(V,L,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case C:return L=L.get(J.key===null?H:J.key)||null,O(V,L,J,ye);case U:return L=L.get(J.key===null?H:J.key)||null,G(V,L,J,ye);case R:return J=Ws(J),X(L,V,H,J,ye)}if(Ye(J)||j(J))return L=L.get(H)||null,Z(V,L,J,ye,null);if(typeof J.then=="function")return X(L,V,H,Ec(J),ye);if(J.$$typeof===K)return X(L,V,H,gc(V,J),ye);Tc(V,J)}return null}function de(L,V,H,J){for(var ye=null,Fe=null,pe=V,Ie=V=0,ke=null;pe!==null&&Ie<H.length;Ie++){pe.index>Ie?(ke=pe,pe=null):ke=pe.sibling;var Ge=Q(L,pe,H[Ie],J);if(Ge===null){pe===null&&(pe=ke);break}t&&pe&&Ge.alternate===null&&r(L,pe),V=d(Ge,V,Ie),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,pe=ke}if(Ie===H.length)return a(L,pe),Ue&&Xi(L,Ie),ye;if(pe===null){for(;Ie<H.length;Ie++)pe=ne(L,H[Ie],J),pe!==null&&(V=d(pe,V,Ie),Fe===null?ye=pe:Fe.sibling=pe,Fe=pe);return Ue&&Xi(L,Ie),ye}for(pe=l(pe);Ie<H.length;Ie++)ke=X(pe,L,Ie,H[Ie],J),ke!==null&&(t&&ke.alternate!==null&&pe.delete(ke.key===null?Ie:ke.key),V=d(ke,V,Ie),Fe===null?ye=ke:Fe.sibling=ke,Fe=ke);return t&&pe.forEach(function(ss){return r(L,ss)}),Ue&&Xi(L,Ie),ye}function _e(L,V,H,J){if(H==null)throw Error(s(151));for(var ye=null,Fe=null,pe=V,Ie=V=0,ke=null,Ge=H.next();pe!==null&&!Ge.done;Ie++,Ge=H.next()){pe.index>Ie?(ke=pe,pe=null):ke=pe.sibling;var ss=Q(L,pe,Ge.value,J);if(ss===null){pe===null&&(pe=ke);break}t&&pe&&ss.alternate===null&&r(L,pe),V=d(ss,V,Ie),Fe===null?ye=ss:Fe.sibling=ss,Fe=ss,pe=ke}if(Ge.done)return a(L,pe),Ue&&Xi(L,Ie),ye;if(pe===null){for(;!Ge.done;Ie++,Ge=H.next())Ge=ne(L,Ge.value,J),Ge!==null&&(V=d(Ge,V,Ie),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return Ue&&Xi(L,Ie),ye}for(pe=l(pe);!Ge.done;Ie++,Ge=H.next())Ge=X(pe,L,Ie,Ge.value,J),Ge!==null&&(t&&Ge.alternate!==null&&pe.delete(Ge.key===null?Ie:Ge.key),V=d(Ge,V,Ie),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&pe.forEach(function($S){return r(L,$S)}),Ue&&Xi(L,Ie),ye}function it(L,V,H,J){if(typeof H=="object"&&H!==null&&H.type===z&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case C:e:{for(var ye=H.key;V!==null;){if(V.key===ye){if(ye=H.type,ye===z){if(V.tag===7){a(L,V.sibling),J=f(V,H.props.children),J.return=L,L=J;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ws(ye)===V.type){a(L,V.sibling),J=f(V,H.props),_l(J,H),J.return=L,L=J;break e}a(L,V);break}else r(L,V);V=V.sibling}H.type===z?(J=Ys(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=dc(H.type,H.key,H.props,null,L.mode,J),_l(J,H),J.return=L,L=J)}return v(L);case U:e:{for(ye=H.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(L,V.sibling),J=f(V,H.children||[]),J.return=L,L=J;break e}else{a(L,V);break}else r(L,V);V=V.sibling}J=td(H,L.mode,J),J.return=L,L=J}return v(L);case R:return H=Ws(H),it(L,V,H,J)}if(Ye(H))return de(L,V,H,J);if(j(H)){if(ye=j(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),_e(L,V,H,J)}if(typeof H.then=="function")return it(L,V,Ec(H),J);if(H.$$typeof===K)return it(L,V,gc(L,H),J);Tc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(L,V.sibling),J=f(V,H),J.return=L,L=J):(a(L,V),J=ed(H,L.mode,J),J.return=L,L=J),v(L)):a(L,V)}return function(L,V,H,J){try{vl=0;var ye=it(L,V,H,J);return Ka=null,ye}catch(pe){if(pe===Qa||pe===vc)throw pe;var Fe=An(29,pe,null,L.mode);return Fe.lanes=J,Fe.return=L,Fe}}}var Js=Dy(!0),Oy=Dy(!1),qr=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=fc(t),py(t,null,a),r}return hc(t,l,r,a),fc(t)}function El(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}function pd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var gd=!1;function Tl(){if(gd){var t=Ya;if(t!==null)throw t}}function bl(t,r,a,l){gd=!1;var f=t.updateQueue;qr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var O=w,G=O.next;O.next=null,v===null?d=G:v.next=G,v=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==v&&(w===null?Z.firstBaseUpdate=G:w.next=G,Z.lastBaseUpdate=O))}if(d!==null){var ne=f.baseState;v=0,Z=G=O=null,w=d;do{var Q=w.lane&-536870913,X=Q!==w.lane;if(X?(Ve&Q)===Q:(l&Q)===Q){Q!==0&&Q===Ga&&(gd=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var de=t,_e=w;Q=r;var it=a;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ne=de.call(it,ne,Q);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,Q=typeof de=="function"?de.call(it,ne,Q):de,Q==null)break e;ne=b({},ne,Q);break e;case 2:qr=!0}}Q=w.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(G=Z=X,O=ne):Z=Z.next=X,v|=Q;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;X=w,w=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(O=ne),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),$r|=v,t.lanes=v,t.memoizedState=ne}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Vy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var $a=k(null),bc=k(0);function ky(t,r){t=or,re(bc,t),re($a,r),or=t|r.baseLanes}function yd(){re(bc,or),re($a,$a.current)}function vd(){or=bc.current,te($a),te(bc)}var xn=k(null),Gn=null;function Gr(t){var r=t.alternate;re(Et,Et.current&1),re(xn,t),Gn===null&&(r===null||$a.current!==null||r.memoizedState!==null)&&(Gn=t)}function _d(t){re(Et,Et.current),re(xn,t),Gn===null&&(Gn=t)}function Py(t){t.tag===22?(re(Et,Et.current),re(xn,t),Gn===null&&(Gn=t)):Yr()}function Yr(){re(Et,Et.current),re(xn,xn.current)}function Rn(t){te(xn),Gn===t&&(Gn=null),te(Et)}var Et=k(0);function wc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||xm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ji=0,Re=null,tt=null,Nt=null,Sc=!1,Xa=!1,ea=!1,Ac=0,wl=0,Wa=null,Uw=0;function pt(){throw Error(s(321))}function Ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Sn(t[a],r[a]))return!1;return!0}function Td(t,r,a,l,f,d){return Ji=d,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?_0:Pd,ea=!1,d=a(l,f),ea=!1,Xa&&(d=jy(r,a,l,f)),Ly(t),d}function Ly(t){W.H=xl;var r=tt!==null&&tt.next!==null;if(Ji=0,Nt=tt=Re=null,Sc=!1,wl=0,Wa=null,r)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&pc(t)&&(It=!0))}function jy(t,r,a,l){Re=t;var f=0;do{if(Xa&&(Wa=null),wl=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,Nt=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=E0,d=r(a,l)}while(Xa);return d}function zw(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?Sl(r):r,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Re.flags|=1024),r}function bd(){var t=Ac!==0;return Ac=0,t}function wd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Sd(t){if(Sc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Sc=!1}Ji=0,Nt=tt=Re=null,Xa=!1,wl=Ac=0,Wa=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Tt(){if(tt===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var r=Nt===null?Re.memoizedState:Nt.next;if(r!==null)Nt=r,tt=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Nt===null?Re.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var r=wl;return wl+=1,Wa===null&&(Wa=[]),t=Cy(Wa,t,r),r=Re,(Nt===null?r.memoizedState:Nt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?_0:Pd),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===K)return Kt(t)}throw Error(s(438,String(t)))}function Ad(t){var r=null,a=Re.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=xc(),Re.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function er(t,r){return typeof r=="function"?r(t):r}function Cc(t){var r=Tt();return xd(r,tt,t)}function xd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var w=v=null,O=null,G=r,Z=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Ve&ne)===ne:(Ji&ne)===ne){var Q=G.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===Ga&&(Z=!0);else if((Ji&Q)===Q){G=G.next,Q===Ga&&(Z=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=ne,v=d):O=O.next=ne,Re.lanes|=Q,$r|=Q;ne=G.action,ea&&a(d,ne),d=G.hasEagerState?G.eagerState:a(d,ne)}else Q={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(w=O=Q,v=d):O=O.next=Q,Re.lanes|=ne,$r|=ne;G=G.next}while(G!==null&&G!==r);if(O===null?v=d:O.next=w,!Sn(d,t.memoizedState)&&(It=!0,Z&&(a=Ya,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rd(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Sn(d,r.memoizedState)||(It=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Uy(t,r,a){var l=Re,f=Tt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Sn((tt||f).memoizedState,a);if(v&&(f.memoizedState=a,It=!0),f=f.queue,Id(qy.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,Za(9,{destroy:void 0},By.bind(null,l,f,a,r),null),st===null)throw Error(s(349));d||(Ji&127)!==0||zy(l,r,a)}return a}function zy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Re.updateQueue,r===null?(r=xc(),Re.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function By(t,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&Fy(t)}function qy(t,r,a){return a(function(){Hy(r)&&Fy(t)})}function Hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Sn(t,a)}catch{return!0}}function Fy(t){var r=Gs(t,2);r!==null&&yn(r,t,2)}function Cd(t){var r=ln();if(typeof t=="function"){var a=t;if(t=a(),ea){kn(!0);try{a()}finally{kn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:t},r}function Gy(t,r,a,l){return t.baseState=a,xd(t,tt,typeof l=="function"?l:er)}function Bw(t,r,a,l,f){if(Dc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Yy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Yy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var w=a(f,l),O=W.S;O!==null&&O(v,w),Qy(t,r,w)}catch(G){Nd(t,r,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),W.T=d}}else try{d=a(f,l),Qy(t,r,d)}catch(G){Nd(t,r,G)}}function Qy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ky(t,r,l)},function(l){return Nd(t,r,l)}):Ky(t,r,a)}function Ky(t,r,a){r.status="fulfilled",r.value=a,$y(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Yy(t,a)))}function Nd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$y(r),r=r.next;while(r!==l)}t.action=null}function $y(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xy(t,r){return r}function Wy(t,r){if(Ue){var a=st.formState;if(a!==null){e:{var l=Re;if(Ue){if(ot){t:{for(var f=ot,d=Fn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Yn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ot=Yn(f.nextSibling),l=f.data==="F!";break e}}zr(l)}l=!1}l&&(r=a[0])}}return a=ln(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=l,a=g0.bind(null,Re,l),l.dispatch=a,l=Cd(!1),d=kd.bind(null,Re,!1,l.queue),l=ln(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Bw.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Zy(t){var r=Tt();return Jy(r,tt,t)}function Jy(t,r,a){if(r=xd(t,r,Xy)[0],t=Cc(er)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Sl(r)}catch(v){throw v===Qa?vc:v}else l=r;r=Tt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Re.flags|=2048,Za(9,{destroy:void 0},qw.bind(null,f,a),null)),[l,d,t]}function qw(t,r){t.action=r}function e0(t){var r=Tt(),a=tt;if(a!==null)return Jy(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Za(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Re.updateQueue,r===null&&(r=xc(),Re.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function t0(){return Tt().memoizedState}function Nc(t,r,a,l){var f=ln();Re.flags|=t,f.memoizedState=Za(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ic(t,r,a,l){var f=Tt();l=l===void 0?null:l;var d=f.memoizedState.inst;tt!==null&&l!==null&&Ed(l,tt.memoizedState.deps)?f.memoizedState=Za(r,d,a,l):(Re.flags|=t,f.memoizedState=Za(1|r,d,a,l))}function n0(t,r){Nc(8390656,8,t,r)}function Id(t,r){Ic(2048,8,t,r)}function Hw(t){Re.flags|=4;var r=Re.updateQueue;if(r===null)r=xc(),Re.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function i0(t){var r=Tt().memoizedState;return Hw({ref:r,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function r0(t,r){return Ic(4,2,t,r)}function s0(t,r){return Ic(4,4,t,r)}function a0(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function o0(t,r,a){a=a!=null?a.concat([t]):null,Ic(4,4,a0.bind(null,r,t),a)}function Dd(){}function l0(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function u0(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=t(),ea){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l}function Od(t,r,a){return a===void 0||(Ji&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=cv(),Re.lanes|=t,$r|=t,a)}function c0(t,r,a,l){return Sn(a,r)?a:$a.current!==null?(t=Od(t,a,l),Sn(t,r)||(It=!0),t):(Ji&42)===0||(Ji&1073741824)!==0&&(Ve&261930)===0?(It=!0,t.memoizedState=a):(t=cv(),Re.lanes|=t,$r|=t,r)}function h0(t,r,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var v=W.T,w={};W.T=w,kd(t,!1,r,a);try{var O=f(),G=W.S;if(G!==null&&G(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=jw(O,l);Al(t,r,Z,In(t))}else Al(t,r,l,In(t))}catch(ne){Al(t,r,{then:function(){},status:"rejected",reason:ne},In())}finally{se.p=d,v!==null&&w.types!==null&&(v.types=w.types),W.T=v}}function Fw(){}function Md(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=f0(t).queue;h0(t,f,r,ce,a===null?Fw:function(){return d0(t),a(l)})}function f0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function d0(t){var r=f0(t);r.next===null&&(r=t.alternate.memoizedState),Al(t,r.next.queue,{},In())}function Vd(){return Kt(ql)}function m0(){return Tt().memoizedState}function p0(){return Tt().memoizedState}function Gw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=Hr(a);var l=Fr(r,t,a);l!==null&&(yn(l,r,a),El(l,r,a)),r={cache:ud()},t.payload=r;return}r=r.return}}function Yw(t,r,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dc(t)?y0(r,a):(a=Zf(t,r,a,l),a!==null&&(yn(a,t,l),v0(a,r,l)))}function g0(t,r,a){var l=In();Al(t,r,a,l)}function Al(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dc(t))y0(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,w=d(v,a);if(f.hasEagerState=!0,f.eagerState=w,Sn(w,v))return hc(t,r,f,0),st===null&&cc(),!1}catch{}if(a=Zf(t,r,f,l),a!==null)return yn(a,t,l),v0(a,r,l),!0}return!1}function kd(t,r,a,l){if(l={lane:2,revertLane:dm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Dc(t)){if(r)throw Error(s(479))}else r=Zf(t,a,l,2),r!==null&&yn(r,t,2)}function Dc(t){var r=t.alternate;return t===Re||r!==null&&r===Re}function y0(t,r){Xa=Sc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function v0(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}var xl={readContext:Kt,use:Rc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};xl.useEffectEvent=pt;var _0={readContext:Kt,use:Rc,useCallback:function(t,r){return ln().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:n0,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Nc(4194308,4,a0.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Nc(4194308,4,t,r)},useInsertionEffect:function(t,r){Nc(4,2,t,r)},useMemo:function(t,r){var a=ln();r=r===void 0?null:r;var l=t();if(ea){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=ln();if(a!==void 0){var f=a(r);if(ea){kn(!0);try{a(r)}finally{kn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Yw.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var r=ln();return t={current:t},r.memoizedState=t},useState:function(t){t=Cd(t);var r=t.queue,a=g0.bind(null,Re,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Dd,useDeferredValue:function(t,r){var a=ln();return Od(a,t,r)},useTransition:function(){var t=Cd(!1);return t=h0.bind(null,Re,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Re,f=ln();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),st===null)throw Error(s(349));(Ve&127)!==0||zy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,n0(qy.bind(null,l,d,t),[t]),l.flags|=2048,Za(9,{destroy:void 0},By.bind(null,l,d,a,r),null),a},useId:function(){var t=ln(),r=st.identifierPrefix;if(Ue){var a=Oi,l=Di;a=(l&~(1<<32-vt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ac++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Uw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Vd,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=ln();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=kd.bind(null,Re,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ad,useCacheRefresh:function(){return ln().memoizedState=Gw.bind(null,Re)},useEffectEvent:function(t){var r=ln(),a={impl:t};return r.memoizedState=a,function(){if((Ke&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Pd={readContext:Kt,use:Rc,useCallback:l0,useContext:Kt,useEffect:Id,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:s0,useMemo:u0,useReducer:Cc,useRef:t0,useState:function(){return Cc(er)},useDebugValue:Dd,useDeferredValue:function(t,r){var a=Tt();return c0(a,tt.memoizedState,t,r)},useTransition:function(){var t=Cc(er)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:Uy,useId:m0,useHostTransitionStatus:Vd,useFormState:Zy,useActionState:Zy,useOptimistic:function(t,r){var a=Tt();return Gy(a,tt,t,r)},useMemoCache:Ad,useCacheRefresh:p0};Pd.useEffectEvent=i0;var E0={readContext:Kt,use:Rc,useCallback:l0,useContext:Kt,useEffect:Id,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:s0,useMemo:u0,useReducer:Rd,useRef:t0,useState:function(){return Rd(er)},useDebugValue:Dd,useDeferredValue:function(t,r){var a=Tt();return tt===null?Od(a,t,r):c0(a,tt.memoizedState,t,r)},useTransition:function(){var t=Rd(er)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:Sl(t),r]},useSyncExternalStore:Uy,useId:m0,useHostTransitionStatus:Vd,useFormState:e0,useActionState:e0,useOptimistic:function(t,r){var a=Tt();return tt!==null?Gy(a,tt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:p0};E0.useEffectEvent=i0;function Ld(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),f=Hr(l);f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(yn(r,t,l),El(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),f=Hr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Fr(t,f,l),r!==null&&(yn(r,t,l),El(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=Hr(a);l.tag=2,r!=null&&(l.callback=r),r=Fr(t,l,a),r!==null&&(yn(r,t,a),El(r,t,a))}};function T0(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!fl(a,l)||!fl(f,d):!0}function b0(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&jd.enqueueReplaceState(r,r.state,null)}function ta(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function w0(t){uc(t)}function S0(t){console.error(t)}function A0(t){uc(t)}function Oc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function x0(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(t,r,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Oc(t,r)},a}function R0(t){return t=Hr(t),t.tag=3,t}function C0(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){x0(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){x0(r,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Qw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Fa(r,a,f,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Fc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(t,l,f)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(t,l,f)),!1}throw Error(s(435,a.tag))}return cm(t,l,f),Fc(),!1}if(Ue)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==rd&&(t=Error(s(422),{cause:l}),pl(Bn(t,a)))):(l!==rd&&(r=Error(s(423),{cause:l}),pl(Bn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Bn(l,a),f=Ud(t.stateNode,l,f),pd(t,f),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),Vl===null?Vl=[d]:Vl.push(d),gt!==4&&(gt=2),r===null)return!0;l=Bn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ud(a.stateNode,l,t),pd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=R0(f),C0(f,t,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var zd=Error(s(461)),It=!1;function $t(t,r,a,l){r.child=t===null?Oy(r,null,a,l):Js(r,t.child,a,l)}function N0(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var w in l)w!=="ref"&&(v[w]=l[w])}else v=l;return $s(r),l=Td(t,r,a,v,d,f),w=bd(),t!==null&&!It?(wd(t,r,f),tr(t,r,f)):(Ue&&w&&nd(r),r.flags|=1,$t(t,r,l,f),r.child)}function I0(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,D0(t,r,d,l,f)):(t=dc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Kd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(v,l)&&t.ref===r.ref)return tr(t,r,f)}return r.flags|=1,t=$i(d,l),t.ref=r.ref,t.return=r,r.child=t}function D0(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(fl(d,l)&&t.ref===r.ref)if(It=!1,r.pendingProps=l=d,Kd(t,f))(t.flags&131072)!==0&&(It=!0);else return r.lanes=t.lanes,tr(t,r,f)}return Bd(t,r,a,l,f)}function O0(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return M0(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(r,d!==null?d.cachePool:null),d!==null?ky(r,d):yd(),Py(r);else return l=r.lanes=536870912,M0(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(yc(r,d.cachePool),ky(r,d),Yr(),r.memoizedState=null):(t!==null&&yc(r,null),yd(),Yr());return $t(t,r,f,a),r.child}function Rl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function M0(t,r,a,l,f){var d=hd();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&yc(r,null),yd(),Py(r),t!==null&&Fa(t,r,l,!0),r.childLanes=f,null}function Mc(t,r){return r=kc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function V0(t,r,a){return Js(r,t.child,null,a),t=Mc(r,r.pendingProps),t.flags|=2,Rn(r),r.memoizedState=null,t}function Kw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Mc(r,l),r.lanes=536870912,Rl(null,t);if(_d(r),(t=ot)?(t=Yv(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Qt=r,ot=null)):t=null,t===null)throw zr(r);return r.lanes=536870912,null}return Mc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(_d(r),f)if(r.flags&256)r.flags&=-257,r=V0(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(It||Fa(t,r,a,!1),f=(a&t.childLanes)!==0,It||f){if(l=st,l!==null&&(v=Ko(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Gs(t,v),yn(l,t,v),zd;Fc(),r=V0(t,r,a)}else t=d.treeContext,ot=Yn(v.nextSibling),Qt=r,Ue=!0,Ur=null,Fn=!1,t!==null&&Ey(r,t),r=Mc(r,l),r.flags|=4096;return r}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Vc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Bd(t,r,a,l,f){return $s(r),a=Td(t,r,a,l,void 0,f),l=bd(),t!==null&&!It?(wd(t,r,f),tr(t,r,f)):(Ue&&l&&nd(r),r.flags|=1,$t(t,r,a,f),r.child)}function k0(t,r,a,l,f,d){return $s(r),r.updateQueue=null,a=jy(r,l,a,f),Ly(t),l=bd(),t!==null&&!It?(wd(t,r,d),tr(t,r,d)):(Ue&&l&&nd(r),r.flags|=1,$t(t,r,a,d),r.child)}function P0(t,r,a,l,f){if($s(r),r.stateNode===null){var d=za,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},dd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):za,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ld(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&jd.enqueueReplaceState(d,d.state,null),bl(r,l,d,f),Tl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var w=r.memoizedProps,O=ta(a,w);d.props=O;var G=d.context,Z=a.contextType;v=za,typeof Z=="object"&&Z!==null&&(v=Kt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||G!==v)&&b0(r,d,l,v),qr=!1;var Q=r.memoizedState;d.state=Q,bl(r,l,d,f),Tl(),G=r.memoizedState,w||Q!==G||qr?(typeof ne=="function"&&(Ld(r,a,ne,l),G=r.memoizedState),(O=qr||T0(r,a,O,l,Q,G,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,md(t,r),v=r.memoizedProps,Z=ta(a,v),d.props=Z,ne=r.pendingProps,Q=d.context,G=a.contextType,O=za,typeof G=="object"&&G!==null&&(O=Kt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||Q!==O)&&b0(r,d,l,O),qr=!1,Q=r.memoizedState,d.state=Q,bl(r,l,d,f),Tl();var X=r.memoizedState;v!==ne||Q!==X||qr||t!==null&&t.dependencies!==null&&pc(t.dependencies)?(typeof w=="function"&&(Ld(r,a,w,l),X=r.memoizedState),(Z=qr||T0(r,a,Z,l,Q,X,O)||t!==null&&t.dependencies!==null&&pc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=O,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Vc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Js(r,t.child,null,f),r.child=Js(r,null,a,f)):$t(t,r,a,f),r.memoizedState=d.state,t=r.child):t=tr(t,r,f),t}function L0(t,r,a,l){return Qs(),r.flags|=256,$t(t,r,a,l),r.child}var qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(t){return{baseLanes:t,cachePool:xy()}}function Fd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function j0(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ue){if(f?Gr(r):Yr(),(t=ot)?(t=Yv(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:jr!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,Qt=r,ot=null)):t=null,t===null)throw zr(r);return xm(t)?r.lanes=32:r.lanes=536870912,null}var w=l.children;return l=l.fallback,f?(Yr(),f=r.mode,w=kc({mode:"hidden",children:w},f),l=Ys(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(t,v,a),r.memoizedState=qd,Rl(null,l)):(Gr(r),Gd(r,w))}var O=t.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(d)r.flags&256?(Gr(r),r.flags&=-257,r=Yd(t,r,a)):r.memoizedState!==null?(Yr(),r.child=t.child,r.flags|=128,r=null):(Yr(),w=l.fallback,f=r.mode,l=kc({mode:"visible",children:l.children},f),w=Ys(w,f,a,null),w.flags|=2,l.return=r,w.return=r,l.sibling=w,r.child=l,Js(r,t.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=Fd(t,v,a),r.memoizedState=qd,r=Rl(null,l));else if(Gr(r),xm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,pl({value:l,source:null,stack:null}),r=Yd(t,r,a)}else if(It||Fa(t,r,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=st,v!==null&&(l=Ko(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Gs(t,l),yn(v,t,l),zd;Am(w)||Fc(),r=Yd(t,r,a)}else Am(w)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ot=Yn(w.nextSibling),Qt=r,Ue=!0,Ur=null,Fn=!1,t!==null&&Ey(r,t),r=Gd(r,l.children),r.flags|=4096);return r}return f?(Yr(),w=l.fallback,f=r.mode,O=t.child,G=O.sibling,l=$i(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,G!==null?w=$i(G,w):(w=Ys(w,f,a,null),w.flags|=2),w.return=r,l.return=r,l.sibling=w,r.child=l,Rl(null,l),l=r.child,w=t.child.memoizedState,w===null?w=Hd(a):(f=w.cachePool,f!==null?(O=Ct._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=xy(),w={baseLanes:w.baseLanes|a,cachePool:f}),l.memoizedState=w,l.childLanes=Fd(t,v,a),r.memoizedState=qd,Rl(t.child,l)):(Gr(r),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Gd(t,r){return r=kc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function kc(t,r){return t=An(22,t,null,r),t.lanes=0,t}function Yd(t,r,a){return Js(r,t.child,null,a),t=Gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function U0(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),od(t.return,r,a)}function Qd(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function z0(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Et.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,re(Et,v),$t(t,r,l,a),l=Ue?ml:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&U0(t,a,r);else if(t.tag===19)U0(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Qd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Qd(r,!0,a,null,d,l);break;case"together":Qd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function tr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),$r|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Fa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=$i(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&pc(t)))}function $w(t,r,a){switch(r.tag){case 3:kt(r,r.stateNode.containerInfo),Br(r,Ct,t.memoizedState.cache),Qs();break;case 27:case 5:Rs(r);break;case 4:kt(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_d(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?j0(t,r,a):(Gr(r),t=tr(t,r,a),t!==null?t.sibling:null);Gr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Fa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return z0(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Et,Et.current),l)break;return null;case 22:return r.lanes=0,O0(t,r,a,r.pendingProps);case 24:Br(r,Ct,t.memoizedState.cache)}return tr(t,r,a)}function B0(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)It=!0;else{if(!Kd(t,a)&&(r.flags&128)===0)return It=!1,$w(t,r,a);It=(t.flags&131072)!==0}else It=!1,Ue&&(r.flags&1048576)!==0&&_y(r,ml,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ws(r.elementType),r.type=t,typeof t=="function")Jf(t)?(l=ta(t,l),r.tag=1,r=P0(null,r,t,l,a)):(r.tag=0,r=Bd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===le){r.tag=11,r=N0(null,r,t,l,a);break e}else if(f===N){r.tag=14,r=I0(null,r,t,l,a);break e}}throw r=ge(t)||t,Error(s(306,r,""))}}return r;case 0:return Bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ta(l,r.pendingProps),P0(t,r,l,f,a);case 3:e:{if(kt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,md(t,r),bl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Br(r,Ct,l),l!==d.cache&&ld(r,[Ct],a,!0),Tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=L0(t,r,l,a);break e}else if(l!==f){f=Bn(Error(s(424)),r),pl(f),r=L0(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ot=Yn(t.firstChild),Qt=r,Ue=!0,Ur=null,Fn=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Qs(),l===f){r=tr(t,r,a);break e}$t(t,r,l,a)}r=r.child}return r;case 26:return Vc(t,r),t===null?(a=Zv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ue||(a=r.type,t=r.pendingProps,l=Wc(Ne.current).createElement(a),l[At]=r,l[Ut]=t,Xt(l,a,t),xt(l),r.stateNode=l):r.memoizedState=Zv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Rs(r),t===null&&Ue&&(l=r.stateNode=$v(r.type,r.pendingProps,Ne.current),Qt=r,Fn=!0,f=ot,es(r.type)?(Rm=f,ot=Yn(l.firstChild)):ot=f),$t(t,r,r.pendingProps.children,a),Vc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ue&&((f=l=ot)&&(l=AS(l,r.type,r.pendingProps,Fn),l!==null?(r.stateNode=l,Qt=r,ot=Yn(l.firstChild),Fn=!1,f=!0):f=!1),f||zr(r)),Rs(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,bm(f,d)?l=null:v!==null&&bm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Td(t,r,zw,null,null,a),ql._currentValue=f),Vc(t,r),$t(t,r,l,a),r.child;case 6:return t===null&&Ue&&((t=a=ot)&&(a=xS(a,r.pendingProps,Fn),a!==null?(r.stateNode=a,Qt=r,ot=null,t=!0):t=!1),t||zr(r)),null;case 13:return j0(t,r,a);case 4:return kt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Js(r,null,l,a):$t(t,r,l,a),r.child;case 11:return N0(t,r,r.type,r.pendingProps,a);case 7:return $t(t,r,r.pendingProps,a),r.child;case 8:return $t(t,r,r.pendingProps.children,a),r.child;case 12:return $t(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Br(r,r.type,l.value),$t(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,$s(r),f=Kt(f),l=l(f),r.flags|=1,$t(t,r,l,a),r.child;case 14:return I0(t,r,r.type,r.pendingProps,a);case 15:return D0(t,r,r.type,r.pendingProps,a);case 19:return z0(t,r,a);case 31:return Kw(t,r,a);case 22:return O0(t,r,a,r.pendingProps);case 24:return $s(r),l=Kt(Ct),t===null?(f=hd(),f===null&&(f=st,d=ud(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},dd(r),Br(r,Ct,f)):((t.lanes&a)!==0&&(md(t,r),bl(r,null,null,a),Tl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Br(r,Ct,l)):(l=d.cache,Br(r,Ct,l),l!==f.cache&&ld(r,[Ct],a,!0))),$t(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(t){t.flags|=4}function $d(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(mv())t.flags|=8192;else throw Zs=_c,fd}else t.flags&=-16777217}function q0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!i_(r))if(mv())t.flags|=8192;else throw Zs=_c,fd}function Pc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?qu():536870912,t.lanes|=r,no|=r)}function Cl(t,r){if(!Ue)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Xw(t,r,a){var l=r.pendingProps;switch(id(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Zi(Ct),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?nr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sd())),lt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(nr(r),d!==null?(lt(r),q0(r,d)):(lt(r),$d(r,f,null,l,a))):d?d!==t.memoizedState?(nr(r),lt(r),q0(r,d)):(lt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&nr(r),lt(r),$d(r,f,t,l,a)),null;case 27:if(Ta(r),a=Ne.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}t=fe.current,Ha(r)?Ty(r):(t=$v(f,l,a),r.stateNode=t,nr(r))}return lt(r),null;case 5:if(Ta(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(d=fe.current,Ha(r))Ty(r);else{var v=Wc(Ne.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[At]=r,d[Ut]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(Xt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&nr(r)}}return lt(r),$d(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ne.current,Ha(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jv(t.nodeValue,a)),t||zr(r,!0)}else t=Wc(t).createTextNode(l),t[At]=r,r.stateNode=t}return lt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Ha(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),t=!1}else a=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Rn(r),r):(Rn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ha(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=r}else Qs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),f=!1}else f=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Rn(r),r):(Rn(r),null)}return Rn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Pc(r,r.updateQueue),lt(r),null);case 4:return ut(),t===null&&ym(r.stateNode.containerInfo),lt(r),null;case 10:return Zi(r.type),lt(r),null;case 19:if(te(Et),l=r.memoizedState,l===null)return lt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Cl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=wc(t),d!==null){for(r.flags|=128,Cl(l,!1),t=d.updateQueue,r.updateQueue=t,Pc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gy(a,t),a=a.sibling;return re(Et,Et.current&1|2),Ue&&Xi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&an()>Bc&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304)}else{if(!f)if(t=wc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Pc(r,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return lt(r),null}else 2*an()-l.renderingStartTime>Bc&&a!==536870912&&(r.flags|=128,f=!0,Cl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=an(),t.sibling=null,a=Et.current,re(Et,f?a&1|2:a&1),Ue&&Xi(r,l.treeForkCount),t):(lt(r),null);case 22:case 23:return Rn(r),vd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),a=r.updateQueue,a!==null&&Pc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&te(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Zi(Ct),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Ww(t,r){switch(id(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Zi(Ct),ut(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ta(r),null;case 31:if(r.memoizedState!==null){if(Rn(r),r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Rn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Qs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return te(Et),null;case 4:return ut(),null;case 10:return Zi(r.type),null;case 22:case 23:return Rn(r),vd(),t!==null&&te(Xs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Zi(Ct),null;case 25:return null;default:return null}}function H0(t,r){switch(id(r),r.tag){case 3:Zi(Ct),ut();break;case 26:case 27:case 5:Ta(r);break;case 4:ut();break;case 31:r.memoizedState!==null&&Rn(r);break;case 13:Rn(r);break;case 19:te(Et);break;case 10:Zi(r.type);break;case 22:case 23:Rn(r),vd(),t!==null&&te(Xs);break;case 24:Zi(Ct)}}function Nl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(w){Ze(r,r.return,w)}}function Qr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,f=r;var O=a,G=w;try{G()}catch(Z){Ze(f,O,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(r,r.return,Z)}}function F0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Vy(r,a)}catch(l){Ze(t,t.return,l)}}}function G0(t,r,a){a.props=ta(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function Il(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Ze(t,r,f)}}function Mi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(t,r,f)}else a.current=null}function Y0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(t,t.return,f)}}function Xd(t,r,a){try{var l=t.stateNode;_S(l,t.type,a,r),l[Ut]=r}catch(f){Ze(t,t.return,f)}}function Q0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&es(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ei));else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Zd(t,r,a),t=t.sibling;t!==null;)Zd(t,r,a),t=t.sibling}function Lc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Lc(t,r,a),t=t.sibling;t!==null;)Lc(t,r,a),t=t.sibling}function K0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,l,a),r[At]=t,r[Ut]=a}catch(d){Ze(t,t.return,d)}}var ir=!1,Dt=!1,Jd=!1,$0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Zw(t,r){if(t=t.containerInfo,Em=rh,t=oy(t),Yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,w=-1,O=-1,G=0,Z=0,ne=t,Q=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(w=v+f),ne!==d||l!==0&&ne.nodeType!==3||(O=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===t)break t;if(Q===a&&++G===f&&(w=v),Q===d&&++Z===l&&(O=v),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:t,selectionRange:a},rh=!1,Bt=r;Bt!==null;)if(r=Bt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Bt=t;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ta(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Bt=t;break}Bt=r.return}}function X0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&Nl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var f=ta(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&F0(a),l&512&&Il(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Vy(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&K0(a);case 26:case 5:sr(t,a),r===null&&l&4&&Y0(a),l&512&&Il(a,a.return);break;case 12:sr(t,a);break;case 31:sr(t,a),l&4&&J0(t,a);break;case 13:sr(t,a),l&4&&ev(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=oS.bind(null,a),RS(t,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||Dt,f=ir;var d=Dt;ir=l,(Dt=r)&&!d?ar(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),ir=f,Dt=d}break;case 30:break;default:sr(t,a)}}function W0(t){var r=t.alternate;r!==null&&(t.alternate=null,W0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&xa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,dn=!1;function rr(t,r,a){for(a=a.child;a!==null;)Z0(t,r,a),a=a.sibling}function Z0(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Xn,a)}catch{}switch(a.tag){case 26:Dt||Mi(a,r),rr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Mi(a,r);var l=ht,f=dn;es(a.type)&&(ht=a.stateNode,dn=!1),rr(t,r,a),Ul(a.stateNode),ht=l,dn=f;break;case 5:Dt||Mi(a,r);case 6:if(l=ht,f=dn,ht=null,rr(t,r,a),ht=l,dn=f,ht!==null)if(dn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{ht.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:ht!==null&&(dn?(t=ht,Fv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),co(t)):Fv(ht,a.stateNode));break;case 4:l=ht,f=dn,ht=a.stateNode.containerInfo,dn=!0,rr(t,r,a),ht=l,dn=f;break;case 0:case 11:case 14:case 15:Qr(2,a,r),Dt||Qr(4,a,r),rr(t,r,a);break;case 1:Dt||(Mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&G0(a,r,l)),rr(t,r,a);break;case 21:rr(t,r,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,rr(t,r,a),Dt=l;break;default:rr(t,r,a)}}function J0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{co(t)}catch(a){Ze(r,r.return,a)}}}function ev(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(a){Ze(r,r.return,a)}}function Jw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new $0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new $0),r;default:throw Error(s(435,t.tag))}}function jc(t,r){var a=Jw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=lS.bind(null,t,l);l.then(f,f)}})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(es(w.type)){ht=w.stateNode,dn=!1;break e}break;case 5:ht=w.stateNode,dn=!1;break e;case 3:case 4:ht=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(ht===null)throw Error(s(160));Z0(d,v,f),ht=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)tv(r,t),r=r.sibling}var ai=null;function tv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Qr(3,t,t.return),Nl(3,t),Qr(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(Dt||a===null||Mi(a,a.return)),l&64&&ir&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ai;if(mn(r,t),pn(t),l&512&&(Dt||a===null||Mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_i]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[At]=t,xt(d),l=d;break e;case"link":var v=t_("link","href",f).get(l+(a.href||""));if(v){for(var w=0;w<v.length;w++)if(d=v[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(v=t_("meta","content",f).get(l+(a.content||""))){for(w=0;w<v.length;w++)if(d=v[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(w,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,xt(d),l=d}t.stateNode=l}else n_(f,t.type,t.stateNode);else t.stateNode=e_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?n_(f,t.type,t.stateNode):e_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(Dt||a===null||Mi(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(Dt||a===null||Mi(a,a.return)),t.flags&32){f=t.stateNode;try{fn(f,"")}catch(de){Ze(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Ze(t,t.return,de)}}break;case 3:if(eh=null,f=ai,ai=Zc(r.containerInfo),mn(r,t),ai=f,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{co(r.containerInfo)}catch(de){Ze(t,t.return,de)}Jd&&(Jd=!1,nv(t));break;case 4:l=ai,ai=Zc(t.stateNode.containerInfo),mn(r,t),pn(t),ai=l;break;case 12:mn(r,t),pn(t);break;case 31:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zc=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=ir,Z=Dt;if(ir=G||f,Dt=Z||O,mn(r,t),Dt=Z,ir=G,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||ir||Dt||na(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=O.stateNode;var ne=O.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(de){Ze(O,O.return,de)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){Ze(O,O.return,de)}}}else if(r.tag===18){if(a===null){O=r;try{var X=O.stateNode;f?Gv(X,!0):Gv(O.stateNode,!1)}catch(de){Ze(O,O.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,jc(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,jc(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Q0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(t);Lc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(fn(v,""),a.flags&=-33);var w=Wd(t);Lc(t,w,v);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Wd(t);Zd(t,G,O);break;default:throw Error(s(161))}}catch(Z){Ze(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function nv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;nv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)X0(t,r.alternate,r),r=r.sibling}function na(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Qr(4,r,r.return),na(r);break;case 1:Mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&G0(r,r.return,a),na(r);break;case 27:Ul(r.stateNode);case 26:case 5:Mi(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}t=t.sibling}}function ar(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:ar(f,d,a),Nl(4,d);break;case 1:if(ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Ze(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var w=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)My(O[f],w)}catch(G){Ze(l,l.return,G)}}a&&v&64&&F0(d),Il(d,d.return);break;case 27:K0(d);case 26:case 5:ar(f,d,a),a&&l===null&&v&4&&Y0(d),Il(d,d.return);break;case 12:ar(f,d,a);break;case 31:ar(f,d,a),a&&v&4&&J0(f,d);break;case 13:ar(f,d,a),a&&v&4&&ev(f,d);break;case 22:d.memoizedState===null&&ar(f,d,a),Il(d,d.return);break;case 30:break;default:ar(f,d,a)}r=r.sibling}}function em(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function tm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t))}function oi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iv(t,r,a,l),r=r.sibling}function iv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:oi(t,r,a,l),f&2048&&Nl(9,r);break;case 1:oi(t,r,a,l);break;case 3:oi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&gl(t)));break;case 12:if(f&2048){oi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,w=d.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Ze(r,r.return,O)}}else oi(t,r,a,l);break;case 31:oi(t,r,a,l);break;case 13:oi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?oi(t,r,a,l):Dl(t,r):d._visibility&2?oi(t,r,a,l):(d._visibility|=2,Ja(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&em(v,r);break;case 24:oi(t,r,a,l),f&2048&&tm(r.alternate,r);break;default:oi(t,r,a,l)}}function Ja(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,w=a,O=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:Ja(d,v,w,O,f),Nl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?Ja(d,v,w,O,f):Dl(d,v):(Z._visibility|=2,Ja(d,v,w,O,f)),f&&G&2048&&em(v.alternate,v);break;case 24:Ja(d,v,w,O,f),f&&G&2048&&tm(v.alternate,v);break;default:Ja(d,v,w,O,f)}r=r.sibling}}function Dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Dl(a,l),f&2048&&em(l.alternate,l);break;case 24:Dl(a,l),f&2048&&tm(l.alternate,l);break;default:Dl(a,l)}r=r.sibling}}var Ol=8192;function eo(t,r,a){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)rv(t,r,a),t=t.sibling}function rv(t,r,a){switch(t.tag){case 26:eo(t,r,a),t.flags&Ol&&t.memoizedState!==null&&US(a,ai,t.memoizedState,t.memoizedProps);break;case 5:eo(t,r,a);break;case 3:case 4:var l=ai;ai=Zc(t.stateNode.containerInfo),eo(t,r,a),ai=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ol,Ol=16777216,eo(t,r,a),Ol=l):eo(t,r,a));break;default:eo(t,r,a)}}function sv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ml(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,ov(l,t)}sv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)av(t),t=t.sibling}function av(t){switch(t.tag){case 0:case 11:case 15:Ml(t),t.flags&2048&&Qr(9,t,t.return);break;case 3:Ml(t);break;case 12:Ml(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Uc(t)):Ml(t);break;default:Ml(t)}}function Uc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,ov(l,t)}sv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Qr(8,r,r.return),Uc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(r));break;default:Uc(r)}t=t.sibling}}function ov(t,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Qr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(W0(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var eS={getCacheForType:function(t){var r=Kt(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Kt(Ct).controller.signal}},tS=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Oe=null,Ve=0,We=0,Cn=null,Kr=!1,to=!1,nm=!1,or=0,gt=0,$r=0,ia=0,im=0,Nn=0,no=0,Vl=null,gn=null,rm=!1,zc=0,lv=0,Bc=1/0,qc=null,Xr=null,Lt=0,Wr=null,io=null,lr=0,sm=0,am=null,uv=null,kl=0,om=null;function In(){return(Ke&2)!==0&&Ve!==0?Ve&-Ve:W.T!==null?dm():Hu()}function cv(){if(Nn===0)if((Ve&536870912)===0||Ue){var t=Is;Is<<=1,(Is&3932160)===0&&(Is=262144),Nn=t}else Nn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===st&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Zr(t,Ve,Nn,!1)),Ds(t,a),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(ia|=a),gt===4&&Zr(t,Ve,Nn,!1)),Vi(t))}function hv(t,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Wn(t,r),f=l?rS(t,r):um(t,r,!0),d=l;do{if(f===0){to&&!l&&Zr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!nS(a)){f=um(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var w=t;f=Vl;var O=w.current.memoizedState.isDehydrated;if(O&&(ro(w,v).flags|=256),v=um(w,v,!1),v!==2){if(nm&&!O){w.errorRecoveryDisabledLanes|=d,ia|=d,f=4;break e}d=gn,gn=f,d!==null&&(gn===null?gn=d:gn.push.apply(gn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){ro(t,0),Zr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zr(l,r,Nn,!Kr);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=zc+300-an(),10<f)){if(Zr(l,r,Nn,!Kr),gi(l,0,!0)!==0)break e;lr=r,l.timeoutHandle=qv(fv.bind(null,l,a,gn,qc,rm,r,Nn,ia,no,Kr,d,"Throttled",-0,0),f);break e}fv(l,a,gn,qc,rm,r,Nn,ia,no,Kr,d,null,-0,0)}}break}while(!0);Vi(t)}function fv(t,r,a,l,f,d,v,w,O,G,Z,ne,Q,X){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},rv(r,d,ne);var de=(d&62914560)===d?zc-an():(d&4194048)===d?lv-an():0;if(de=zS(ne,de),de!==null){lr=d,t.cancelPendingCommit=de(Ev.bind(null,t,r,d,a,l,f,v,w,O,Z,ne,null,Q,X)),Zr(t,d,v,!G);return}}Ev(t,r,d,a,l,f,v,w,O)}function nS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Sn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(t,r,a,l){r&=~im,r&=~ia,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-vt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&Os(t,a,r)}function Hc(){return(Ke&6)===0?(Pl(0),!1):!0}function lm(){if(Oe!==null){if(We===0)var t=Oe.return;else t=Oe,Wi=Ks=null,Sd(t),Ka=null,vl=0,t=Oe;for(;t!==null;)H0(t.alternate,t),t=t.return;Oe=null}}function ro(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),lr=0,lm(),st=t,Oe=a=$i(t.current,null),Ve=r,We=0,Cn=null,Kr=!1,to=Wn(t,r),nm=!1,no=Nn=im=ia=$r=gt=0,gn=Vl=null,rm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-vt(l),d=1<<f;r|=t[f],l&=~d}return or=r,cc(),a}function dv(t,r){Re=null,W.H=xl,r===Qa||r===vc?(r=Ny(),We=3):r===fd?(r=Ny(),We=4):We=r===zd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Cn=r,Oe===null&&(gt=1,Oc(t,Bn(r,t.current)))}function mv(){var t=xn.current;return t===null?!0:(Ve&4194048)===Ve?Gn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Gn:!1}function pv(){var t=W.H;return W.H=xl,t===null?xl:t}function gv(){var t=W.A;return W.A=eS,t}function Fc(){gt=4,Kr||(Ve&4194048)!==Ve&&xn.current!==null||(to=!0),($r&134217727)===0&&(ia&134217727)===0||st===null||Zr(st,Ve,Nn,!1)}function um(t,r,a){var l=Ke;Ke|=2;var f=pv(),d=gv();(st!==t||Ve!==r)&&(qc=null,ro(t,r)),r=!1;var v=gt;e:do try{if(We!==0&&Oe!==null){var w=Oe,O=Cn;switch(We){case 8:lm(),v=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var G=We;if(We=0,Cn=null,so(t,w,O,G),a&&to){v=0;break e}break;default:G=We,We=0,Cn=null,so(t,w,O,G)}}iS(),v=gt;break}catch(Z){dv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Wi=Ks=null,Ke=l,W.H=f,W.A=d,Oe===null&&(st=null,Ve=0,cc()),v}function iS(){for(;Oe!==null;)yv(Oe)}function rS(t,r){var a=Ke;Ke|=2;var l=pv(),f=gv();st!==t||Ve!==r?(qc=null,Bc=an()+500,ro(t,r)):to=Wn(t,r);e:do try{if(We!==0&&Oe!==null){r=Oe;var d=Cn;t:switch(We){case 1:We=0,Cn=null,so(t,r,d,1);break;case 2:case 9:if(Ry(d)){We=0,Cn=null,vv(r);break}r=function(){We!==2&&We!==9||st!==t||(We=7),Vi(t)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Ry(d)?(We=0,Cn=null,vv(r)):(We=0,Cn=null,so(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var w=Oe;if(v?i_(v):w.stateNode.complete){We=0,Cn=null;var O=w.sibling;if(O!==null)Oe=O;else{var G=w.return;G!==null?(Oe=G,Gc(G)):Oe=null}break t}}We=0,Cn=null,so(t,r,d,5);break;case 6:We=0,Cn=null,so(t,r,d,6);break;case 8:lm(),gt=6;break e;default:throw Error(s(462))}}sS();break}catch(Z){dv(t,Z)}while(!0);return Wi=Ks=null,W.H=l,W.A=f,Ke=a,Oe!==null?0:(st=null,Ve=0,cc(),gt)}function sS(){for(;Oe!==null&&!Uf();)yv(Oe)}function yv(t){var r=B0(t.alternate,t,or);t.memoizedProps=t.pendingProps,r===null?Gc(t):Oe=r}function vv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=k0(a,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=k0(a,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:Sd(r);default:H0(a,r),r=Oe=gy(r,or),r=B0(a,r,or)}t.memoizedProps=t.pendingProps,r===null?Gc(t):Oe=r}function so(t,r,a,l){Wi=Ks=null,Sd(r),Ka=null,vl=0;var f=r.return;try{if(Qw(t,f,r,a,Ve)){gt=1,Oc(t,Bn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;gt=1,Oc(t,Bn(a,t.current)),Oe=null;return}r.flags&32768?(Ue||l===1?t=!0:to||(Ve&536870912)!==0?t=!1:(Kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_v(r,t)):Gc(r)}function Gc(t){var r=t;do{if((r.flags&32768)!==0){_v(r,Kr);return}t=r.return;var a=Xw(r.alternate,r,or);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);gt===0&&(gt=5)}function _v(t,r){do{var a=Ww(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);gt=6,Oe=null}function Ev(t,r,a,l,f,d,v,w,O){t.cancelPendingCommit=null;do Yc();while(Lt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Wf,qf(t,a,d,v,w,O),t===st&&(Oe=st=null,Ve=0),io=r,Wr=t,lr=a,sm=d,am=f,uv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uS(Cr,function(){return Av(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=se.p,se.p=2,v=Ke,Ke|=4;try{Zw(t,r,a)}finally{Ke=v,se.p=f,W.T=l}}Lt=1,Tv(),bv(),wv()}}function Tv(){if(Lt===1){Lt=0;var t=Wr,r=io,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var f=Ke;Ke|=4;try{tv(r,t);var d=Tm,v=oy(t.containerInfo),w=d.focusedElem,O=d.selectionRange;if(v!==w&&w&&w.ownerDocument&&ay(w.ownerDocument.documentElement,w)){if(O!==null&&Yf(w)){var G=O.start,Z=O.end;if(Z===void 0&&(Z=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(Z,w.value.length);else{var ne=w.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),de=w.textContent.length,_e=Math.min(O.start,de),it=O.end===void 0?_e:Math.min(O.end,de);!X.extend&&_e>it&&(v=it,it=_e,_e=v);var L=sy(w,_e),V=sy(w,it);if(L&&V&&(X.rangeCount!==1||X.anchorNode!==L.node||X.anchorOffset!==L.offset||X.focusNode!==V.node||X.focusOffset!==V.offset)){var H=ne.createRange();H.setStart(L.node,L.offset),X.removeAllRanges(),_e>it?(X.addRange(H),X.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),X.addRange(H))}}}}for(ne=[],X=w;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var J=ne[w];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}rh=!!Em,Tm=Em=null}finally{Ke=f,se.p=l,W.T=a}}t.current=r,Lt=2}}function bv(){if(Lt===2){Lt=0;var t=Wr,r=io,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=se.p;se.p=2;var f=Ke;Ke|=4;try{X0(t,r.alternate,r)}finally{Ke=f,se.p=l,W.T=a}}Lt=3}}function wv(){if(Lt===4||Lt===3){Lt=0,Pu();var t=Wr,r=io,a=lr,l=uv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Lt=5:(Lt=0,io=Wr=null,Sv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xr=null),Gi(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Xn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=se.p,se.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var w=l[v];d(w.value,{componentStack:w.stack})}}finally{W.T=r,se.p=f}}(lr&3)!==0&&Yc(),Vi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===om?kl++:(kl=0,om=t):kl=0,Pl(0)}}function Sv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,gl(r)))}function Yc(){return Tv(),bv(),wv(),Av()}function Av(){if(Lt!==5)return!1;var t=Wr,r=sm;sm=0;var a=Gi(lr),l=W.T,f=se.p;try{se.p=32>a?32:a,W.T=null,a=am,am=null;var d=Wr,v=lr;if(Lt=0,io=Wr=null,lr=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,av(d.current),iv(d,d.current,v,a),Ke=w,Pl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{se.p=f,W.T=l,Sv(t,r)}}function xv(t,r,a){r=Bn(a,r),r=Ud(t.stateNode,r,2),t=Fr(t,r,2),t!==null&&(Ds(t,2),Vi(t))}function Ze(t,r,a){if(t.tag===3)xv(t,t,a);else for(;r!==null;){if(r.tag===3){xv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){t=Bn(a,t),a=R0(2),l=Fr(r,a,2),l!==null&&(C0(a,l,r,t),Ds(l,2),Vi(l));break}}r=r.return}}function cm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new tS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(nm=!0,f.add(a),t=aS.bind(null,t,r,a),r.then(t,t))}function aS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Ve&a)===a&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>an()-zc?(Ke&2)===0&&ro(t,0):im|=a,no===Ve&&(no=0)),Vi(t)}function Rv(t,r){r===0&&(r=qu()),t=Gs(t,r),t!==null&&(Ds(t,r),Vi(t))}function oS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Rv(t,a)}function lS(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Rv(t,a)}function uS(t,r){return Pt(t,r)}var Qc=null,ao=null,hm=!1,Kc=!1,fm=!1,Jr=0;function Vi(t){t!==ao&&t.next===null&&(ao===null?Qc=ao=t:ao=ao.next=t),Kc=!0,hm||(hm=!0,hS())}function Pl(t,r){if(!fm&&Kc){fm=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-vt(42|t)+1)-1,d&=f&~(v&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Dv(l,d))}else d=Ve,d=gi(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,Dv(l,d));l=l.next}while(a);fm=!1}}function cS(){Cv()}function Cv(){Kc=hm=!1;var t=0;Jr!==0&&TS()&&(t=Jr);for(var r=an(),a=null,l=Qc;l!==null;){var f=l.next,d=Nv(l,r);d===0?(l.next=null,a===null?Qc=f:a.next=f,f===null&&(ao=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=f}Lt!==0&&Lt!==5||Pl(t),Jr!==0&&(Jr=0)}function Nv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-vt(d),w=1<<v,O=f[v];O===-1?((w&a)===0||(w&l)!==0)&&(f[v]=Bf(w,r)):O<=r&&(t.expiredLanes|=w),d&=~w}if(r=st,a=Ve,a=gi(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Rr(l),Gi(a)){case 2:case 8:a=Yo;break;case 32:a=Cr;break;case 268435456:a=Lu;break;default:a=Cr}return l=Iv.bind(null,t),a=Pt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Rr(l),t.callbackPriority=2,t.callbackNode=null,2}function Iv(t,r){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yc()&&t.callbackNode!==a)return null;var l=Ve;return l=gi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(hv(t,l,r),Nv(t,an()),t.callbackNode!=null&&t.callbackNode===a?Iv.bind(null,t):null)}function Dv(t,r){if(Yc())return null;hv(t,r,!0)}function hS(){wS(function(){(Ke&6)!==0?Pt(Go,cS):Cv()})}function dm(){if(Jr===0){var t=Ga;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Jr=t}return Jr}function Ov(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ia(""+t)}function Mv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function fS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Ov((f[Ut]||null).action),v=l.submitter;v&&(r=(r=v[Ut]||null)?Ov(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var w=new Ri("action","action",null,l,f);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var O=v?Mv(f,v):new FormData(f);Md(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(w.preventDefault(),O=v?Mv(f,v):new FormData(f),Md(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var mm=0;mm<Xf.length;mm++){var pm=Xf[mm],dS=pm.toLowerCase(),mS=pm[0].toUpperCase()+pm.slice(1);si(dS,"on"+mS)}si(cy,"onAnimationEnd"),si(hy,"onAnimationIteration"),si(fy,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(Iw,"onTransitionRun"),si(Dw,"onTransitionStart"),si(Ow,"onTransitionCancel"),si(dy,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Vv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var w=l[v],O=w.instance,G=w.currentTarget;if(w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(Z){uc(Z)}f.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(w=l[v],O=w.instance,G=w.currentTarget,w=w.listener,O!==d&&f.isPropagationStopped())break e;d=w,f.currentTarget=G;try{d(f)}catch(Z){uc(Z)}f.currentTarget=null,d=O}}}}function Me(t,r){var a=r[Aa];a===void 0&&(a=r[Aa]=new Set);var l=t+"__bubble";a.has(l)||(kv(r,t,2,!1),a.add(l))}function gm(t,r,a){var l=0;r&&(l|=4),kv(a,t,l,r)}var $c="_reactListening"+Math.random().toString(36).slice(2);function ym(t){if(!t[$c]){t[$c]=!0,$o.forEach(function(a){a!=="selectionchange"&&(pS.has(a)||gm(a,!1,t),gm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[$c]||(r[$c]=!0,gm("selectionchange",!1,r))}}function kv(t,r,a,l){switch(c_(r)){case 2:var f=HS;break;case 8:f=FS;break;default:f=Om}a=f.bind(null,r,a,t),f=void 0,!Ls||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function vm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var w=l.stateNode.containerInfo;if(w===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;w!==null;){if(v=Ei(w),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}w=w.parentNode}}l=l.return}Vr(function(){var G=d,Z=Ln(a),ne=[];e:{var Q=my.get(t);if(Q!==void 0){var X=Ri,de=t;switch(t){case"keypress":if(Us(a)===0)break e;case"keydown":case"keyup":X=ac;break;case"focusin":de="focus",X=Bs;break;case"focusout":de="blur",X=Bs;break;case"beforeblur":case"afterblur":X=Bs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case cy:case hy:case fy:X=Ju;break;case dy:X=A;break;case"scroll":case"scrollend":X=ol;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ki;break;case"toggle":case"beforetoggle":X=xe}var _e=(r&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),L=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var V=G,H;V!==null;){var J=V;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=ti(V,L),J!=null&&_e.push(jl(V,J,H))),it)break;V=V.return}0<_e.length&&(Q=new X(Q,de,null,a,Z),ne.push({event:Q,listeners:_e}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==rl&&(de=a.relatedTarget||a.fromElement)&&(Ei(de)||de[vi]))break e;if((X||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(de=a.relatedTarget||a.toElement,X=G,de=de?Ei(de):null,de!==null&&(it=u(de),_e=de.tag,de!==it||_e!==5&&_e!==27&&_e!==6)&&(de=null)):(X=null,de=G),X!==de)){if(_e=ll,J="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ki,J="onPointerLeave",L="onPointerEnter",V="pointer"),it=X==null?Q:bn(X),H=de==null?Q:bn(de),Q=new _e(J,V+"leave",X,a,Z),Q.target=it,Q.relatedTarget=H,J=null,Ei(Z)===G&&(_e=new _e(L,V+"enter",de,a,Z),_e.target=H,_e.relatedTarget=it,J=_e),it=J,X&&de)t:{for(_e=gS,L=X,V=de,H=0,J=L;J;J=_e(J))H++;J=0;for(var ye=V;ye;ye=_e(ye))J++;for(;0<H-J;)L=_e(L),H--;for(;0<J-H;)V=_e(V),J--;for(;H--;){if(L===V||V!==null&&L===V.alternate){_e=L;break t}L=_e(L),V=_e(V)}_e=null}else _e=null;X!==null&&Pv(ne,Q,X,_e,!1),de!==null&&it!==null&&Pv(ne,it,de,_e,!0)}}e:{if(Q=G?bn(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Fe=Jg;else if(Wg(Q))if(ey)Fe=Rw;else{Fe=Aw;var pe=Sw}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Na(G.elementType)&&(Fe=Jg):Fe=xw;if(Fe&&(Fe=Fe(t,G))){Zg(ne,Fe,a,Z);break e}pe&&pe(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&tl(Q,"number",Q.value)}switch(pe=G?bn(G):window,t){case"focusin":(Wg(pe)||pe.contentEditable==="true")&&(La=pe,Qf=G,dl=null);break;case"focusout":dl=Qf=La=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,ly(ne,a,Z);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":ly(ne,a,Z)}var Ie;if(Qe)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Pa?qs(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ii&&a.locale!=="ko"&&(Pa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Pa&&(Ie=al()):(xi=Z,sl="value"in xi?xi.value:xi.textContent,Pa=!0)),pe=Xc(G,ke),0<pe.length&&(ke=new Ni(ke,t,null,a,Z),ne.push({event:ke,listeners:pe}),Ie?ke.data=Ie:(Ie=ka(a),Ie!==null&&(ke.data=Ie)))),(Ie=Un?Ew(t,a):Tw(t,a))&&(ke=Xc(G,"onBeforeInput"),0<ke.length&&(pe=new Ni("onBeforeInput","beforeinput",null,a,Z),ne.push({event:pe,listeners:ke}),pe.data=Ie)),fS(ne,t,G,a,Z)}Vv(ne,r)})}function jl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Xc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(t,a),f!=null&&l.unshift(jl(t,f,d)),f=ti(t,r),f!=null&&l.push(jl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function gS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var w=a,O=w.alternate,G=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||G===null||(O=G,f?(G=ti(a,d),G!=null&&v.unshift(jl(a,G,O))):f||(G=ti(a,d),G!=null&&v.push(jl(a,G,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var yS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function Lv(t){return(typeof t=="string"?t:""+t).replace(yS,`
`).replace(vS,"")}function jv(t,r){return r=Lv(r),Lv(t)===r}function nt(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||fn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&fn(t,""+l);break;case"className":wn(t,"class",l);break;case"tabIndex":wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,l);break;case"style":il(t,l,d);break;case"data":if(r!=="object"){wn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(t,r,"name",f.name,f,null),nt(t,r,"formEncType",f.formEncType,f,null),nt(t,r,"formMethod",f.formMethod,f,null),nt(t,r,"formTarget",f.formTarget,f,null)):(nt(t,r,"encType",f.encType,f,null),nt(t,r,"method",f.method,f,null),nt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ia(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ei);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ia(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Ra(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ra(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Xu.get(a)||a,Ra(t,a,l))}}function _m(t,r,a,l,f,d){switch(a){case"style":il(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?fn(t,l):(typeof l=="number"||typeof l=="bigint")&&fn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ra(t,a,l)}}}function Xt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,d,v,a,null)}}f&&nt(t,r,"srcSet",a.srcSet,a,null),l&&nt(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var w=d=v=f=null,O=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":O=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(t,r,l,Z,a,null)}}Qu(t,d,w,O,G,v,f,!1);return;case"select":Me("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":d=w;break;case"defaultValue":v=w;break;case"multiple":l=w;default:nt(t,r,f,w,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(w=a[v],w!=null))switch(v){case"value":l=w;break;case"defaultValue":f=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:nt(t,r,v,w,a,null)}Dr(t,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,r,O,l,a,null));return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Me(Ll[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(t,r,G,l,a,null)}return;default:if(Na(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&_m(t,r,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&nt(t,r,w,l,a,null))}function _S(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,w=null,O=null,G=null,Z=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(X)||nt(t,r,X,null,l,ne)}}for(var Q in l){var X=l[Q];if(ne=a[Q],l.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":v=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&nt(t,r,Q,X,l,ne)}}Ca(t,v,w,O,G,Z,d,f);return;case"select":X=v=w=Q=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(d)||nt(t,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":Q=d;break;case"defaultValue":w=d;break;case"multiple":v=d;default:d!==O&&nt(t,r,f,d,l,O)}r=w,a=v,l=X,Q!=null?Ir(t,!!a,Q,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:nt(t,r,w,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&nt(t,r,v,f,l,d)}Ku(t,Q,X);return;case"option":for(var de in a)Q=a[de],a.hasOwnProperty(de)&&Q!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:nt(t,r,de,null,l,Q));for(O in l)Q=l[O],X=a[O],l.hasOwnProperty(O)&&Q!==X&&(Q!=null||X!=null)&&(O==="selected"?t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":nt(t,r,O,Q,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)Q=a[_e],a.hasOwnProperty(_e)&&Q!=null&&!l.hasOwnProperty(_e)&&nt(t,r,_e,null,l,Q);for(G in l)if(Q=l[G],X=a[G],l.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:nt(t,r,G,Q,l,X)}return;default:if(Na(r)){for(var it in a)Q=a[it],a.hasOwnProperty(it)&&Q!==void 0&&!l.hasOwnProperty(it)&&_m(t,r,it,void 0,l,Q);for(Z in l)Q=l[Z],X=a[Z],!l.hasOwnProperty(Z)||Q===X||Q===void 0&&X===void 0||_m(t,r,Z,Q,l,X);return}}for(var L in a)Q=a[L],a.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&nt(t,r,L,null,l,Q);for(ne in l)Q=l[ne],X=a[ne],!l.hasOwnProperty(ne)||Q===X||Q==null&&X==null||nt(t,r,ne,Q,l,X)}function Uv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ES(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,w=f.duration;if(d&&w&&Uv(v)){for(v=0,w=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],G=O.startTime;if(G>w)break;var Z=O.transferSize,ne=O.initiatorType;Z&&Uv(ne)&&(O=O.responseEnd,v+=Z*(O<w?1:(w-G)/(O-G)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Em=null,Tm=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function zv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function bm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wm=null;function TS(){var t=window.event;return t&&t.type==="popstate"?t===wm?!1:(wm=t,!0):(wm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(SS)}:qv;function SS(t){setTimeout(function(){throw t})}function es(t){return t==="head"}function Fv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),co(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var v=d.nextSibling,w=d.nodeName;d[_i]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ul(t.ownerDocument.body);a=f}while(a);co(r)}function Gv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),xa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function xS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Yn(t.nextSibling),t===null))return null;return t}function Yv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Yn(t.nextSibling),t===null))return null;return t}function Am(t){return t.data==="$?"||t.data==="$~"}function xm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RS(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Rm=null;function Qv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return Yn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function Kv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function $v(t,r,a){switch(r=Wc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xa(t)}var Qn=new Map,Xv=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=se.d;se.d={f:CS,r:NS,D:IS,C:DS,L:OS,m:MS,X:kS,S:VS,M:PS};function CS(){var t=ur.f(),r=Hc();return t||r}function NS(t){var r=Pn(t);r!==null&&r.tag===5&&r.type==="form"?d0(r):ur.r(t)}var oo=typeof document>"u"?null:document;function Wv(t,r,a){var l=oo;if(l&&typeof r=="string"&&r){var f=hn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Xv.has(f)||(Xv.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Xt(r,"link",t),xt(r),l.head.appendChild(r)))}}function IS(t){ur.D(t),Wv("dns-prefetch",t,null)}function DS(t,r){ur.C(t,r),Wv("preconnect",t,r)}function OS(t,r,a){ur.L(t,r,a);var l=oo;if(l&&t&&r){var f='link[rel="preload"][as="'+hn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var d=f;switch(r){case"style":d=lo(t);break;case"script":d=uo(t)}Qn.has(d)||(t=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Qn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(zl(d))||r==="script"&&l.querySelector(Bl(d))||(r=l.createElement("link"),Xt(r,"link",t),xt(r),l.head.appendChild(r)))}}function MS(t,r){ur.m(t,r);var a=oo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Qn.has(d)&&(t=b({rel:"modulepreload",href:t},r),Qn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(d)))return}l=a.createElement("link"),Xt(l,"link",t),xt(l),a.head.appendChild(l)}}}function VS(t,r,a){ur.S(t,r,a);var l=oo;if(l&&t){var f=Ti(l).hoistableStyles,d=lo(t);r=r||"default";var v=f.get(d);if(!v){var w={loading:0,preload:null};if(v=l.querySelector(zl(d)))w.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Qn.get(d))&&Cm(t,a);var O=v=l.createElement("link");xt(O),Xt(O,"link",t),O._p=new Promise(function(G,Z){O.onload=G,O.onerror=Z}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Jc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:w},f.set(d,v)}}}function kS(t,r){ur.X(t,r);var a=oo;if(a&&t){var l=Ti(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=b({src:t,async:!0},r),(r=Qn.get(f))&&Nm(t,r),d=a.createElement("script"),xt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function PS(t,r){ur.M(t,r);var a=oo;if(a&&t){var l=Ti(a).hoistableScripts,f=uo(t),d=l.get(f);d||(d=a.querySelector(Bl(f)),d||(t=b({src:t,async:!0,type:"module"},r),(r=Qn.get(f))&&Nm(t,r),d=a.createElement("script"),xt(d),Xt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Zv(t,r,a,l){var f=(f=Ne.current)?Zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=lo(a.href),a=Ti(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=Ti(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(zl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||LS(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=uo(a),a=Ti(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+hn(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function Jv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function LS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),xt(r),t.head.appendChild(r))}function uo(t){return'[src="'+hn(t)+'"]'}function Bl(t){return"script[async]"+t}function e_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(l)return r.instance=l,xt(l),l;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xt(l),Xt(l,"style",f),Jc(l,a.precedence,t),r.instance=l;case"stylesheet":f=lo(a.href);var d=t.querySelector(zl(f));if(d)return r.state.loading|=4,r.instance=d,xt(d),d;l=Jv(a),(f=Qn.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),xt(d);var v=d;return v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),Xt(d,"link",l),r.state.loading|=4,Jc(d,a.precedence,t),r.instance=d;case"script":return d=uo(a.src),(f=t.querySelector(Bl(d)))?(r.instance=f,xt(f),f):(l=a,(f=Qn.get(d))&&(l=b({},a),Nm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Xt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Jc(l,a.precedence,t));return r.instance}function Jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var w=l[v];if(w.dataset.precedence===r)d=w;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var eh=null;function t_(t,r,a){if(eh===null){var l=new Map,f=eh=new Map;f.set(a,l)}else f=eh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[_i]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var w=l.get(v);w?w.push(d):l.set(v,[d])}}return l}function n_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function jS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function i_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function US(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=lo(l.href),d=r.querySelector(zl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=th.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=r.ownerDocument||r,l=Jv(l),(f=Qn.get(f))&&Cm(l,f),d=d.createElement("link"),xt(d);var v=d;v._p=new Promise(function(w,O){v.onload=w,v.onerror=O}),Xt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=th.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Im=0;function zS(t,r){return t.stylesheets&&t.count===0&&ih(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Im===0&&(Im=62500*ES());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ih(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Im?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function th(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ih(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nh=null;function ih(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nh=new Map,r.forEach(BS,t),nh=null,th.call(t))}function BS(t,r){if(!(r.state.loading&4)){var a=nh.get(t);if(a)var l=a.get(null);else{a=new Map,nh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=th.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var ql={$$typeof:K,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function qS(t,r,a,l,f,d,v,w,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function r_(t,r,a,l,f,d,v,w,O,G,Z,ne){return t=new qS(t,r,a,v,O,G,Z,ne,w),r=1,d===!0&&(r|=24),d=An(3,null,null,r),t.current=d,d.stateNode=t,r=ud(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},dd(d),t}function s_(t){return t?(t=za,t):za}function a_(t,r,a,l,f,d){f=s_(f),l.context===null?l.context=f:l.pendingContext=f,l=Hr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Fr(t,l,r),a!==null&&(yn(a,t,r),El(a,t,r))}function o_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Dm(t,r){o_(t,r),(t=t.alternate)&&o_(t,r)}function l_(t){if(t.tag===13||t.tag===31){var r=Gs(t,67108864);r!==null&&yn(r,t,67108864),Dm(t,67108864)}}function u_(t){if(t.tag===13||t.tag===31){var r=In();r=Ms(r);var a=Gs(t,r);a!==null&&yn(a,t,r),Dm(t,r)}}var rh=!0;function HS(t,r,a,l){var f=W.T;W.T=null;var d=se.p;try{se.p=2,Om(t,r,a,l)}finally{se.p=d,W.T=f}}function FS(t,r,a,l){var f=W.T;W.T=null;var d=se.p;try{se.p=8,Om(t,r,a,l)}finally{se.p=d,W.T=f}}function Om(t,r,a,l){if(rh){var f=Mm(l);if(f===null)vm(t,r,l,sh,a),h_(t,l);else if(YS(f,t,r,a,l))l.stopPropagation();else if(h_(t,l),r&4&&-1<GS.indexOf(t)){for(;f!==null;){var d=Pn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=pi(d.pendingLanes);if(v!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var O=1<<31-vt(v);w.entanglements[1]|=O,v&=~O}Vi(d),(Ke&6)===0&&(Bc=an()+500,Pl(0))}}break;case 31:case 13:w=Gs(d,2),w!==null&&yn(w,d,2),Hc(),Dm(d,2)}if(d=Mm(l),d===null&&vm(t,r,l,sh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,r,l,null,a)}}function Mm(t){return t=Ln(t),Vm(t)}var sh=null;function Vm(t){if(sh=null,t=Ei(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return sh=t,null}function c_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ns()){case Go:return 2;case Yo:return 8;case Cr:case zf:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var km=!1,ts=null,ns=null,is=null,Hl=new Map,Fl=new Map,rs=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(t,r){switch(t){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Hl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(r.pointerId)}}function Gl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Pn(r),r!==null&&l_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function YS(t,r,a,l,f){switch(r){case"focusin":return ts=Gl(ts,t,r,a,l,f),!0;case"dragenter":return ns=Gl(ns,t,r,a,l,f),!0;case"mouseover":return is=Gl(is,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Gl(Hl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Gl(Fl.get(d)||null,t,r,a,l,f)),!0}return!1}function f_(t){var r=Ei(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){u_(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Zn(t.priority,function(){u_(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return r=Pn(a),r!==null&&l_(r),t.blockedOn=a,!1;r.shift()}return!0}function d_(t,r,a){ah(t)&&a.delete(r)}function QS(){km=!1,ts!==null&&ah(ts)&&(ts=null),ns!==null&&ah(ns)&&(ns=null),is!==null&&ah(is)&&(is=null),Hl.forEach(d_),Fl.forEach(d_)}function oh(t,r){t.blockedOn===r&&(t.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,QS)))}var lh=null;function m_(t){lh!==t&&(lh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Vm(l||a)===null)continue;break}var d=Pn(a);d!==null&&(t.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function co(t){function r(O){return oh(O,t)}ts!==null&&oh(ts,t),ns!==null&&oh(ns,t),is!==null&&oh(is,t),Hl.forEach(r),Fl.forEach(r);for(var a=0;a<rs.length;a++){var l=rs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<rs.length&&(a=rs[0],a.blockedOn===null);)f_(a),a.blockedOn===null&&rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Ut]||null;if(typeof d=="function")v||m_(a);else if(v){var w=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Ut]||null)w=v.formAction;else if(Vm(f)!==null)continue}else w=v.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),m_(a)}}}function p_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}uh.prototype.render=Pm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();a_(a,l,t,r,null,null)},uh.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;a_(t.current,2,null,t,null,null),Hc(),r[vi]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Hu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<rs.length&&r!==0&&r<rs[a].priority;a++);rs.splice(a,0,t),a===0&&f_(t)}};var g_=e.version;if(g_!=="19.2.3")throw Error(s(527,g_,"19.2.3"));se.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var KS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Xn=ch.inject(KS),Gt=ch}catch{}}return Ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=w0,d=S0,v=A0;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=r_(t,1,!1,null,null,a,l,null,f,d,v,p_),t[vi]=r.current,ym(t),new Pm(r)},Ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=w0,v=S0,w=A0,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=r_(t,1,!0,r,a??null,l,f,O,d,v,w,p_),r.context=s_(null),a=r.current,l=In(),l=Ms(l),f=Hr(l),f.callback=null,Fr(a,f,l),a=l,r.current.lanes=a,Ds(r,a),Vi(r),t[vi]=r.current,ym(t),new uh(r)},Ql.version="19.2.3",Ql}var x_;function rA(){if(x_)return Um.exports;x_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=iA(),Um.exports}var sA=rA();var R_="popstate";function aA(i={}){function e(o,u){let{pathname:c="/",search:m="",hash:p=""}=va(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),op("",{pathname:c,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:lu(u))}function s(o,u){Mn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return lA(e,n,s,i)}function ft(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function C_(i,e){return{usr:i.state,key:i.key,idx:e}}function op(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:n,key:e&&e.key||s||oA()}}function lu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function va(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function lA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function b(){m="POP";let q=_(),F=q==null?null:q-g;g=q,p&&p({action:m,location:z.location,delta:F})}function S(q,F){m="PUSH";let Y=op(z.location,q,F);n&&n(Y,q),g=_()+1;let K=C_(Y,g),le=z.createHref(Y);try{c.pushState(K,"",le)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(le)}u&&p&&p({action:m,location:z.location,delta:1})}function C(q,F){m="REPLACE";let Y=op(z.location,q,F);n&&n(Y,q),g=_();let K=C_(Y,g),le=z.createHref(Y);c.replaceState(K,"",le),u&&p&&p({action:m,location:z.location,delta:0})}function U(q){return uA(q)}let z={get action(){return m},get location(){return i(o,c)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(R_,b),p=q,()=>{o.removeEventListener(R_,b),p=null}},createHref(q){return e(o,q)},createURL:U,encodeLocation(q){let F=U(q);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:C,go(q){return c.go(q)}};return z}function uA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:lu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _T(i,e,n="/"){return cA(i,e,n,!1)}function cA(i,e,n,s){let o=typeof e=="string"?va(e):e,u=yr(o.pathname||"/",n);if(u==null)return null;let c=ET(i);hA(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=bA(u);m=EA(c[p],g,s)}return m}function ET(i,e=[],n=[],s="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;ft(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let b=pr([s,_.relativePath]),S=n.concat(_);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),ET(c.children,e,S,b,p)),!(c.path==null&&!c.index)&&e.push({path:b,score:vA(b,c.index),routesMeta:S})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of TT(c.path))u(c,m,!0,p)}),e}function TT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=TT(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function hA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:_A(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var fA=/^:[\w-]+$/,dA=3,mA=2,pA=1,gA=10,yA=-2,N_=i=>i==="*";function vA(i,e){let n=i.split("/"),s=n.length;return n.some(N_)&&(s+=yA),e&&(s+=mA),n.filter(o=>!N_(o)).reduce((o,u)=>o+(fA.test(u)?dA:u===""?pA:gA),s)}function _A(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function EA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!b)return null;Object.assign(o,b.params),c.push({params:o,pathname:pr([u,b.pathname]),pathnameBase:xA(pr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=pr([u,b.pathnameBase]))}return c}function Mh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=TA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:b},S)=>{if(_==="*"){let U=m[S]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[S];return b&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function TA(i,e=!1,n=!0){Mn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function bA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function yr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var bT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wA=i=>bT.test(i);function SA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?va(i):i,u;if(n)if(wA(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=I_(n.substring(1),"/"):u=I_(n,e)}else u=e;return{pathname:u,search:RA(s),hash:CA(o)}}function I_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bp(i){let e=AA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qp(i,e,n,s=!1){let o;typeof i=="string"?o=va(i):(o={...i},ft(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let b=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=SA(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),xA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),RA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,CA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,NA=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function IA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function DA(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var wT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ST(i,e){let n=i;if(typeof n!="string"||!bT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(wT)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=yr(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Mn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AT=["POST","PUT","PATCH","DELETE"];new Set(AT);var OA=["GET",...AT];new Set(OA);var Do=x.createContext(null);Do.displayName="DataRouter";var af=x.createContext(null);af.displayName="DataRouterState";var MA=x.createContext(!1),xT=x.createContext({isTransitioning:!1});xT.displayName="ViewTransition";var VA=x.createContext(new Map);VA.displayName="Fetchers";var kA=x.createContext(null);kA.displayName="Await";var Vn=x.createContext(null);Vn.displayName="Navigation";var Tu=x.createContext(null);Tu.displayName="Location";var fi=x.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var Hp=x.createContext(null);Hp.displayName="RouteError";var RT="REACT_ROUTER_ERROR",PA="REDIRECT",LA="ROUTE_ERROR_RESPONSE";function jA(i){if(i.startsWith(`${RT}:${PA}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function UA(i){if(i.startsWith(`${RT}:${LA}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new NA(e.status,e.statusText,e.data)}catch{}}function zA(i,{relative:e}={}){ft(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(Vn),{hash:o,pathname:u,search:c}=bu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:c,hash:o})}function Oo(){return x.useContext(Tu)!=null}function Fi(){return ft(Oo(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Tu).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NT(i){x.useContext(Vn).static||x.useLayoutEffect(i)}function of(){let{isDataRoute:i}=x.useContext(fi);return i?t2():BA()}function BA(){ft(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Do),{basename:e,navigator:n}=x.useContext(Vn),{matches:s}=x.useContext(fi),{pathname:o}=Fi(),u=JSON.stringify(Bp(s)),c=x.useRef(!1);return NT(()=>{c.current=!0}),x.useCallback((p,g={})=>{if(Mn(c.current,CT),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=qp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:pr([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}var qA=x.createContext(null);function HA(i){let e=x.useContext(fi).outlet;return x.useMemo(()=>e&&x.createElement(qA.Provider,{value:i},e),[e,i])}function bu(i,{relative:e}={}){let{matches:n}=x.useContext(fi),{pathname:s}=Fi(),o=JSON.stringify(Bp(n));return x.useMemo(()=>qp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function FA(i,e){return IT(i,e)}function IT(i,e,n,s,o){ft(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=x.useContext(Vn),{matches:c}=x.useContext(fi),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",b=m&&m.route;{let Y=b&&b.path||"";OT(g,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let S=Fi(),C;if(e){let Y=typeof e=="string"?va(e):e;ft(_==="/"||Y.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),C=Y}else C=S;let U=C.pathname||"/",z=U;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");z="/"+U.replace(/^\//,"").split("/").slice(Y.length).join("/")}let q=_T(i,{pathname:z});Mn(b||q!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Mn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=$A(q&&q.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:pr([_,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:pr([_,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),c,n,s,o);return e&&F?x.createElement(Tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},F):F}function GA(){let i=e2(),e=IA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:o},n):null,c)}var YA=x.createElement(GA,null),DT=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=UA(i.digest);n&&(i=n)}let e=i!==void 0?x.createElement(fi.Provider,{value:this.props.routeContext},x.createElement(Hp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?x.createElement(QA,{error:i},e):e}};DT.contextType=MA;var Fm=new WeakMap;function QA({children:i,error:e}){let{basename:n}=x.useContext(Vn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=jA(e.digest);if(s){let o=Fm.get(e);if(o)throw o;let u=ST(s.location,n);if(wT&&!Fm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Fm.set(e,c),c}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function KA({routeContext:i,match:e,children:n}){let s=x.useContext(Do);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(fi.Provider,{value:i},n)}function $A(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let _=u.findIndex(b=>b.route.id&&c?.[b.route.id]!==void 0);ft(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let b=u[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=_),b.route.id){let{loaderData:S,errors:C}=n,U=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!C||C[b.route.id]===void 0);if(b.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(_,b)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:DA(n.matches),errorInfo:b})}:void 0;return u.reduceRight((_,b,S)=>{let C,U=!1,z=null,q=null;n&&(C=c&&b.route.id?c[b.route.id]:void 0,z=b.route.errorElement||YA,m&&(p<0&&S===0?(OT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,q=null):p===S&&(U=!0,q=b.route.hydrateFallbackElement||null)));let F=e.concat(u.slice(0,S+1)),Y=()=>{let K;return C?K=z:U?K=q:b.route.Component?K=x.createElement(b.route.Component,null):b.route.element?K=b.route.element:K=_,x.createElement(KA,{match:b,routeContext:{outlet:_,matches:F,isDataRoute:n!=null},children:K})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?x.createElement(DT,{location:n.location,revalidation:n.revalidation,component:z,error:C,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:g}):Y()},null)}function Fp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(i){let e=x.useContext(Do);return ft(e,Fp(i)),e}function WA(i){let e=x.useContext(af);return ft(e,Fp(i)),e}function ZA(i){let e=x.useContext(fi);return ft(e,Fp(i)),e}function Gp(i){let e=ZA(i),n=e.matches[e.matches.length-1];return ft(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function JA(){return Gp("useRouteId")}function e2(){let i=x.useContext(Hp),e=WA("useRouteError"),n=Gp("useRouteError");return i!==void 0?i:e.errors?.[n]}function t2(){let{router:i}=XA("useNavigate"),e=Gp("useNavigate"),n=x.useRef(!1);return NT(()=>{n.current=!0}),x.useCallback(async(o,u={})=>{Mn(n.current,CT),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var D_={};function OT(i,e,n){!e&&!D_[i]&&(D_[i]=!0,Mn(!1,n))}x.memo(n2);function n2({routes:i,future:e,state:n,onError:s}){return IT(i,void 0,n,s,e)}function i2({to:i,replace:e,state:n,relative:s}){ft(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(Vn);Mn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(fi),{pathname:c}=Fi(),m=of(),p=qp(i,Bp(u),c,s==="path"),g=JSON.stringify(p);return x.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function r2(i){return HA(i.context)}function Dn(i){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s2({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){ft(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=va(n));let{pathname:g="/",search:_="",hash:b="",state:S=null,key:C="default"}=n,U=x.useMemo(()=>{let z=yr(g,m);return z==null?null:{location:{pathname:z,search:_,hash:b,state:S,key:C},navigationType:s}},[m,g,_,b,S,C,s]);return Mn(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${b}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:x.createElement(Vn.Provider,{value:p},x.createElement(Tu.Provider,{children:e,value:U}))}function a2({children:i,location:e}){return FA(lp(i),e)}function lp(i,e=[]){let n=[];return x.Children.forEach(i,(s,o)=>{if(!x.isValidElement(s))return;let u=[...e,o];if(s.type===x.Fragment){n.push.apply(n,lp(s.props.children,u));return}ft(s.type===Dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=lp(s.props.children,u)),n.push(c)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function lf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function o2(i){return lf(i)&&i.tagName.toLowerCase()==="button"}function l2(i){return lf(i)&&i.tagName.toLowerCase()==="form"}function u2(i){return lf(i)&&i.tagName.toLowerCase()==="input"}function c2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function h2(i,e){return i.button===0&&(!e||e==="_self")&&!c2(i)}var hh=null;function f2(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var d2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(i){return i!=null&&!d2.has(i)?(Mn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):i}function m2(i,e){let n,s,o,u,c;if(l2(i)){let m=i.getAttribute("action");s=m?yr(m,e):null,n=i.getAttribute("method")||Eh,o=Gm(i.getAttribute("enctype"))||Th,u=new FormData(i)}else if(o2(i)||u2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?yr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Eh,o=Gm(i.getAttribute("formenctype"))||Gm(m.getAttribute("enctype"))||Th,u=new FormData(m,i),!f2()){let{name:g,type:_,value:b}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(lf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,s=null,o=Th,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function p2(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&yr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function g2(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function v2(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await g2(u,n);return c.links?c.links():[]}return[]}));return b2(s.flat(1).filter(y2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function O_(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _2(i,e,{includeHydrateFallback:n}={}){return E2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function E2(i){return[...new Set(i)]}function T2(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function b2(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(T2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function MT(){let i=x.useContext(Do);return Yp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function w2(){let i=x.useContext(af);return Yp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Qp=x.createContext(void 0);Qp.displayName="FrameworkContext";function VT(){let i=x.useContext(Qp);return Yp(i,"You must render this element inside a <HydratedRouter> element"),i}function S2(i,e){let n=x.useContext(Qp),[s,o]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:b}=e,S=x.useRef(null);x.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let z=F=>{F.forEach(Y=>{c(Y.isIntersecting)})},q=new IntersectionObserver(z,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[i]),x.useEffect(()=>{if(s){let z=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(z)}}},[s]);let C=()=>{o(!0)},U=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Kl(m,C),onBlur:Kl(p,U),onMouseEnter:Kl(g,C),onMouseLeave:Kl(_,U),onTouchStart:Kl(b,C)}]:[!1,S,{}]}function Kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function A2({page:i,...e}){let{router:n}=MT(),s=x.useMemo(()=>_T(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?x.createElement(R2,{page:i,matches:s,...e}):null}function x2(i){let{manifest:e,routeModules:n}=VT(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return v2(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function R2({page:i,matches:e,...n}){let s=Fi(),{future:o,manifest:u,routeModules:c}=VT(),{basename:m}=MT(),{loaderData:p,matches:g}=w2(),_=x.useMemo(()=>O_(i,e,g,u,s,"data"),[i,e,g,u,s]),b=x.useMemo(()=>O_(i,e,g,u,s,"assets"),[i,e,g,u,s]),S=x.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let z=new Set,q=!1;if(e.forEach(Y=>{let K=u.routes[Y.route.id];!K||!K.hasLoader||(!_.some(le=>le.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||K.hasClientLoader?q=!0:z.add(Y.route.id))}),z.size===0)return[];let F=p2(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return q&&z.size>0&&F.searchParams.set("_routes",e.filter(Y=>z.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,_,e,i,c]),C=x.useMemo(()=>_2(b,u),[b,u]),U=x2(b);return x.createElement(x.Fragment,null,S.map(z=>x.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),C.map(z=>x.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),U.map(({key:z,link:q})=>x.createElement("link",{key:z,nonce:n.nonce,...q})))}function C2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N2&&(window.__reactRouterVersion="7.12.0")}catch{}function I2({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=x.useRef();o.current==null&&(o.current=aA({window:s,v5Compat:!0}));let u=o.current,[c,m]=x.useState({action:u.action,location:u.location}),p=x.useCallback(g=>{n===!1?m(g):x.startTransition(()=>m(g))},[n]);return x.useLayoutEffect(()=>u.listen(p),[u,p]),x.createElement(s2,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var kT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aa=x.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},U){let{basename:z,unstable_useTransitions:q}=x.useContext(Vn),F=typeof g=="string"&&kT.test(g),Y=ST(g,z);g=Y.to;let K=zA(g,{relative:o}),[le,oe,me]=S2(s,C),N=V2(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:S,unstable_useTransitions:q});function R(P){e&&e(P),P.defaultPrevented||N(P)}let I=x.createElement("a",{...C,...me,href:Y.absoluteURL||K,onClick:Y.isExternal||u?e:R,ref:C2(U,oe),target:p,"data-discover":!F&&n==="render"?"true":void 0});return le&&!F?x.createElement(x.Fragment,null,I,x.createElement(A2,{page:K})):I});aa.displayName="Link";var D2=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let b=bu(c,{relative:g.relative}),S=Fi(),C=x.useContext(af),{navigator:U,basename:z}=x.useContext(Vn),q=C!=null&&U2(b)&&m===!0,F=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,Y=S.pathname,K=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),K=K?K.toLowerCase():null,F=F.toLowerCase()),K&&z&&(K=yr(K,z)||K);const le=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let oe=Y===F||!o&&Y.startsWith(F)&&Y.charAt(le)==="/",me=K!=null&&(K===F||!o&&K.startsWith(F)&&K.charAt(F.length)==="/"),N={isActive:oe,isPending:me,isTransitioning:q},R=oe?e:void 0,I;typeof s=="function"?I=s(N):I=[s,oe?"active":null,me?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(N):u;return x.createElement(aa,{...g,"aria-current":R,className:I,ref:_,style:P,to:c,viewTransition:m},typeof p=="function"?p(N):p)});D2.displayName="NavLink";var O2=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Eh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:S,...C},U)=>{let{unstable_useTransitions:z}=x.useContext(Vn),q=L2(),F=j2(m,{relative:g}),Y=c.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&kT.test(m),le=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let me=oe.nativeEvent.submitter,N=me?.getAttribute("formmethod")||c,R=()=>q(me||oe.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:b,unstable_defaultShouldRevalidate:S});z&&n!==!1?x.startTransition(()=>R()):R()};return x.createElement("form",{ref:U,method:Y,action:F,onSubmit:s?p:le,...C,"data-discover":!K&&i==="render"?"true":void 0})});O2.displayName="Form";function M2(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PT(i){let e=x.useContext(Do);return ft(e,M2(i)),e}function V2(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=of(),_=Fi(),b=bu(i,{relative:u});return x.useCallback(S=>{if(h2(S,e)){S.preventDefault();let C=n!==void 0?n:lu(_)===lu(b),U=()=>g(i,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?x.startTransition(()=>U()):U()}},[_,g,b,n,s,e,i,o,u,c,m,p])}var k2=0,P2=()=>`__${String(++k2)}__`;function L2(){let{router:i}=PT("useSubmit"),{basename:e}=x.useContext(Vn),n=JA(),s=i.fetch,o=i.navigate;return x.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:_,body:b}=m2(u,e);if(c.navigate===!1){let S=c.fetcherKey||P2();await s(S,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:b,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:b,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function j2(i,{relative:e}={}){let{basename:n}=x.useContext(Vn),s=x.useContext(fi);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...bu(i||".",{relative:e})},c=Fi();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),lu(u)}function U2(i,{relative:e}={}){let n=x.useContext(xT);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=PT("useViewTransitionState"),o=bu(i,{relative:e});if(!n.isTransitioning)return!1;let u=yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mh(o.pathname,c)!=null||Mh(o.pathname,u)!=null}const z2=()=>{};var M_={};const LT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},B2=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),s.push(n[_],n[b],n[S],n[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(LT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):B2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new q2;const S=u<<2|m>>4;if(s.push(S),g!==64){const C=m<<4&240|g>>2;if(s.push(C),b!==64){const U=g<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class q2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const H2=function(i){const e=LT(i);return jT.encodeByteArray(e,!0)},Vh=function(i){return H2(i).replace(/\./g,"")},UT=function(i){try{return jT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function F2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const G2=()=>F2().__FIREBASE_DEFAULTS__,Y2=()=>{if(typeof process>"u"||typeof M_>"u")return;const i=M_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Q2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&UT(i[1]);return e&&JSON.parse(e)},uf=()=>{try{return z2()||G2()||Y2()||Q2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},zT=i=>uf()?.emulatorHosts?.[i],K2=i=>{const e=zT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},BT=()=>uf()?.config,qT=i=>uf()?.[`_${i}`];class $2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Mo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function HT(i){return(await fetch(i,{credentials:"include"})).ok}function X2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Vh(JSON.stringify(n)),Vh(JSON.stringify(c)),""].join(".")}const nu={};function W2(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function Z2(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let V_=!1;function FT(i,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||nu[i]===e||nu[i]||V_)return;nu[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=W2().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{V_=!0,c()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Z2(s),C=n("text"),U=document.getElementById(C)||document.createElement("span"),z=n("learnmore"),q=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const K=S.element;m(K),_(q,z);const le=g();p(Y,F),K.append(Y,U,q,le),document.body.appendChild(K)}u?(U.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function ex(){const i=uf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rx(){const i=sn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sx(){return!ex()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ax(){try{return typeof indexedDB=="object"}catch{return!1}}function ox(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const lx="FirebaseError";class Ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=lx,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?ux(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Ar(o,m,s)}}function ux(i,e){return i.replace(cx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const cx=/\{\$([^}]+)}/g;function hx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(k_(u)&&k_(c)){if(!fa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function k_(i){return i!==null&&typeof i=="object"}function Su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function fx(i,e){const n=new dx(i,e);return n.subscribe.bind(n)}class dx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");mx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Ym(){}function Ft(i){return i&&i._delegate?i._delegate:i}class da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ra="[DEFAULT]";class px{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yx(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gx(i){return i===ra?void 0:i}function yx(i){return i.instantiationMode==="EAGER"}class vx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new px(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const _x={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Ex=Pe.INFO,Tx={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},bx=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Tx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=Ex,this._logHandler=bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_x[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wx=(i,e)=>e.some(n=>i instanceof n);let P_,L_;function Sx(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ax(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GT=new WeakMap,up=new WeakMap,YT=new WeakMap,Qm=new WeakMap,$p=new WeakMap;function xx(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(ds(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GT.set(n,i)}).catch(()=>{}),$p.set(e,i),e}function Rx(i){if(up.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});up.set(i,e)}let cp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||YT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Cx(i){cp=i(cp)}function Nx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Km(this),e,...n);return YT.set(s,e.sort?e.sort():[e]),ds(s)}:Ax().includes(i)?function(...e){return i.apply(Km(this),e),ds(GT.get(this))}:function(...e){return ds(i.apply(Km(this),e))}}function Ix(i){return typeof i=="function"?Nx(i):(i instanceof IDBTransaction&&Rx(i),wx(i,Sx())?new Proxy(i,cp):i)}function ds(i){if(i instanceof IDBRequest)return xx(i);if(Qm.has(i))return Qm.get(i);const e=Ix(i);return e!==i&&(Qm.set(i,e),$p.set(e,i)),e}const Km=i=>$p.get(i);function Dx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=ds(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ds(c.result),p.oldVersion,p.newVersion,ds(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Ox=["get","getKey","getAll","getAllKeys","count"],Mx=["put","add","delete","clear"],$m=new Map;function j_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Mx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ox.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return $m.set(e,u),u}Cx(i=>({...i,get:(e,n,s)=>j_(e,n)||i.get(e,n,s),has:(e,n)=>!!j_(e,n)||i.has(e,n)}));class Vx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kx(i){return i.getComponent()?.type==="VERSION"}const hp="@firebase/app",U_="0.14.6";const vr=new Kp("@firebase/app"),Px="@firebase/app-compat",Lx="@firebase/analytics-compat",jx="@firebase/analytics",Ux="@firebase/app-check-compat",zx="@firebase/app-check",Bx="@firebase/auth",qx="@firebase/auth-compat",Hx="@firebase/database",Fx="@firebase/data-connect",Gx="@firebase/database-compat",Yx="@firebase/functions",Qx="@firebase/functions-compat",Kx="@firebase/installations",$x="@firebase/installations-compat",Xx="@firebase/messaging",Wx="@firebase/messaging-compat",Zx="@firebase/performance",Jx="@firebase/performance-compat",eR="@firebase/remote-config",tR="@firebase/remote-config-compat",nR="@firebase/storage",iR="@firebase/storage-compat",rR="@firebase/firestore",sR="@firebase/ai",aR="@firebase/firestore-compat",oR="firebase",lR="12.6.0";const fp="[DEFAULT]",uR={[hp]:"fire-core",[Px]:"fire-core-compat",[jx]:"fire-analytics",[Lx]:"fire-analytics-compat",[zx]:"fire-app-check",[Ux]:"fire-app-check-compat",[Bx]:"fire-auth",[qx]:"fire-auth-compat",[Hx]:"fire-rtdb",[Fx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Yx]:"fire-fn",[Qx]:"fire-fn-compat",[Kx]:"fire-iid",[$x]:"fire-iid-compat",[Xx]:"fire-fcm",[Wx]:"fire-fcm-compat",[Zx]:"fire-perf",[Jx]:"fire-perf-compat",[eR]:"fire-rc",[tR]:"fire-rc-compat",[nR]:"fire-gcs",[iR]:"fire-gcs-compat",[rR]:"fire-fst",[aR]:"fire-fst-compat",[sR]:"fire-vertex","fire-js":"fire-js",[oR]:"fire-js-all"};const kh=new Map,cR=new Map,dp=new Map;function z_(i,e){try{i.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function bo(i){const e=i.name;if(dp.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const n of kh.values())z_(n,i);for(const n of cR.values())z_(n,i);return!0}function Xp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function li(i){return i==null?!1:i.settings!==void 0}const hR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new wu("app","Firebase",hR);class fR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const Vo=lR;function QT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:fp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ms.create("bad-app-name",{appName:String(o)});if(n||(n=BT()),!n)throw ms.create("no-options");const u=kh.get(o);if(u){if(fa(n,u.options)&&fa(s,u.config))return u;throw ms.create("duplicate-app",{appName:o})}const c=new vx(o);for(const p of dp.values())c.addComponent(p);const m=new fR(n,s,c);return kh.set(o,m),m}function KT(i=fp){const e=kh.get(i);if(!e&&i===fp&&BT())return QT();if(!e)throw ms.create("no-app",{appName:i});return e}function ps(i,e,n){let s=uR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}bo(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const dR="firebase-heartbeat-database",mR=1,uu="firebase-heartbeat-store";let Xm=null;function $T(){return Xm||(Xm=Dx(dR,mR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(i=>{throw ms.create("idb-open",{originalErrorMessage:i.message})})),Xm}async function pR(i){try{const n=(await $T()).transaction(uu),s=await n.objectStore(uu).get(XT(i));return await n.done,s}catch(e){if(e instanceof Ar)vr.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e?.message});vr.warn(n.message)}}}async function B_(i,e){try{const s=(await $T()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,XT(i)),await s.done}catch(n){if(n instanceof Ar)vr.warn(n.message);else{const s=ms.create("idb-set",{originalErrorMessage:n?.message});vr.warn(s.message)}}}function XT(i){return`${i.name}!${i.options.appId}`}const gR=1024,yR=30;class vR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ER(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>yR){const o=TR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=q_(),{heartbeatsToSend:n,unsentEntries:s}=_R(this._heartbeatsCache.heartbeats),o=Vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return vr.warn(e),""}}}function q_(){return new Date().toISOString().substring(0,10)}function _R(i,e=gR){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),H_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),H_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ER{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ax()?ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H_(i){return Vh(JSON.stringify({version:2,heartbeats:i})).length}function TR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function bR(i){bo(new da("platform-logger",e=>new Vx(e),"PRIVATE")),bo(new da("heartbeat",e=>new vR(e),"PRIVATE")),ps(hp,U_,i),ps(hp,U_,"esm2020"),ps("fire-js","")}bR("");var wR="firebase",SR="12.7.0";ps(wR,SR,"app");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gs,WT;(function(){var i;function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(P,M,j){for(var D=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)D[ge-2]=arguments[ge];return R.prototype[M].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);const P=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)P[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;M<16;++M)P[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],M=N.g[2];let j=N.g[3],D;D=R+(j^I&(M^j))+P[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(M^R&(I^M))+P[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=M+(I^j&(R^I))+P[2]+606105819&4294967295,M=j+(D<<17&4294967295|D>>>15),D=I+(R^M&(j^R))+P[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(j^I&(M^j))+P[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(M^R&(I^M))+P[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=M+(I^j&(R^I))+P[6]+2821735955&4294967295,M=j+(D<<17&4294967295|D>>>15),D=I+(R^M&(j^R))+P[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(j^I&(M^j))+P[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(M^R&(I^M))+P[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=M+(I^j&(R^I))+P[10]+4294925233&4294967295,M=j+(D<<17&4294967295|D>>>15),D=I+(R^M&(j^R))+P[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(j^I&(M^j))+P[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=j+(M^R&(I^M))+P[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=M+(I^j&(R^I))+P[14]+2792965006&4294967295,M=j+(D<<17&4294967295|D>>>15),D=I+(R^M&(j^R))+P[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(M^j&(I^M))+P[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^M&(R^I))+P[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(j^R))+P[11]+643717713&4294967295,M=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(M^j))+P[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^j&(I^M))+P[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^M&(R^I))+P[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(j^R))+P[15]+3634488961&4294967295,M=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(M^j))+P[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^j&(I^M))+P[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^M&(R^I))+P[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(j^R))+P[3]+4107603335&4294967295,M=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(M^j))+P[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^j&(I^M))+P[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=j+(I^M&(R^I))+P[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(j^R))+P[7]+1735328473&4294967295,M=j+(D<<14&4294967295|D>>>18),D=I+(j^R&(M^j))+P[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(I^M^j)+P[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^M)+P[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=M+(j^R^I)+P[11]+1839030562&4294967295,M=j+(D<<16&4294967295|D>>>16),D=I+(M^j^R)+P[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^j)+P[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^M)+P[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=M+(j^R^I)+P[7]+4139469664&4294967295,M=j+(D<<16&4294967295|D>>>16),D=I+(M^j^R)+P[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^j)+P[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^M)+P[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=M+(j^R^I)+P[3]+3572445317&4294967295,M=j+(D<<16&4294967295|D>>>16),D=I+(M^j^R)+P[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^j)+P[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=j+(R^I^M)+P[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=M+(j^R^I)+P[15]+530742520&4294967295,M=j+(D<<16&4294967295|D>>>16),D=I+(M^j^R)+P[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(M^(I|~j))+P[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~M))+P[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=M+(R^(j|~I))+P[14]+2878612391&4294967295,M=j+(D<<15&4294967295|D>>>17),D=I+(j^(M|~R))+P[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~j))+P[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~M))+P[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=M+(R^(j|~I))+P[10]+4293915773&4294967295,M=j+(D<<15&4294967295|D>>>17),D=I+(j^(M|~R))+P[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~j))+P[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~M))+P[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=M+(R^(j|~I))+P[6]+2734768916&4294967295,M=j+(D<<15&4294967295|D>>>17),D=I+(j^(M|~R))+P[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~j))+P[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=j+(I^(R|~M))+P[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=M+(R^(j|~I))+P[2]+718787259&4294967295,M=j+(D<<15&4294967295|D>>>17),D=I+(j^(M|~R))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,P=this.C;let M=this.h,j=0;for(;j<R;){if(M==0)for(;j<=I;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<R;)if(P[M++]=N.charCodeAt(j++),M==this.blockSize){o(this,P),M=0;break}}else for(;j<R;)if(P[M++]=N[j++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)N[R++]=this.g[I]>>>P&255;return N};function u(N,R){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function c(N,R){this.h=R;const I=[];let P=!0;for(let M=N.length-1;M>=0;M--){const j=N[M]|0;P&&j==R||(I[M]=j,P=!1)}this.g=I}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new c([R|0],R<0?-1:0)}):new c([N|0],N<0?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return q(g(-N));const R=[];let I=1;for(let P=0;N>=I;P++)R[P]=N/I|0,I*=4294967296;return new c(R,0)}function _(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return q(_(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let P=b;for(let j=0;j<N.length;j+=8){var M=Math.min(8,N.length-j);const D=parseInt(N.substring(j,j+M),R);M<8?(M=g(Math.pow(R,M)),P=P.j(M).add(g(D))):(P=P.j(I),P=P.add(g(D)))}return P}var b=p(0),S=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(z(this))return-q(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);N+=(P>=0?P:4294967296+P)*R,R*=4294967296}return N},i.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(U(this))return"0";if(z(this))return"-"+q(this).toString(N);const R=g(Math.pow(N,6));var I=this;let P="";for(;;){const M=le(I,R).g;I=F(I,M.j(R));let j=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=M,U(I))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},i.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function U(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function z(N){return N.h==-1}i.l=function(N){return N=F(this,N),z(N)?-1:U(N)?0:1};function q(N){const R=N.g.length,I=[];for(let P=0;P<R;P++)I[P]=~N.g[P];return new c(I,~N.h).add(S)}i.abs=function(){return z(this)?q(this):this},i.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let P=0;for(let M=0;M<=R;M++){let j=P+(this.i(M)&65535)+(N.i(M)&65535),D=(j>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);P=D>>>16,j&=65535,D&=65535,I[M]=D<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(N,R){return N.add(q(R))}i.j=function(N){if(U(this)||U(N))return b;if(z(this))return z(N)?q(this).j(q(N)):q(q(this).j(N));if(z(N))return q(this.j(q(N)));if(this.l(C)<0&&N.l(C)<0)return g(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<N.g.length;M++){const j=this.i(P)>>>16,D=this.i(P)&65535,ge=N.i(M)>>>16,Ye=N.i(M)&65535;I[2*P+2*M]+=D*Ye,Y(I,2*P+2*M),I[2*P+2*M+1]+=j*Ye,Y(I,2*P+2*M+1),I[2*P+2*M+1]+=D*ge,Y(I,2*P+2*M+1),I[2*P+2*M+2]+=j*ge,Y(I,2*P+2*M+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new c(I,0)};function Y(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function K(N,R){this.g=N,this.h=R}function le(N,R){if(U(R))throw Error("division by zero");if(U(N))return new K(b,b);if(z(N))return R=le(q(N),R),new K(q(R.g),q(R.h));if(z(R))return R=le(N,q(R)),new K(q(R.g),R.h);if(N.g.length>30){if(z(N)||z(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,P=R;P.l(N)<=0;)I=oe(I),P=oe(P);var M=me(I,1),j=me(P,1);for(P=me(P,2),I=me(I,2);!U(P);){var D=j.add(P);D.l(N)<=0&&(M=M.add(I),j=D),P=me(P,1),I=me(I,1)}return R=F(N,M.j(R)),new K(M,R)}for(M=b;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=g(I),D=j.j(R);z(D)||D.l(N)>0;)I-=P,j=g(I),D=j.j(R);U(j)&&(j=S),M=M.add(j),N=F(N,D)}return new K(M,N)}i.B=function(N){return le(this,N).h},i.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)&N.i(P);return new c(I,this.h&N.h)},i.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)|N.i(P);return new c(I,this.h|N.h)},i.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)^N.i(P);return new c(I,this.h^N.h)};function oe(N){const R=N.g.length+1,I=[];for(let P=0;P<R;P++)I[P]=N.i(P)<<1|N.i(P-1)>>>31;return new c(I,N.h)}function me(N,R){const I=R>>5;R%=32;const P=N.g.length-I,M=[];for(let j=0;j<P;j++)M[j]=R>0?N.i(j+I)>>>R|N.i(j+I+1)<<32-R:N.i(j+I);return new c(M,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WT=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,gs=c}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZT,Zl,JT,bh,mp,eb,tb,nb;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var B=h[A];if(!(B in E))break e;E=E[B]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function b(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,B,$){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[B].apply(A,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function U(h,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=h.length||0;const $=B.length||0;h.length=E+$;for(let ae=0;ae<$;ae++)h[E+ae]=B[ae]}else h.push(B)}}class z{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(h){c.setTimeout(()=>{throw h},0)}function F(){var h=N;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,E){const A=K.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var K=new z(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,N=new Y,R=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=F();){try{h.h.call(h.g)}catch(E){q(E)}var y=K;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}me=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function ge(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}b(ge,M),ge.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ye="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(h,y,E,A,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=B,this.key=++W,this.da=this.fa=!1}function ce(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function De(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function ze(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,y){let E,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(E in A)h[E]=A[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,y,E,A,B){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ae=Ne(h,y,A,B);return ae>-1?(y=h[ae],E||(y.fa=!1)):(y=new se(y,this.src,$,!!A,B),y.fa=E,h.push(y)),y};function be(h,y){const E=y.type;if(E in h.g){var A=h.g[E],B=Array.prototype.indexOf.call(A,y,void 0),$;($=B>=0)&&Array.prototype.splice.call(A,B,1),$&&(ce(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Ne(h,y,E,A){for(let B=0;B<h.length;++B){const $=h[B];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return B}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),kt={};function ut(h,y,E,A,B){if(Array.isArray(y)){for(let $=0;$<y.length;$++)ut(h,y[$],E,A,B);return null}return E=Fo(E),h&&h[Ye]?h.J(y,E,m(A)?!!A.capture:!1,B):Rs(h,y,E,!1,A,B)}function Rs(h,y,E,A,B,$){if(!y)throw Error("Invalid event type");const ae=m(B)?!!B.capture:!!B;let xe=Cs(h);if(xe||(h[Be]=xe=new fe(h)),E=xe.add(y,E,A,ae,$),E.proxy)return E;if(A=Ta(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(B=ae),B===void 0&&(B=!1),h.addEventListener(y.toString(),A,B);else if(h.attachEvent)h.attachEvent(di(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ta(){function h(E){return y.call(h.src,h.listener,E)}const y=qo;return h}function ba(h,y,E,A,B){if(Array.isArray(y))for(var $=0;$<y.length;$++)ba(h,y[$],E,A,B);else A=m(A)?!!A.capture:!!A,E=Fo(E),h&&h[Ye]?(h=h.i,$=String(y).toString(),$ in h.g&&(y=h.g[$],E=Ne(y,E,A,B),E>-1&&(ce(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[$],h.h--)))):h&&(h=Cs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Ne(y,E,A,B)),(E=h>-1?y[h]:null)&&wa(E))}function wa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[Ye])be(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(di(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Cs(y))?(be(E,h),E.h==0&&(E.src=null,y[Be]=null)):ce(h)}}}function di(h){return h in kt?kt[h]:kt[h]="on"+h}function qo(h,y){if(h.da)h=!0;else{y=new ge(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&wa(h),h=E.call(A,y)}return h}function Cs(h){return h=h[Be],h instanceof fe?h:null}var Ho="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fo(h){return typeof h=="function"?h:(h[Ho]||(h[Ho]=function(y){return h.handleEvent(y)}),h[Ho])}function wt(){P.call(this),this.i=new fe(this),this.M=this,this.G=null}b(wt,P),wt.prototype[Ye]=!0,wt.prototype.removeEventListener=function(h,y,E,A){ba(this,h,y,E,A)};function Pt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var B=y;y=new M(A,h),re(y,B)}B=!0;let $,ae;if(E)for(ae=E.length-1;ae>=0;ae--)$=y.g=E[ae],B=Rr($,A,!0,y)&&B;if($=y.g=h,B=Rr($,A,!0,y)&&B,B=Rr($,A,!1,y)&&B,E)for(ae=0;ae<E.length;ae++)$=y.g=E[ae],B=Rr($,A,!1,y)&&B}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)ce(E[A]);delete h.g[y],h.h--}}this.G=null},wt.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},wt.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function Rr(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let $=0;$<y.length;++$){const ae=y[$];if(ae&&!ae.da&&ae.capture==E){const xe=ae.listener,_t=ae.ha||ae.src;ae.fa&&be(h.i,ae),B=xe.call(_t,A)!==!1&&B}}return B&&!A.defaultPrevented}function Uf(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Pu(h){h.g=Uf(()=>{h.g=null,h.i&&(h.i=!1,Pu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class an extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(h){P.call(this),this.h=h,this.g={}}b(Ns,P);var Go=[];function Yo(h){De(h.g,function(y,E){this.g.hasOwnProperty(E)&&wa(y)},h),h.g={}}Ns.prototype.N=function(){Ns.Z.N.call(this),Yo(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=c.JSON.stringify,zf=c.JSON.parse,Lu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ju(){}function Uu(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){M.call(this,"d")}b(Gt,M);function kn(){M.call(this,"c")}b(kn,M);var vt={},zu=null;function Sa(){return zu=zu||new wt}vt.Ia="serverreachability";function Bu(h){M.call(this,vt.Ia,h)}b(Bu,M);function mi(h){const y=Sa();Pt(y,new Bu(y))}vt.STAT_EVENT="statevent";function Is(h,y){M.call(this,vt.STAT_EVENT,h),this.stat=y}b(Is,M);function St(h){const y=Sa();Pt(y,new Is(y,h))}vt.Ja="timingevent";function pi(h,y){M.call(this,vt.Ja,h),this.size=y}b(pi,M);function gi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Bf(h,y,E,A,B,$){h.info(function(){if(h.g)if($){var ae="",xe=$.split("&");for(let Qe=0;Qe<xe.length;Qe++){var _t=xe[Qe].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Un=ct.split("_");ae=Un.length>=2&&Un[1]=="type"?ae+(ct+"="+_t+"&"):ae+(ct+"=redacted&")}}}else ae=null;else ae=$;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+E+`
`+ae})}function qu(h,y,E,A,B,$,ae){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+E+`
`+$+" "+ae})}function yi(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+qf(h,E)+(A?" "+A:"")})}function Ds(h,y){h.info(function(){return"TIMEOUT: "+y})}Wn.prototype.info=function(){};function qf(h,y){if(!h.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ae=1;ae<A.length;ae++)A[ae]=""}}}}return Cr($)}catch{return y}}var Os={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function Ms(){}b(Ms,ju),Ms.prototype.g=function(){return new XMLHttpRequest},Ko=new Ms;function Gi(h){return encodeURIComponent(String(h))}function Hu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function Zn(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new Ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var At={},Ut={};function vi(h,y,E){h.M=1,h.A=Vs(Rt(y)),h.u=E,h.R=!0,Aa(h,null)}function Aa(h,y){h.F=Date.now(),_i(h),h.B=Rt(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Na(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Jn,h.g=rc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new an(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var B="readystatechange";Array.isArray(B)||(B&&(Go[0]=B.toString()),B=Go);for(let $=0;$<B.length;$++){const ae=ut(E,B[$],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),mi(),Bf(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const y=this.O;y&&ni(h)==3?y.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)e:{const xe=ni(this.g),_t=this.g.ya(),Qe=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||xe!=4||_t==7||(_t==8||Qe<=0?mi(3):mi(2)),Ei(this);var y=this.g.ca();this.X=y;var E=Hf(this);if(this.o=y==200,qu(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var $=A;break t}}$=null}if(h=$)yi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,h);else{this.o=!1,this.m=3,St(12),bn(this),Pn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Gu(this,E),ct==Ut){xe==4&&(this.m=4,St(14),h=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),yi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else yi(this.i,this.l,ct,null),Ti(this,ct);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)yi(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Pn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ul(ae),ae.P=!0,St(11))}}else yi(this.i,this.l,E,null),Ti(this,E);xe==4&&bn(this),this.o&&!this.K&&(xe==4?ec(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),bn(this),Pn(this)}}}catch{}};function Hf(h){if(!Fu(h))return h.g.la();const y=Yt(h.g);if(y==="")return"";let E="";const A=y.length,B=ni(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Pn(h),"";h.h.i=new c.TextDecoder}for(let $=0;$<A;$++)h.h.h=!0,E+=h.h.i.decode(y[$],{stream:!(B&&$==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Fu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Gu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Ut:(E=Number(y.substring(E,A)),isNaN(E)?At:(A+=1,A+E>y.length?Ut:(y=y.slice(A,A+E),h.C=A+E,y)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function _i(h){h.T=Date.now()+h.H,xa(h,h.H)}function xa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=gi(g(h.aa,h),y)}function Ei(h){h.D&&(c.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ds(this.i,this.B),this.M!=2&&(mi(),St(17)),bn(this),this.m=2,Pn(this)):xa(this,this.T-h)};function Pn(h){h.j.I==0||h.K||ec(h.j,h)}function bn(h){Ei(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Yo(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ti(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Va(E),Pr(E);else break e;Bs(E),St(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gi(g(E.Va,E),6e3));bi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ni(E,11)}else if((h.L||E.g==h)&&Va(E),!D(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Qe=B[y];const ct=Qe[0];if(!(ct<=E.K))if(E.K=ct,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Un=Qe[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Ii=Qe[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const ii=Qe[5];ii!=null&&typeof ii=="number"&&ii>0&&(A=1.5*ii,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ri=h.g;if(ri){const qs=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qs){var $=A.h;$.g||qs.indexOf("spdy")==-1&&qs.indexOf("quic")==-1&&qs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Wo($,$.h),$.h=null))}if(A.G){const ka=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,Xe(A.J,A.G,ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ae=h;if(A.na=ic(A,A.L?A.ba:null,A.W),ae.L){Zo(A.h,ae);var xe=ae,_t=A.O;_t&&(xe.H=_t),xe.D&&(Ei(xe),_i(xe)),A.g=ae}else Zu(A);E.i.length>0&&Ci(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Ni(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ni(E,7):ol(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}mi(4)}catch{}}var xt=class{constructor(h,y){this.g=h,this.map=y}};function $o(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function bi(h){return h.h?1:h.g?h.g.size:0}function wi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Wo(h,y){h.g?h.g.add(y):h.h=y}function Zo(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}$o.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jo(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let B,$=null;A>=0?(B=h[E].substring(0,A),$=h[E].substring(A+1)):B=h[E],y(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wn?(this.l=h.l,zt(this,h.j),this.o=h.o,this.g=h.g,Nr(this,h.u),this.h=h.h,el(this,Xu(h.i)),this.m=h.m):h&&(y=String(h).match(Yu))?(this.l=!1,zt(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),Nr(this,y[4]),this.h=Si(y[5]||"",!0),el(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}wn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ks(y,Ca,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ks(y,Ca,!0),"@"),h.push(Gi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ks(E,E.charAt(0)=="/"?tl:Qu,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ks(E,Ku)),h.join("")},wn.prototype.resolve=function(h){const y=Rt(this);let E=!!h.j;E?zt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Nr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const $=[];for(let ae=0;ae<B.length;){const xe=B[ae++];xe=="."?A&&ae==B.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&ae==B.length&&$.push("")):($.push(xe),A=!0)}A=$.join("/")}else A=B}return E?y.h=A:E=h.i.toString()!=="",E?el(y,Xu(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Rt(h){return new wn(h)}function zt(h,y,E){h.j=E?Si(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Nr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function el(h,y,E){y instanceof Dr?(h.i=y,Ia(h.i,h.l)):(E||(y=ks(y,Ir)),h.i=new Dr(y,h.l))}function Xe(h,y,E){h.i.set(y,E)}function Vs(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Si(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ks(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,hn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ca=/[#\/\?@]/g,Qu=/[#\?:]/g,tl=/[#\?]/g,Ir=/[#\?@]/g,Ku=/#/g;function Dr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function fn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ra(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Dr.prototype,i.add=function(h,y){fn(this),this.i=null,h=Or(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function $u(h,y){fn(h),y=Or(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function nl(h,y){return fn(h),y=Or(h,y),h.g.has(y)}i.forEach=function(h,y){fn(this),this.g.forEach(function(E,A){E.forEach(function(B){h.call(y,B,A,this)},this)},this)};function il(h,y){fn(h);let E=[];if(typeof y=="string")nl(h,y)&&(E=E.concat(h.g.get(Or(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return fn(this),this.i=null,h=Or(this,h),nl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=il(this,h),h.length>0?String(h[0]):y):y};function Na(h,y,E){$u(h,y),E.length>0&&(h.i=null,h.g.set(Or(h,y),C(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const B=Gi(E);E=il(this,E);for(let $=0;$<E.length;$++){let ae=B;E[$]!==""&&(ae+="="+Gi(E[$])),h.push(ae)}}return this.i=h.join("&")};function Xu(h){const y=new Dr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Or(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ia(h,y){y&&!h.j&&(fn(h),h.i=null,h.g.forEach(function(E,A){const B=A.toLowerCase();A!=B&&($u(this,A),Na(this,B,E))},h)),h.j=y}function ei(h,y){const E=new Wn;if(c.Image){const A=new Image;A.onload=_(Ln,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(Ln,E,"TestLoadImage: error",!1,y,A),A.onabort=_(Ln,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(Ln,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function rl(h,y){const E=new Wn,A=new AbortController,B=setTimeout(()=>{A.abort(),Ln(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then($=>{clearTimeout(B),$.ok?Ln(E,"TestPingServer: ok",!0,y):Ln(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Ln(E,"TestPingServer: error",!1,y)})}function Ln(h,y,E,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(E)}catch{}}function Mr(){this.g=new Lu}function Ai(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ai,ju),Ai.prototype.g=function(){return new Ps(this.i,this.h)};function Ps(h,y){wt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ps,wt),i=Ps.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Da(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Da(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Vr(this):ti(this),this.readyState==3&&Da(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Vr(this))},i.Na=function(h){this.g&&(this.response=h,Vr(this))},i.ga=function(){this.g&&Vr(this)};function Vr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ti(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ps.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function jn(h){let y="";return De(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Ls(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=jn(E),typeof h=="string"?E!=null&&Gi(E):Xe(h,y,E))}function et(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,wt);var xi=/^https?$/i,sl=["POST","PUT"];i=et.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch($){js(this,$);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)E.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(sl,y,void 0)>=0)||A||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of E)this.g.setRequestHeader($,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){js(this,$)}};function js(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,al(h),Yi(h)}function al(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},i.Xa=function(){Us(this)};function Us(h){if(h.h&&typeof u<"u"){if(h.v&&ni(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),ni(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=$===0){let ae=String(h.D).match(Yu)[1]||null;!ae&&c.self&&c.self.location&&(ae=c.self.location.protocol.slice(0,-1)),A=!xi.test(ae?ae.toLowerCase():"")}E=A}if(E)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var B=ni(h)>2?h.g.statusText:""}catch{B=""}h.l=B+" ["+h.ca()+"]",al(h)}}finally{Yi(h)}}}}function Yi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||Pt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ni(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),zf(y)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&ni(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var E=Hu(h[A]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[B]||[];y[B]=$,$.push(E)}ze(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function kr(h){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,h),this.Za=Ri("retryDelaySeedMs",1e4,h),this.Ta=Ri("forwardChannelMaxRetries",2,h),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $o(h&&h.concurrentRequestLimit),this.Ba=new Mr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=kr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){St(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ic(this,null,this.W),Ci(this)};function ol(h){if(Oa(h),h.I==3){var y=h.V++,E=Rt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",y),Xe(E,"TYPE","terminate"),zs(h,E),y=new Zn(h,h.j,y),y.M=2,y.A=Vs(Rt(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=rc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),_i(y)}nc(h)}function Pr(h){h.g&&(ul(h),h.g.cancel(),h.g=null)}function Oa(h){Pr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Va(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Ci(h){if(!Xo(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||R(),me||(oe(),me=!0),N.add(y,h),h.D=0}}function Ma(h,y){return bi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=gi(g(h.Ea,h,y),tc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const B=new Zn(this,this.j,h);let $=this.o;if(this.U&&($?($=k($),re($,this.U)):$=this.U),this.u!==null||this.R||(B.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Wu(this,B,y),E=Rt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),zs(this,E),$&&(this.R?y="headers="+Gi(jn($))+"&"+y:this.u&&Ls(E,this.u,$)),Wo(this.h,B),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",y),Xe(E,"SID","null"),B.U=!0,vi(B,E,null)):vi(B,E,y),this.I=2}}else this.I==3&&(h?ll(this,h):this.i.length==0||Xo(this.h)||ll(this))};function ll(h,y){var E;y?E=y.l:E=h.V++;const A=Rt(h.J);Xe(A,"SID",h.M),Xe(A,"RID",E),Xe(A,"AID",h.K),zs(h,A),h.u&&h.o&&Ls(A,h.u,h.o),E=new Zn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Wu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wo(h.h,E),vi(E,A,y)}function zs(h,y){h.H&&De(h.H,function(E,A){Xe(y,A,E)}),h.l&&De({},function(E,A){Xe(y,A,E)})}function Wu(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var B=h.i;let xe=-1;for(;;){const _t=["count="+E];xe==-1?E>0?(xe=B[0].g,_t.push("ofs="+xe)):xe=0:_t.push("ofs="+xe);let Qe=!0;for(let ct=0;ct<E;ct++){var $=B[ct].g;const Un=B[ct].map;if($-=xe,$<0)xe=Math.max(0,B[ct].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var ae=Un instanceof Map?Un:Object.entries(Un);for(const[Ii,ii]of ae){let ri=ii;m(ii)&&(ri=Cr(ii)),_t.push($+Ii+"="+encodeURIComponent(ri))}}catch(Ii){throw _t.push($+"type="+encodeURIComponent("_badmap")),Ii}}catch{A&&A(Un)}}if(Qe){ae=_t.join("&");break e}}ae=void 0}return h=h.i.splice(0,E),y.G=h,ae}function Zu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||R(),me||(oe(),me=!0),N.add(y,h),h.A=0}}function Bs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=gi(g(h.Da,h),tc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=gi(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Pr(this),Ju(this))};function ul(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ju(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Xe(y,"RID","rpc"),Xe(y,"SID",h.M),Xe(y,"AID",h.K),Xe(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(y,"TO",h.ia),Xe(y,"TYPE","xmlhttp"),zs(h,y),h.u&&h.o&&Ls(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Vs(Rt(y)),E.u=null,E.R=!0,Aa(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Pr(this),Bs(this),St(19))};function Va(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function ec(h,y){var E=null;if(h.g==y){Va(h),ul(h),h.g=null;var A=2}else if(wi(h.h,y))E=y.G,Zo(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=h.D;A=Sa(),Pt(A,new pi(A,E)),Ci(h)}else Zu(h);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Ma(h,y)||A==2&&Bs(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),B){case 1:Ni(h,5);break;case 4:Ni(h,10);break;case 3:Ni(h,6);break;default:Ni(h,2)}}}function tc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ni(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const B=!A;A=new wn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zt(A,"https"),Vs(A),B?ei(A.toString(),E):rl(A.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(y),nc(h),Oa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function nc(h){if(h.I=0,h.ja=[],h.l){const y=Jo(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function ic(h,y,E){var A=E instanceof wn?Rt(E):new wn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Nr(A,A.u);else{var B=c.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const $=new wn(null);A&&zt($,A),y&&($.g=y),B&&Nr($,B),E&&($.h=E),A=$}return E=h.G,y=h.wa,E&&y&&Xe(A,E,y),Xe(A,"VER",h.ka),zs(h,A),A}function rc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new et(new Ai({ab:E})):new et(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function sc(){}i=sc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Lr(){}Lr.prototype.g=function(h,y){return new on(h,y)};function on(h,y){wt.call(this),this.g=new kr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ki(this)}b(on,wt),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){ol(this.g)},on.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Cr(h),h=E);y.i.push(new xt(y.Ya++,h)),y.I==3&&Ci(y)},on.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,on.Z.N.call(this)};function ac(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}b(ac,Gt);function oc(){kn.call(this),this.status=1}b(oc,kn);function Ki(h){this.g=h}b(Ki,sc),Ki.prototype.ra=function(){Pt(this.g,"a")},Ki.prototype.qa=function(h){Pt(this.g,new ac(h))},Ki.prototype.pa=function(h){Pt(this.g,new oc)},Ki.prototype.oa=function(){Pt(this.g,"b")},Lr.prototype.createWebChannel=Lr.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,nb=function(){return new Lr},tb=function(){return Sa()},eb=vt,mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,bh=Os,Qo.COMPLETE="complete",JT=Qo,Uu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Zl=Uu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,ZT=et}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",Y_="4.9.3";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let ko="12.7.0";const ma=new Kp("@firebase/firestore");function fo(){return ma.logLevel}function he(i,...e){if(ma.logLevel<=Pe.DEBUG){const n=e.map(Wp);ma.debug(`Firestore (${ko}): ${i}`,...n)}}function _r(i,...e){if(ma.logLevel<=Pe.ERROR){const n=e.map(Wp);ma.error(`Firestore (${ko}): ${i}`,...n)}}function wo(i,...e){if(ma.logLevel<=Pe.WARN){const n=e.map(Wp);ma.warn(`Firestore (${ko}): ${i}`,...n)}}function Wp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ee(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ib(i,s,n)}function ib(i,e,n){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function $e(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||ib(e,o,s)}function Ae(i,e){return i}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class xR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RR{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new rb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class CR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class NR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new CR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(i,e){return i<e?-1:i>e?1:0}function pp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Wm(o)===Wm(u)?Le(o,u):Wm(o)?1:-1}return Le(i.length,e.length)}const OR=55296,MR=57343;function Wm(i){const e=i.charCodeAt(0);return e>=OR&&e<=MR}function So(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const K_="__name__";class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ki.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=ki.isNumericId(e),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):pp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class at extends ki{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const VR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends ki{construct(e,n,s){return new Zt(e,n,s)}static isValidIdentifier(e){return VR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Zt([K_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(n)}static emptyPath(){return new Zt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function sb(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function kR(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function $_(i){if(!ve.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X_(i){if(ve.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ab(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function cf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Au(i,e){if(!ab(i))throw new ue(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(ee.INVALID_ARGUMENT,n);return!0}const W_=-62135596800,Z_=1e6;class He{static now(){return He.fromMillis(Date.now())}static fromDate(e){return He.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z_);return new He(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<W_)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:He._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Au(e,He._jsonSchema))return new He(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-W_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}He._jsonSchemaVersion="firestore/timestamp/1.0",He._jsonSchema={type:Vt("string",He._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new He(0,0))}static max(){return new we(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cu=-1;function PR(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new He(n+1,0):new He(n,s));return new vs(o,ve.empty(),e)}function LR(i){return new vs(i.readTime,i.key,cu)}class vs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new vs(we.min(),ve.empty(),cu)}static max(){return new vs(we.max(),ve.empty(),cu)}}function jR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Po(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==UR)throw i;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function BR(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(i){return i.name==="IndexedDbTransactionError"}class hf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hf.ce=-1;const Jp=-1;function ff(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function qR(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ob="";function HR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=J_(e)),e=FR(i.get(n),e);return J_(e)}function FR(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ob:n+="";break;default:n+=u}}return n}function J_(i){return i+ob+""}function eE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Wt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tE(this.data.getIterator())}getIteratorFrom(e){return new tE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class tE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new On([])}unionWith(e){let n=new jt(Zt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ub("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const GR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(i){if($e(!!i,39018),typeof i=="string"){let e=0;const n=GR.exec(i);if($e(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function eg(i){return(i?.mapValue?.fields||{})[hb]?.stringValue===cb}function df(i){const e=i.mapValue.fields[fb];return eg(e)?df(e):e}function hu(i){const e=_s(i.mapValue.fields[db].timestampValue);return new He(e.seconds,e.nanos)}class YR{constructor(e,n,s,o,u,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Lh="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}const mb="__type__",QR="__max__",mh={mapValue:{}},pb="__vector__",jh="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?eg(i)?4:$R(i)?9007199254740991:KR(i)?10:11:Ee(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=Ts(i);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hu(i).isEqual(hu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=_s(o.timestampValue),m=_s(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=bt(o.doubleValue),m=bt(u.doubleValue);return c===m?Ph(c)===Ph(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(eE(c)!==eE(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!qi(c[p],m[p])))return!1;return!0})(i,e);default:return Ee(52216,{left:i})}}function du(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function Ao(i,e){if(i===e)return 0;const n=Ts(i),s=Ts(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=bt(u.integerValue||u.doubleValue),p=bt(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return nE(i.timestampValue,e.timestampValue);case 4:return nE(hu(i),hu(e));case 5:return pp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Es(u),p=Es(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Le(m[g],p[g]);if(_!==0)return _}return Le(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Le(bt(u.latitude),bt(c.latitude));return m!==0?m:Le(bt(u.longitude),bt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return iE(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[jh]?.arrayValue,_=p[jh]?.arrayValue,b=Le(g?.values?.length||0,_?.values?.length||0);return b!==0?b:iE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===mh.mapValue&&c===mh.mapValue)return 0;if(u===mh.mapValue)return 1;if(c===mh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let b=0;b<p.length&&b<_.length;++b){const S=pp(p[b],_[b]);if(S!==0)return S;const C=Ao(m[p[b]],g[_[b]]);if(C!==0)return C}return Le(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function nE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=_s(i),s=_s(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function iE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ao(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function xo(i){return gp(i)}function gp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Es(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${gp(n.fields[c])}`;return o+"}"})(i.mapValue):Ee(61005,{value:i})}function wh(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=df(i);return e?16+wh(e):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+wh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ss(s.fields,((u,c)=>{o+=u.length+wh(c)})),o})(i.mapValue);default:throw Ee(13486,{value:i})}}function rE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function yp(i){return!!i&&"integerValue"in i}function tg(i){return!!i&&"arrayValue"in i}function sE(i){return!!i&&"nullValue"in i}function aE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function KR(i){return(i?.mapValue?.fields||{})[mb]?.stringValue===pb}function iu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ss(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=iu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(i.arrayValue.values[n]);return e}return{...i}}function $R(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===QR}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Zt.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=iu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ss(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new _n(iu(this.value))}}function gb(i){const e=[];return Ss(i.fields,((n,s)=>{const o=new Zt([n]);if(Sh(s)){const u=gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new On(e)}class rn{constructor(e,n,s,o,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function oE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(c.referenceValue),n.key):s=Ao(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function lE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function XR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class yb{}class Mt extends yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ZR(e,n,s):n==="array-contains"?new tC(e,s):n==="in"?new nC(e,s):n==="not-in"?new iC(e,s):n==="array-contains-any"?new rC(e,s):new Mt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new JR(e,s):new eC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ao(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return vb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vb(i){return i.op==="and"}function _b(i){return WR(i)&&vb(i)}function WR(i){for(const e of i.filters)if(e instanceof hi)return!1;return!0}function vp(i){if(i instanceof Mt)return i.field.canonicalString()+i.op.toString()+xo(i.value);if(_b(i))return i.filters.map((e=>vp(e))).join(",");{const e=i.filters.map((n=>vp(n))).join(",");return`${i.op}(${e})`}}function Eb(i,e){return i instanceof Mt?(function(s,o){return o instanceof Mt&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof hi?(function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&Eb(c,o.filters[m])),!0):!1})(i,e):void Ee(19439)}function Tb(i){return i instanceof Mt?(function(n){return`${n.field.canonicalString()} ${n.op} ${xo(n.value)}`})(i):i instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"})(i):"Filter"}class ZR extends Mt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class JR extends Mt{constructor(e,n){super(e,"in",n),this.keys=bb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eC extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=bb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bb(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class tC extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tg(n)&&du(n.arrayValue,this.value)}}class nC extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&du(this.value.arrayValue,n)}}class iC extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!du(this.value.arrayValue,n)}}class rC extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>du(this.value.arrayValue,s)))}}class sC{constructor(e,n=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function uE(i,e=null,n=[],s=[],o=null,u=null,c=null){return new sC(i,e,n,s,o,u,c)}function ng(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>vp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>xo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>xo(s))).join(",")),e.Te=n}return e.Te}function ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!XR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Eb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lE(i.startAt,e.startAt)&&lE(i.endAt,e.endAt)}function _p(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class jo{constructor(e,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aC(i,e,n,s,o,u,c,m){return new jo(i,e,n,s,o,u,c,m)}function mf(i){return new jo(i)}function cE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function wb(i){return i.collectionGroup!==null}function ru(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new jt(Zt.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new mu(u,s))})),n.has(Zt.keyField().canonicalString())||e.Ie.push(new mu(Zt.keyField(),s))}return e.Ie}function Li(i){const e=Ae(i);return e.Ee||(e.Ee=oC(e,ru(i))),e.Ee}function oC(i,e){if(i.limitType==="F")return uE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new mu(o.field,u)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return uE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ep(i,e){const n=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function zh(i,e,n){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function pf(i,e){return ig(Li(i),Li(e))&&i.limitType===e.limitType}function Sb(i){return`${ng(Li(i))}|lt:${i.limitType}`}function mo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Tb(o))).join(", ")}]`),ff(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>xo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>xo(o))).join(",")),`Target(${s})`})(Li(i))}; limitType=${i.limitType})`}function gf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of ru(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=oE(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,ru(s),o)||s.endAt&&!(function(c,m,p){const g=oE(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,ru(s),o))})(i,e)}function lC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ab(i){return(e,n)=>{let s=!1;for(const o of ru(i)){const u=uC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uC(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Ao(p,g):Ee(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}class _a{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}const cC=new mt(ve.comparator);function Er(){return cC}const xb=new mt(ve.comparator);function Jl(...i){let e=xb;for(const n of i)e=e.insert(n.key,n);return e}function Rb(i){let e=xb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function oa(){return su()}function Cb(){return su()}function su(){return new _a((i=>i.toString()),((i,e)=>i.isEqual(e)))}const hC=new mt(ve.comparator),fC=new jt(ve.comparator);function je(...i){let e=fC;for(const n of i)e=e.add(n);return e}const dC=new jt(Le);function mC(){return dC}function rg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function Nb(i){return{integerValue:""+i}}function pC(i,e){return qR(e)?Nb(e):rg(i,e)}class yf{constructor(){this._=void 0}}function gC(i,e,n){return i instanceof Bh?(function(o,u){const c={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&eg(u)&&(u=df(u)),u&&(c.fields[fb]=u),{mapValue:c}})(n,e):i instanceof pu?Db(i,e):i instanceof gu?Ob(i,e):(function(o,u){const c=Ib(o,u),m=hE(c)+hE(o.Ae);return yp(c)&&yp(o.Ae)?Nb(m):rg(o.serializer,m)})(i,e)}function yC(i,e,n){return i instanceof pu?Db(i,e):i instanceof gu?Ob(i,e):n}function Ib(i,e){return i instanceof qh?(function(s){return yp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Bh extends yf{}class pu extends yf{constructor(e){super(),this.elements=e}}function Db(i,e){const n=Mb(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class gu extends yf{constructor(e){super(),this.elements=e}}function Ob(i,e){let n=Mb(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class qh extends yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hE(i){return bt(i.integerValue||i.doubleValue)}function Mb(i){return tg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function vC(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof pu&&o instanceof pu||s instanceof gu&&o instanceof gu?So(s.elements,o.elements,qi):s instanceof qh&&o instanceof qh?qi(s.Ae,o.Ae):s instanceof Bh&&o instanceof Bh})(i.transform,e.transform)}class _C{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vf{}function Vb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new sg(i.key,$n.none()):new xu(i.key,i.data,$n.none());{const n=i.data,s=_n.empty();let o=new jt(Zt.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new As(i.key,s,new On(o.toArray()),$n.none())}}function EC(i,e,n){i instanceof xu?(function(o,u,c){const m=o.value.clone(),p=dE(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof As?(function(o,u,c){if(!Ah(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=dE(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(kb(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function au(i,e,n,s){return i instanceof xu?(function(u,c,m,p){if(!Ah(u.precondition,c))return m;const g=u.value.clone(),_=mE(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof As?(function(u,c,m,p){if(!Ah(u.precondition,c))return m;const g=mE(u.fieldTransforms,p,c),_=c.data;return _.setAll(kb(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(i,e,n,s):(function(u,c,m){return Ah(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function TC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Ib(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function fE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&So(s,o,((u,c)=>vC(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class xu extends vf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends vf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function dE(i,e,n){const s=new Map;$e(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,yC(c,m,n[o]))}return s}function mE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,gC(u,c,e))}return s}class sg extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bC extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&EC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=au(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Cb();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=Vb(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,((n,s)=>fE(n,s)))&&So(this.baseMutations,e.baseMutations,((n,s)=>fE(n,s)))}}class ag{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return hC})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new ag(e,n,s,o)}}class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AC{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,qe;function xC(i){switch(i){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Pb(i){if(i===void 0)return _r("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:i})}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function RC(){return new TextEncoder}const CC=new gs([4294967295,4294967295],0);function pE(i){const e=RC().encode(i),n=new WT;return n.update(e),new Uint8Array(n.digest())}function gE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new gs([n,s],0),new gs([o,u],0)]}class og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(gs.fromNumber(s)));return o.compare(CC)===1&&(o=new gs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new og(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=pE(e),[s,o]=gE(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _f(we.min(),o,new mt(Le),Er(),je())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,je(),je(),je())}}class xh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Lb{constructor(e,n){this.targetId=e,this.Ce=n}}class jb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class yE{constructor(){this.ve=0,this.Fe=vE(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new Ru(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=vE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Er(),this.Je=ph(),this.He=ph(),this.Ye=new mt(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(_p(u))if(s===0){const c=new ve(u.path);this.et(n,c,rn.newNoDocument(c,we.min()))}else $e(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Es(s).toUint8Array()}catch(p){if(p instanceof ub)return wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new og(c,o,u)}catch(p){return wo(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&_p(m.target)){const p=new ve(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=je();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new _f(e,n,this.Ye,this.je,s);return this.je=Er(),this.Je=ph(),this.He=ph(),this.Ye=new mt(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new mt(ve.comparator)}function vE(){return new mt(ve.comparator)}const IC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class MC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tp(i,e){return i.useProto3Json||ff(e)?e:{value:e}}function Hh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ub(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function VC(i,e){return Hh(i,e.toTimestamp())}function ji(i){return $e(!!i,49232),we.fromTimestamp((function(n){const s=_s(n);return new He(s.seconds,s.nanos)})(i))}function lg(i,e){return bp(i,e).canonicalString()}function bp(i,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function zb(i){const e=at.fromString(i);return $e(Gb(e),10190,{key:e.toString()}),e}function wp(i,e){return lg(i.databaseId,e.path)}function Zm(i,e){const n=zb(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(qb(n))}function Bb(i,e){return lg(i.databaseId,e)}function kC(i){const e=zb(i);return e.length===4?at.emptyPath():qb(e)}function Sp(i){return new at(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qb(i){return $e(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _E(i,e,n){return{name:wp(i,e),fields:n.value.mapValue.fields}}function PC(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?ee.UNKNOWN:Pb(g.code);return new ue(_,g.message||"")})(c);n=new jb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zm(i,s.document.name),u=ji(s.document.updateTime),c=s.document.createTime?ji(s.document.createTime):we.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new xh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zm(i,s.document),u=s.readTime?ji(s.readTime):we.min(),c=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new xh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zm(i,s.document),u=s.removedTargetIds||[];n=new xh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new AC(o,u),m=s.targetId;n=new Lb(m,c)}}return n}function LC(i,e){let n;if(e instanceof xu)n={update:_E(i,e.key,e.value)};else if(e instanceof sg)n={delete:wp(i,e.key)};else if(e instanceof As)n={update:_E(i,e.key,e.data),updateMask:YC(e.fieldMask)};else{if(!(e instanceof bC))return Ee(16599,{Vt:e.type});n={verify:wp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof Bh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof pu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof qh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:VC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(i,e.precondition)),n}function jC(i,e){return i&&i.length>0?($e(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?ji(o.updateTime):ji(u);return c.isEqual(we.min())&&(c=ji(u)),new _C(c,o.transformResults||[])})(n,e)))):[]}function UC(i,e){return{documents:[Bb(i,e.path)]}}function zC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Bb(i,o);const u=(function(g){if(g.length!==0)return Fb(hi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:po(S.field),direction:HC(S.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Tp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function BC(i){let e=kC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(b){const S=Hb(b);return S instanceof hi&&_b(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(b){return b.map((S=>(function(U){return new mu(go(U.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,ff(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(b){const S=!!b.before,C=b.values||[];return new Uh(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const S=!b.before,C=b.values||[];return new Uh(C,S)})(n.endAt)),aC(e,o,c,u,m,"F",p,g)}function qC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=go(n.unaryFilter.field);return Mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=go(n.unaryFilter.field);return Mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=go(n.unaryFilter.field);return Mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=go(n.unaryFilter.field);return Mt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Mt.create(go(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((s=>Hb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(i):Ee(30097,{filter:i})}function HC(i){return IC[i]}function FC(i){return DC[i]}function GC(i){return OC[i]}function po(i){return{fieldPath:i.canonicalString()}}function go(i){return Zt.fromServerFormat(i.fieldPath)}function Fb(i){return i instanceof Mt?(function(n){if(n.op==="=="){if(aE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(sE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(sE(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:FC(n.op),value:n.value}}})(i):i instanceof hi?(function(n){const s=n.getFilters().map((o=>Fb(o)));return s.length===1?s[0]:{compositeFilter:{op:GC(n.op),filters:s}}})(i):Ee(54877,{filter:i})}function YC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class fs{constructor(e,n,s,o,u=we.min(),c=we.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class QC{constructor(e){this.yt=e}}function KC(i){const e=BC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?zh(e,e.limit,"L"):e}class $C{constructor(){this.Cn=new XC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(vs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class XC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new jt(at.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new jt(at.comparator)).toArray()}}const EE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(Yb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}const TE="LruGarbageCollector",WC=1048576;function bE([i,e],[n,s]){const o=Le(i,n);return o===0?Le(e,s):o}class ZC{constructor(e){this.Ir=e,this.buffer=new jt(bE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();bE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(TE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?he(TE,"Ignoring IndexedDB error during garbage collection: ",n):await Po(n)}await this.Vr(3e5)}))}}class eN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(hf.ce);const s=new ZC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(EE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,c=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),fo()<=Pe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function tN(i,e){return new eN(i,e)}class nN{constructor(){this.changes=new _a((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class iN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class rN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&au(s.mutation,o,On.empty(),He.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,je()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=je()){const o=oa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=Jl();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,je())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let u=Er();const c=su(),m=(function(){return su()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof As)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),au(_.mutation,g,_.mutation.getFieldMask(),He.now())):c.set(g.key,On.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new iN(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=su();let o=new mt(((c,m)=>c-m)),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||On.empty();_=m.applyToLocalView(g,_),s.set(p,_);const b=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,b=Cb();_.forEach((S=>{if(!u.has(S)){const C=Vb(n.get(S),s.get(S));C!==null&&b.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(oa());let m=cu,p=u;return c.next((g=>ie.forEach(g,((_,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,je()))).next((_=>({batchId:m,changes:Rb(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=Jl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,S){return new jo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((b,S)=>{c=c.insert(b,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,rn.newInvalidDocument(_)))}));let m=Jl();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&au(_.mutation,g,On.empty(),He.now()),gf(n,g)&&(m=m.insert(p,g))})),m}))}}class sN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KC(o.bundledQuery),readTime:ji(o.readTime)}})(n)),ie.resolve()}}class aN{constructor(){this.overlays=new mt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,c=new ve(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=oa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new SC(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class oN{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class ug{constructor(){this.Qr=new jt(qt.$r),this.Ur=new jt(qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new qt(n,e),o=new qt(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class lN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wC(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Jp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new jt(Le);return n.forEach((o=>{const u=new qt(o,0),c=new qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const c=new qt(new ve(u),0);let m=new jt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uN{constructor(e){this.ri=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Er();const c=n.path,m=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||jR(LR(_),s)<=0||(o.has(_.key)||gf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new cN(this)}getSize(e){return ie.resolve(this.size)}}class cN extends nN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class hN{constructor(e){this.persistence=e,this.si=new _a((n=>ng(n)),ig),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new ug,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class Qb{constructor(e,n){this.ui={},this.overlays={},this.ci=new hf(0),this.li=!1,this.li=!0,this.hi=new oN,this.referenceDelegate=e(this),this.Pi=new hN(this),this.indexManager=new $C,this.remoteDocumentCache=(function(o){return new uN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new QC(n),this.Ii=new sN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new aN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new lN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new fN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class fN extends zR{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Ri=new ug,this.Vi=null}static mi(e){return new cg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ve.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new _a((s=>HR(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=tN(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class hg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hg(e,n.fromCache,s,o)}}class dN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class mN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sx()?8:BR(sn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new dN;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(fo()<=Pe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(fo()<=Pe.DEBUG&&he("QueryEngine","Query:",mo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(fo()<=Pe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):ie.resolve())}ys(e,n){if(cE(n))return ie.resolve(null);let s=Li(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zh(n,null,"F"),s=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=je(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,zh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return cE(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ie.resolve(null):(fo()<=Pe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),mo(n)),this.vs(e,c,n,PR(o,cu)).next((m=>m)))}))}Ds(e,n){let s=new jt(Ab(e));return n.forEach(((o,u)=>{gf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return fo()<=Pe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",mo(n)),this.ps.getDocumentsMatchingQuery(e,n,vs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const fg="LocalStore",pN=3e8;class gN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new mt(Le),this.xs=new _a((u=>ng(u)),ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function yN(i,e,n,s){return new gN(i,e,n,s)}async function Kb(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=je();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function vN(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const b=g.batch,S=b.keys();let C=ie.resolve();return S.forEach((U=>{C=C.next((()=>_.getEntry(p,U))).next((z=>{const q=g.docVersions.get(U);$e(q!==null,48541),z.version.compareTo(q)<0&&(b.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),_.addEntry(z)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=je();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function $b(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function _N(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,b))));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?C=C.withResumeToken(Jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(b,C),(function(z,q,F){return z.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=pN?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(S,C,_)&&m.push(n.Pi.updateTargetData(u,C))}));let p=Er(),g=je();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(EN(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function EN(i,e,n){let s=je(),o=je();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=Er();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):he(fg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function TN(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function bN(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new fs(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ap(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Lo(c))throw c;he(fg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function wE(i,e,n){const s=Ae(i);let o=we.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const b=Ae(p),S=b.xs.get(_);return S!==void 0?ie.resolve(b.Ms.get(S)):b.Pi.getTargetData(g,_)})(s,c,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:we.min(),n?u:je()))).next((m=>(wN(s,lC(e),m),{documents:m,Qs:u})))))}function wN(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class SE{constructor(){this.activeTargetIds=mC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SN{constructor(){this.Mo=new SE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new SE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AN{Oo(e){}shutdown(){}}const AE="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(AE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(AE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let gh=null;function xp(){return gh===null?gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():gh++,"0x"+gh.toString(16)}const Jm="RestConnection",xN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=xp(),m=this.zo(e,n.toUriEncodedString());he(Jm,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Mo(g);return this.Jo(e,m,p,s,_).then((b=>(he(Jm,`Received RPC '${e}' ${c}: `,b),b)),(b=>{throw wo(Jm,`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=xN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class CN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class NN extends RN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=xp();return new Promise(((m,p)=>{const g=new ZT;g.setWithCredentials(!0),g.listenOnce(JT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case bh.NO_ERROR:const b=g.getResponseJson();he(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),m(b);break;case bh.TIMEOUT:he(tn,`RPC '${e}' ${c} timed out`),p(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const S=g.getStatus();if(he(tn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const z=(function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN})(U.status);p(new ue(z,U.message))}else p(new ue(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(tn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);he(tn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=xp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=nb(),m=tb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");he(tn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const b=c.createWebChannel(_,p);this.I_(b);let S=!1,C=!1;const U=new CN({Yo:q=>{C?he(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(he(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),he(tn,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Zo:()=>b.close()}),z=(q,F,Y)=>{q.listen(F,(K=>{try{Y(K)}catch(le){setTimeout((()=>{throw le}),0)}}))};return z(b,Zl.EventType.OPEN,(()=>{C||(he(tn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),z(b,Zl.EventType.CLOSE,(()=>{C||(C=!0,he(tn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(b))})),z(b,Zl.EventType.ERROR,(q=>{C||(C=!0,wo(tn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),U.a_(new ue(ee.UNAVAILABLE,"The operation could not be completed")))})),z(b,Zl.EventType.MESSAGE,(q=>{if(!C){const F=q.data[0];$e(!!F,16349);const Y=F,K=Y?.error||Y[0]?.error;if(K){he(tn,`RPC '${e}' stream ${o} received error:`,K);const le=K.status;let oe=(function(R){const I=Ot[R];if(I!==void 0)return Pb(I)})(le),me=K.message;oe===void 0&&(oe=ee.INTERNAL,me="Unknown error status: "+le+" with message "+K.message),C=!0,U.a_(new ue(oe,me)),b.close()}else he(tn,`RPC '${e}' stream ${o} received:`,F),U.u_(F)}})),z(m,eb.STAT_EVENT,(q=>{q.stat===mp.PROXY?he(tn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===mp.NOPROXY&&he(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ep(){return typeof document<"u"?document:null}function Ef(i){return new MC(i,!0)}class Xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const RE="PersistentStream";class Wb{constructor(e,n,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(RE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(RE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IN extends Wb{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PC(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?ji(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Sp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=_p(p)?{documents:UC(u,p)}:{query:zC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=Ub(u,c.resumeToken);const g=Tp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=Hh(u,c.snapshotVersion.toTimestamp());const g=Tp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=qC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Sp(this.serializer),n.removeTarget=e,this.q_(n)}}class DN extends Wb{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jC(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>LC(this.serializer,s)))};this.q_(n)}}class ON{}class MN extends ON{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,bp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,bp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const pa="RemoteStore";class kN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ea(this)&&(he(pa,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Cu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Tf(g)})(this))}))})),this.Ra=new VN(s,o)}}async function Tf(i){if(Ea(i))for(const e of i.da)await e(!0)}async function Cu(i){for(const e of i.da)await e(!1)}function Zb(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),gg(n)?pg(n):Uo(n).O_()&&mg(n,e))}function dg(i,e){const n=Ae(i),s=Uo(n);n.Ia.delete(e),s.O_()&&Jb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ea(n)&&n.Ra.set("Unknown"))}function mg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(i).Y_(e)}function Jb(i,e){i.Va.Ue(e),Uo(i).Z_(e)}function pg(i){i.Va=new NC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Uo(i).start(),i.Ra.ua()}function gg(i){return Ea(i)&&!Uo(i).x_()&&i.Ia.size>0}function Ea(i){return Ae(i).Ea.size===0}function e1(i){i.Va=void 0}async function PN(i){i.Ra.set("Online")}async function LN(i){i.Ia.forEach(((e,n)=>{mg(i,e)}))}async function jN(i,e){e1(i),gg(i)?(i.Ra.ha(e),pg(i)):i.Ra.set("Unknown")}async function UN(i,e,n){if(i.Ra.set("Online"),e instanceof jb&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){he(pa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Gh(i,s)}else if(e instanceof xh?i.Va.Ze(e):e instanceof Lb?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await $b(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),Jb(u,p);const b=new fs(_.target,p,g,_.sequenceNumber);mg(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){he(pa,"Failed to raise snapshot:",s),await Gh(i,s)}}async function Gh(i,e,n){if(!Lo(e))throw e;i.Ea.add(1),await Cu(i),i.Ra.set("Offline"),n||(n=()=>$b(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{he(pa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Tf(i)}))}function t1(i,e){return e().catch((n=>Gh(i,n,e)))}async function bf(i){const e=Ae(i),n=bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jp;for(;zN(e);)try{const o=await TN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,BN(e,o)}catch(o){await Gh(e,o)}n1(e)&&i1(e)}function zN(i){return Ea(i)&&i.Ta.length<10}function BN(i,e){i.Ta.push(e);const n=bs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function n1(i){return Ea(i)&&!bs(i).x_()&&i.Ta.length>0}function i1(i){bs(i).start()}async function qN(i){bs(i).ra()}async function HN(i){const e=bs(i);for(const n of i.Ta)e.ea(n.mutations)}async function FN(i,e,n){const s=i.Ta.shift(),o=ag.from(s,e,n);await t1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await bf(i)}async function GN(i,e){e&&bs(i).X_&&await(async function(s,o){if((function(c){return xC(c)&&c!==ee.ABORTED})(o.code)){const u=s.Ta.shift();bs(s).B_(),await t1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await bf(s)}})(i,e),n1(i)&&i1(i)}async function CE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),he(pa,"RemoteStore received new credentials");const s=Ea(n);n.Ea.add(3),await Cu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function YN(i,e){const n=Ae(i);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await Cu(n),n.Ra.set("Unknown"))}function Uo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new IN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:PN.bind(null,i),t_:LN.bind(null,i),r_:jN.bind(null,i),H_:UN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),gg(i)?pg(i):i.Ra.set("Unknown")):(await i.ma.stop(),e1(i))}))),i.ma}function bs(i){return i.fa||(i.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new DN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:qN.bind(null,i),r_:GN.bind(null,i),ta:HN.bind(null,i),na:FN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await bf(i)):(await i.fa.stop(),i.Ta.length>0&&(he(pa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class yg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,m=new yg(e,n,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vg(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Lo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class NE{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Co{constructor(e,n,s,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Co(e,n,yo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class QN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KN{constructor(){this.queries=IE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=IE(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function IE(){return new _a((i=>Sb(i)),pf)}async function _g(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new QN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=vg(c,`Initialization of query '${mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tg(n)}async function Eg(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $N(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Tg(n)}function XN(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Tg(i){i.Ca.forEach((e=>{e.next()}))}var Rp,DE;(DE=Rp||(Rp={})).Ma="default",DE.Cache="cache";class bg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rp.Cache}}class r1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class WN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=Ab(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new NE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,b)=>{const S=o.get(_),C=gf(this.query,b)?b:null,U=!!S&&this.mutatedKeys.has(S.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let q=!1;S&&C?S.data.isEqual(C.data)?U!==z&&(s.track({type:3,doc:C}),q=!0):this.su(S,C)||(s.track({type:2,doc:C}),q=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!S&&C?(s.track({type:0,doc:C}),q=!0):S&&!C&&(s.track({type:1,doc:S}),q=!0,(p||g)&&(m=!0)),q&&(C?(c=c.add(C),u=z?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,b)=>(function(C,U){const z=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return z(C)-z(U)})(_.type,b.type)||this.eu(_.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Co(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new NE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new s1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new r1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wg="SyncEngine";class ZN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JN{constructor(e){this.key=e,this.hu=!1}}class eI{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _a((m=>Sb(m)),pf),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ve.comparator),this.Au=new Map,this.Ru=new ug,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(i,e,n=!0){const s=h1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await a1(s,e,n,!0),o}async function nI(i,e){const n=h1(i);await a1(n,e,!0,!1)}async function a1(i,e,n,s){const o=await bN(i.localStore,Li(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await iI(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&Zb(i.remoteStore,o),m}async function iI(i,e,n,s,o){i.pu=(b,S,C)=>(async function(z,q,F,Y){let K=q.view.ru(F);K.Cs&&(K=await wE(z.localStore,q.query,!1).then((({documents:N})=>q.view.ru(N,K))));const le=Y&&Y.targetChanges.get(q.targetId),oe=Y&&Y.targetMismatches.get(q.targetId)!=null,me=q.view.applyChanges(K,z.isPrimaryClient,le,oe);return ME(z,q.targetId,me.au),me.snapshot})(i,b,S,C);const u=await wE(i.localStore,e,!0),c=new WN(e,u.Qs),m=c.ru(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);ME(i,n,g.au);const _=new ZN(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function rI(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!pf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dg(s.remoteStore,o.targetId),Cp(s,o.targetId)})).catch(Po)):(Cp(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function sI(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dg(n.remoteStore,s.targetId))}async function aI(i,e,n){const s=dI(i);try{const o=await(function(c,m){const p=Ae(c),g=He.now(),_=m.reduce(((C,U)=>C.add(U.key)),je());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=Er(),z=je();return p.Ns.getEntries(C,_).next((q=>{U=q,U.forEach(((F,Y)=>{Y.isValidDocument()||(z=z.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,U))).next((q=>{b=q;const F=[];for(const Y of m){const K=TC(Y,b.get(Y.key).overlayedDocument);K!=null&&F.push(new As(Y.key,K,gb(K.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,F,m)})).next((q=>{S=q;const F=q.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(C,q.batchId,F)}))})).then((()=>({batchId:S.batchId,changes:Rb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new mt(Le)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Nu(s,o.changes),await bf(s.remoteStore)}catch(o){const u=vg(o,"Failed to persist write");n.reject(u)}}async function o1(i,e){const n=Ae(i);try{const s=await _N(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?$e(c.hu,14607):o.removedDocuments.size>0&&($e(c.hu,42227),c.hu=!1))})),await Nu(n,s,e)}catch(s){await Po(s)}}function OE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ae(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,b)=>{for(const S of b.Sa)S.va(m)&&(g=!0)})),g&&Tg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oI(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new mt(ve.comparator);c=c.insert(u,rn.newNoDocument(u,we.min()));const m=je().add(u),p=new _f(we.min(),new Map,new mt(Le),c,m);await o1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Sg(s)}else await Ap(s.localStore,e,!1).then((()=>Cp(s,e,n))).catch(Po)}async function lI(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await vN(n.localStore,e);u1(n,s,null),l1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Po(o)}}async function uI(i,e,n){const s=Ae(i);try{const o=await(function(c,m){const p=Ae(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>($e(b!==null,37113),_=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);u1(s,e,n),l1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Po(o)}}function l1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function u1(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Cp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||c1(i,s)}))}function c1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(dg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Sg(i))}function ME(i,e,n){for(const s of n)s instanceof r1?(i.Ru.addReference(s.key,e),cI(i,s)):s instanceof s1?(he(wg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||c1(i,s.key)):Ee(19791,{wu:s})}function cI(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(he(wg,"New document in limbo: "+n),i.Eu.add(s),Sg(i))}function Sg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(at.fromString(e)),s=i.fu.next();i.Au.set(s,new JN(n)),i.du=i.du.insert(n,s),Zb(i.remoteStore,new fs(Li(mf(n.path)),s,"TargetPurposeLimboResolution",hf.ce))}}async function Nu(i,e,n){const s=Ae(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=hg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ae(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(S=>ie.forEach(S.Es,(C=>_.persistence.referenceDelegate.addReference(b,S.targetId,C))).next((()=>ie.forEach(S.ds,(C=>_.persistence.referenceDelegate.removeReference(b,S.targetId,C)))))))))}catch(b){if(!Lo(b))throw b;he(fg,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const C=_.Ms.get(S),U=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(U);_.Ms=_.Ms.insert(S,z)}}})(s.localStore,u))}async function hI(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){he(wg,"User change. New user:",e.toKey());const s=await Kb(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ue(ee.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Ls)}}function fI(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function h1(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oI.bind(null,e),e.Pu.H_=$N.bind(null,e.eventManager),e.Pu.yu=XN.bind(null,e.eventManager),e}function dI(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uI.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return yN(this.persistence,new mN,e.initialUser,this.serializer)}Cu(e){return new Qb(cg.mi,this.serializer)}Du(e){return new SN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class mI extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Fh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Qb((s=>Fh.mi(s,n)),this.serializer)}}class Np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>OE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await YN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KN})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),s=(function(u){return new NN(u)})(e.databaseInfo);return(function(u,c,m,p){return new MN(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,m){return new kN(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>OE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new AN})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,_){const b=new eI(o,u,c,m,p,g);return _&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);he(pa,"RemoteStore shutting down."),s.Ea.add(5),await Cu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Np.provider={build:()=>new Np};class Ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ws="FirestoreClient";class pI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{he(ws,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(he(ws,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function tp(i,e){i.asyncQueue.verifyOperationInProgress(),he(ws,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Kb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function VE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await gI(i);he(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>CE(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>CE(e.remoteStore,o))),i._onlineComponents=e}async function gI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(ws,"Using user provided OfflineComponentProvider");try{await tp(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;wo("Error using user provided cache. Falling back to memory cache: "+n),await tp(i,new Yh)}}else he(ws,"Using default OfflineComponentProvider"),await tp(i,new mI(void 0));return i._offlineComponents}async function f1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(ws,"Using user provided OnlineComponentProvider"),await VE(i,i._uninitializedComponentsProvider._online)):(he(ws,"Using default OnlineComponentProvider"),await VE(i,new Np))),i._onlineComponents}function yI(i){return f1(i).then((e=>e.syncEngine))}async function Qh(i){const e=await f1(i),n=e.eventManager;return n.onListen=tI.bind(null,e.syncEngine),n.onUnlisten=rI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sI.bind(null,e.syncEngine),n}function vI(i,e,n={}){const s=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new Ag({next:S=>{_.Nu(),c.enqueueAndForget((()=>Eg(u,b)));const C=S.docs.has(m);!C&&S.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new bg(mf(m.path),_,{includeMetadataChanges:!0,qa:!0});return _g(u,b)})(await Qh(i),i.asyncQueue,e,n,s))),s.promise}function _I(i,e,n={}){const s=new gr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new Ag({next:S=>{_.Nu(),c.enqueueAndForget((()=>Eg(u,b))),S.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new bg(m,_,{includeMetadataChanges:!0,qa:!0});return _g(u,b)})(await Qh(i),i.asyncQueue,e,n,s))),s.promise}function d1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const kE=new Map;const m1="firestore.googleapis.com",PE=!0;class LE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m1,this.ssl=PE}else this.host=e.host,this.ssl=e.ssl??PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WC)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new AR;switch(s.type){case"firstParty":return new NR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=kE.get(n);s&&(he("ComponentProvider","Removing Datastore"),kE.delete(n),s.terminate())})(this),Promise.resolve()}}function EI(i,e,n,s={}){i=Tn(i,wf);const o=Mo(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(HT(`https://${m}`),FT("Firestore",!0)),u.host!==m1&&u.host!==m&&wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!fa(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=nn.MOCK_USER;else{g=X2(s.mockUserToken,i._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new nn(b)}i._authCredentials=new xR(new rb(g,_))}}class xr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xr(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Au(n,yt._jsonSchema))return new yt(e,s||null,new ve(at.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Vt("string",yt._jsonSchemaVersion),referencePath:Vt("string")};class ys extends xr{constructor(e,n,s){super(e,n,mf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ve(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function rt(i,e,...n){if(i=Ft(i),sb("collection","path",e),i instanceof wf){const s=at.fromString(e,...n);return X_(s),new ys(i,null,s)}{if(!(i instanceof yt||i instanceof ys))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return X_(s),new ys(i.firestore,null,s)}}function un(i,e,...n){if(i=Ft(i),arguments.length===1&&(e=Zp.newId()),sb("doc","path",e),i instanceof wf){const s=at.fromString(e,...n);return $_(s),new yt(i,null,new ve(s))}{if(!(i instanceof yt||i instanceof ys))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(at.fromString(e,...n));return $_(s),new yt(i.firestore,i instanceof ys?i.converter:null,new ve(s))}}const jE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xb(this,"async_queue_retry"),this._c=()=>{const s=ep();s&&he(jE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;he(jE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",zE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=yg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:zE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function BE(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Tr extends wf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new UE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function TI(i,e){const n=typeof i=="object"?i:KT(),s=typeof i=="string"?i:Lh,o=Xp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=K2("firestore");u&&EI(o,...u)}return o}function Sf(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||bI(i),i._firestoreClient}function bI(i){const e=i._freezeSettings(),n=(function(o,u,c,m){return new YR(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,d1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new pI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Jt.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Au(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Vt("string",Kn._jsonSchemaVersion),bytes:Vt("string")};class Af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._methodName=e}}class Ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(Au(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Vt("string",Ui._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Au(e,zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new zi(e.vectorValues);throw new ue(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zi._jsonSchemaVersion="firestore/vectorValue/1.0",zi._jsonSchema={type:Vt("string",zi._jsonSchemaVersion),vectorValues:Vt("object")};const wI=/^__.*__$/;class SI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class p1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class Rg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g1(this.Ac)&&wI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ef(e)}Cc(e,n,s,o=!1){return new Rg({Ac:e,methodName:n,Dc:s,path:Zt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xf(i){const e=i._freezeSettings(),n=Ef(i._databaseId);return new AI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function y1(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Cg("Data must be an object, but it was:",c,s);const m=v1(s,c);let p,g;if(u.merge)p=new On(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const b of u.mergeFields){const S=Ip(e,b,n);if(!c.contains(S))throw new ue(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);E1(_,S)||_.push(S)}p=new On(_),g=c.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=c.fieldTransforms;return new SI(new _n(m),p,g)}class Rf extends xg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}function xI(i,e,n,s){const o=i.Cc(1,e,n);Cg("Data must be an object, but it was:",o,s);const u=[],c=_n.empty();Ss(s,((p,g)=>{const _=Ng(e,p,n);g=Ft(g);const b=o.yc(_);if(g instanceof Rf)u.push(_);else{const S=Iu(g,b);S!=null&&(u.push(_),c.set(_,S))}}));const m=new On(u);return new p1(c,m,o.fieldTransforms)}function RI(i,e,n,s,o,u){const c=i.Cc(1,e,n),m=[Ip(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Ip(e,u[S])),p.push(u[S+1]);const g=[],_=_n.empty();for(let S=m.length-1;S>=0;--S)if(!E1(g,m[S])){const C=m[S];let U=p[S];U=Ft(U);const z=c.yc(C);if(U instanceof Rf)g.push(C);else{const q=Iu(U,z);q!=null&&(g.push(C),_.set(C,q))}}const b=new On(g);return new p1(_,b,c.fieldTransforms)}function CI(i,e,n,s=!1){return Iu(n,i.Cc(s?4:3,e))}function Iu(i,e){if(_1(i=Ft(i)))return Cg("Unsupported field value:",e,i),v1(i,e);if(i instanceof xg)return(function(s,o){if(!g1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=Iu(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=He.fromDate(s);return{timestampValue:Hh(o.serializer,u)}}if(s instanceof He){const u=new He(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hh(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:Ub(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zi)return(function(c,m){return{mapValue:{fields:{[mb]:{stringValue:pb},[jh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return rg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${cf(s)}`)})(i,e)}function v1(i,e){const n={};return lb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(i,((s,o)=>{const u=Iu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function _1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof He||i instanceof Ui||i instanceof Kn||i instanceof yt||i instanceof xg||i instanceof zi)}function Cg(i,e,n){if(!_1(n)||!ab(n)){const s=cf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Ip(i,e,n){if((e=Ft(e))instanceof Af)return e._internalPath;if(typeof e=="string")return Ng(i,e);throw Kh("Field path arguments must be of type string or ",i,!1,void 0,n)}const NI=new RegExp("[~\\*/\\[\\]]");function Ng(i,e,n){if(e.search(NI)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Af(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Kh(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+i+p)}function E1(i,e){return i.some((n=>n.isEqual(e)))}class T1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new II(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class II extends T1{data(){return super.data()}}function Cf(i,e){return typeof e=="string"?Ng(i,e):e instanceof Af?e._internalPath:e._delegate._internalPath}function b1(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class Dg extends Ig{}function No(i,e,...n){let s=[];e instanceof Ig&&s.push(e),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof Og)).length,m=u.filter((p=>p instanceof Nf)).length;if(c>1||c>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Nf extends Dg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nf(e,n,s)}_apply(e){const n=this._parse(e);return S1(e._query,n),new xr(e.firestore,e.converter,Ep(e._query,n))}_parse(e){const n=xf(e.firestore);return(function(u,c,m,p,g,_,b){let S;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){HE(b,_);const U=[];for(const z of b)U.push(qE(p,u,z));S={arrayValue:{values:U}}}else S=qE(p,u,b)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||HE(b,_),S=CI(m,c,b,_==="in"||_==="not-in");return Mt.create(g,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $h(i,e,n){const s=e,o=Cf("where",i);return Nf._create(o,s,n)}class Og extends Ig{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Og(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)S1(c,p),c=Ep(c,p)})(e._query,n),new xr(e.firestore,e.converter,Ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Mg extends Dg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Mg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(u,c)})(e._query,this._field,this._direction);return new xr(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new jo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function w1(i,e="asc"){const n=e,s=Cf("orderBy",i);return Mg._create(s,n)}class Vg extends Dg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Vg(e,n,s)}_apply(e){return new xr(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function DI(i){return Vg._create("limit",i,"F")}function qE(i,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rE(i,new ve(s))}if(n instanceof yt)return rE(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function HE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function S1(i,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OI{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ss(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new zi(n)}convertGeoPoint(e){return new Ui(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=df(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);$e(Gb(s),9688,{name:e});const o=new fu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function A1(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ua extends T1{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",ua._jsonSchema={type:Vt("string",ua._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class Rh extends ua{data(e={}){return super.data(e)}}class ca{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new tu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new tu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new tu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:MI(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}function Dp(i){i=Tn(i,yt);const e=Tn(i.firestore,Tr);return vI(Sf(e),i._key).then((n=>x1(e,i,n)))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:Vt("string",ca._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class kg extends OI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function cn(i){i=Tn(i,xr);const e=Tn(i.firestore,Tr),n=Sf(e),s=new kg(e);return b1(i._query),_I(n,i._query).then((o=>new ca(e,s,i,o)))}function VI(i,e,n){i=Tn(i,yt);const s=Tn(i.firestore,Tr),o=A1(i.converter,e);return If(s,[y1(xf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,$n.none())])}function yu(i,e,n,...s){i=Tn(i,yt);const o=Tn(i.firestore,Tr),u=xf(o);let c;return c=typeof(e=Ft(e))=="string"||e instanceof Af?RI(u,"updateDoc",i._key,e,n,s):xI(u,"updateDoc",i._key,e),If(o,[c.toMutation(i._key,$n.exists(!0))])}function zo(i){return If(Tn(i.firestore,Tr),[new sg(i._key,$n.none())])}function ga(i,e){const n=Tn(i.firestore,Tr),s=un(i),o=A1(i.converter,e);return If(n,[y1(xf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function vo(i,...e){i=Ft(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||BE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(BE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof yt)c=Tn(i.firestore,Tr),m=mf(i._key.path),u={next:p=>{e[s]&&e[s](x1(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Tn(i,xr);c=Tn(p.firestore,Tr),m=p._query;const g=new kg(c);u={next:_=>{e[s]&&e[s](new ca(c,g,p,_))},error:e[s+1],complete:e[s+2]},b1(i._query)}return(function(g,_,b,S){const C=new Ag(S),U=new bg(_,C,b);return g.asyncQueue.enqueueAndForget((async()=>_g(await Qh(g),U))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>Eg(await Qh(g),U)))}})(Sf(c),m,o,u)}function If(i,e){return(function(s,o){const u=new gr;return s.asyncQueue.enqueueAndForget((async()=>aI(await yI(s),o,u))),u.promise})(Sf(i),e)}function x1(i,e,n){const s=n.docs.get(e._key),o=new kg(i);return new ua(i,o,e._key,s,new tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ko=o})(Vo),bo(new da("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Tr(new RR(s.getProvider("auth-internal")),new IR(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ps(G_,Y_,e),ps(G_,Y_,"esm2020")})();function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=R1,C1=new wu("auth","Firebase",R1());const Xh=new Kp("@firebase/auth");function PI(i,...e){Xh.logLevel<=Pe.WARN&&Xh.warn(`Auth (${Vo}): ${i}`,...e)}function Ch(i,...e){Xh.logLevel<=Pe.ERROR&&Xh.error(`Auth (${Vo}): ${i}`,...e)}function Hi(i,...e){throw Lg(i,...e)}function ci(i,...e){return Lg(i,...e)}function Pg(i,e,n){const s={...kI(),[e]:n};return new wu("auth","Firebase",s).create(e,{appName:i.name})}function ha(i){return Pg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Hi(i,"argument-error"),Pg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return C1.create(i,...e)}function Te(i,e,...n){if(!i)throw Lg(e,...n)}function dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ch(e),new Error(e)}function br(i,e){i||dr(e)}function Op(){return typeof self<"u"&&self.location?.href||""}function jI(){return FE()==="http:"||FE()==="https:"}function FE(){return typeof self<"u"&&self.location?.protocol||null}function UI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jI()||nx()||"connection"in navigator)?navigator.onLine:!0}function zI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Du{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=J2()||ix()}get(){return UI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jg(i,e){br(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class N1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HI=new Du(3e4,6e4);function Ug(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Bo(i,e,n,s,o={}){return I1(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Su({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return tx()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(g.credentials="include"),N1.fetch()(await D1(i,i.config.apiHost,n,m),g)})}async function I1(i,e,n){i._canInitEmulator=!1;const s={...BI,...e};try{const o=new GI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw yh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw yh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pg(i,_,g);Hi(i,_)}}catch(o){if(o instanceof Ar)throw o;Hi(i,"network-request-failed",{message:String(o)})}}async function FI(i,e,n,s,o={}){const u=await Bo(i,e,n,s,o);return"mfaPendingCredential"in u&&Hi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function D1(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?jg(i.config,o):`${i.config.apiScheme}://${o}`;return qI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class GI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),HI.get())})}}function yh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ci(i,e,s);return o.customData._tokenResponse=n,o}async function YI(i,e){return Bo(i,"POST","/v1/accounts:delete",e)}async function Wh(i,e){return Bo(i,"POST","/v1/accounts:lookup",e)}function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QI(i,e=!1){const n=Ft(i),s=await n.getIdToken(e),o=zg(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:ou(np(o.auth_time)),issuedAtTime:ou(np(o.iat)),expirationTime:ou(np(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function np(i){return Number(i)*1e3}function zg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=UT(n);return o?JSON.parse(o):(Ch("Failed to decode base64 JWT payload"),null)}catch(o){return Ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function GE(i){const e=zg(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function vu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ar&&KI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function KI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zh(i){const e=i.auth,n=await i.getIdToken(),s=await vu(i,Wh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?O1(o.providerUserInfo):[],c=WI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function XI(i){const e=Ft(i);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function O1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function ZI(i,e){const n=await I1(i,{},async()=>{const s=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await D1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Mo(i.emulatorConfig.host)&&(p.credentials="include"),N1.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JI(i,e){return Bo(i,"POST","/v2/accounts:revokeToken",Ug(i,e))}class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=GE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await ZI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new _o;return s&&(Te(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return dr("not implemented")}}function as(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QI(this,e)}reload(){return XI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ha(this.auth));const e=await this.getIdToken();return await vu(this,YI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:C,providerData:U,stsTokenManager:z}=n;Te(b&&z,e,"internal-error");const q=_o.fromJSON(this.name,z);Te(typeof b=="string",e,"internal-error"),as(s,e.name),as(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof C=="boolean",e,"internal-error"),as(u,e.name),as(c,e.name),as(m,e.name),as(p,e.name),as(g,e.name),as(_,e.name);const F=new ui({uid:b,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:_});return U&&Array.isArray(U)&&(F.providerData=U.map(Y=>({...Y}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?O1(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new _o;m.updateFromIdToken(s);const p=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const YE=new Map;function mr(i){br(i instanceof Function,"Expected a class definition");let e=YE.get(i);return e?(br(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,YE.set(i,e),e)}class M1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M1.type="NONE";const QE=M1;function Nh(i,e,n){return`firebase:${i}:${e}:${n}`}class Eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Eo(mr(QE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mr(QE);const c=Nh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let b;if(typeof _=="string"){const S=await Wh(e,{idToken:_}).catch(()=>{});if(!S)break;b=await ui._fromGetAccountInfoResponse(e,S,_)}else b=ui._fromJSON(e,_);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Eo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Eo(u,e,s))}}function KE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(k1(e))return"Safari";if((e.includes("chrome/")||P1(e))&&!e.includes("edge/"))return"Chrome";if(j1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function V1(i=sn()){return/firefox\//i.test(i)}function k1(i=sn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P1(i=sn()){return/crios\//i.test(i)}function L1(i=sn()){return/iemobile/i.test(i)}function j1(i=sn()){return/android/i.test(i)}function U1(i=sn()){return/blackberry/i.test(i)}function z1(i=sn()){return/webos/i.test(i)}function Bg(i=sn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function eD(i=sn()){return Bg(i)&&!!window.navigator?.standalone}function tD(){return rx()&&document.documentMode===10}function B1(i=sn()){return Bg(i)||j1(i)||z1(i)||U1(i)||/windows phone/i.test(i)||L1(i)}function q1(i,e=[]){let n;switch(i){case"Browser":n=KE(sn());break;case"Worker":n=`${KE(sn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vo}/${s}`}class nD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function iD(i,e={}){return Bo(i,"GET","/v2/passwordPolicy",Ug(i,e))}const rD=6;class sD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??rD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class aD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $E(this),this.idTokenSubscription=new $E(this),this.beforeStateQueue=new nD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(ha(this));const n=e?Ft(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iD(this),n=new sD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await JI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&PI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Df(i){return Ft(i)}class $E{constructor(e){this.auth=e,this.observer=null,this.addObserver=fx(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oD(i){qg=i}function lD(i){return qg.loadJS(i)}function uD(){return qg.gapiScript}function cD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function hD(i,e){const n=Xp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(fa(u,e??{}))return o;Hi(o,"already-initialized")}return n.initialize({options:e})}function fD(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(mr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function dD(i,e,n){const s=Df(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=H1(e),{host:c,port:m}=mD(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(fa(g,s.config.emulator)&&fa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Mo(c)?(HT(`${u}//${c}${p}`),FT("Auth",!0)):pD()}function H1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function mD(i){const e=H1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:XE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:XE(c)}}}function XE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function pD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class F1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(e){return dr("not implemented")}_linkToIdToken(e,n){return dr("not implemented")}_getReauthenticationResolver(e){return dr("not implemented")}}async function To(i,e){return FI(i,"POST","/v1/accounts:signInWithIdp",Ug(i,e))}const gD="http://localhost";class ya extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new ya(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:gD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}class Hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ou extends Hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ls extends Ou{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";ls.PROVIDER_ID="facebook.com";class fr extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ya._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fr.credential(n,s)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";class us extends Ou{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";class cs extends Ou{constructor(){super("twitter.com")}static credential(e,n){return ya._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),c=WE(s);return new Io({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=WE(s);return new Io({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function WE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Jh extends Ar{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jh(e,n,s,o)}}function G1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(i,u,e,s):u})}async function yD(i,e,n=!1){const s=await vu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Io._forOperation(i,"link",s)}async function vD(i,e,n=!1){const{auth:s}=i;if(li(s.app))return Promise.reject(ha(s));const o="reauthenticate";try{const u=await vu(i,G1(s,o,e,i),n);Te(u.idToken,s,"internal-error");const c=zg(u.idToken);Te(c,s,"internal-error");const{sub:m}=c;return Te(i.uid===m,s,"user-mismatch"),Io._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Hi(s,"user-mismatch"),u}}async function _D(i,e,n=!1){if(li(i.app))return Promise.reject(ha(i));const s="signIn",o=await G1(i,s,e),u=await Io._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function ED(i,e,n,s){return Ft(i).onIdTokenChanged(e,n,s)}function TD(i,e,n){return Ft(i).beforeAuthStateChanged(e,n)}function Fg(i,e,n,s){return Ft(i).onAuthStateChanged(e,n,s)}function bD(i){return Ft(i).signOut()}const ef="__sak";class Y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ef,"1"),this.storage.removeItem(ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wD=1e3,SD=10;class Q1 extends Y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);tD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},wD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const AD=Q1;class K1 extends Y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}K1.type="SESSION";const $1=K1;function xD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Of(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await xD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Of.receivers=[];function Gg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class RD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Gg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Bi(){return window}function CD(i){Bi().location.href=i}function X1(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function ND(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ID(){return navigator?.serviceWorker?.controller||null}function DD(){return X1()?self:null}const W1="firebaseLocalStorageDb",OD=1,tf="firebaseLocalStorage",Z1="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mf(i,e){return i.transaction([tf],e?"readwrite":"readonly").objectStore(tf)}function MD(){const i=indexedDB.deleteDatabase(W1);return new Mu(i).toPromise()}function Vp(){const i=indexedDB.open(W1,OD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(tf,{keyPath:Z1})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(tf)?e(s):(s.close(),await MD(),e(await Vp()))})})}async function ZE(i,e,n){const s=Mf(i,!0).put({[Z1]:e,value:n});return new Mu(s).toPromise()}async function VD(i,e){const n=Mf(i,!1).get(e),s=await new Mu(n).toPromise();return s===void 0?null:s.value}function JE(i,e){const n=Mf(i,!0).delete(e);return new Mu(n).toPromise()}const kD=800,PD=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Of._getInstance(DD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new RD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await ZE(e,ef,"1"),await JE(e,ef),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ZE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>VD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mf(o,!1).getAll();return new Mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const LD=J1;new Du(3e4,6e4);function ew(i,e){return e?mr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Yg extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jD(i){return _D(i.auth,new Yg(i),i.bypassAuthState)}function UD(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),vD(n,new Yg(i),i.bypassAuthState)}async function zD(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),yD(n,new Yg(i),i.bypassAuthState)}class tw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jD;case"linkViaPopup":case"linkViaRedirect":return zD;case"reauthViaPopup":case"reauthViaRedirect":return UD;default:Hi(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BD=new Du(2e3,1e4);async function qD(i,e,n){if(li(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const s=Df(i);LI(i,e,Hg);const o=ew(s,n);return new la(s,"signInViaPopup",e,o).executeNotNull()}class la extends tw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BD.get())};e()}}la.currentPopupAction=null;const HD="pendingRedirect",Ih=new Map;class FD extends tw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await GD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GD(i,e){const n=KD(e),s=QD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function YD(i,e){Ih.set(i._key(),e)}function QD(i){return mr(i._redirectPersistence)}function KD(i){return Nh(HD,i.config.apiKey,i.name)}async function $D(i,e,n=!1){if(li(i.app))return Promise.reject(ha(i));const s=Df(i),o=ew(s,e),c=await new FD(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const XD=600*1e3;class WD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nw(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XD&&this.cachedEventUids.clear(),this.cachedEventUids.has(eT(e))}saveEventToCache(e){this.cachedEventUids.add(eT(e)),this.lastProcessedEventTime=Date.now()}}function eT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function nw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function ZD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nw(i);default:return!1}}async function JD(i,e={}){return Bo(i,"GET","/v1/projects",e)}const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function n4(i){if(i.config.emulator)return;const{authorizedDomains:e}=await JD(i);for(const n of e)try{if(i4(n))return}catch{}Hi(i,"unauthorized-domain")}function i4(i){const e=Op(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!t4.test(n))return!1;if(e4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const r4=new Du(3e4,6e4);function tT(){const i=Bi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function s4(i){return new Promise((e,n)=>{function s(){tT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tT(),n(ci(i,"network-request-failed"))},timeout:r4.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)s();else{const o=cD("iframefcb");return Bi()[o]=()=>{gapi.load?s():n(ci(i,"network-request-failed"))},lD(`${uD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function a4(i){return Dh=Dh||s4(i),Dh}const o4=new Du(5e3,15e3),l4="__/auth/iframe",u4="emulator/auth/iframe",c4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f4(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jg(e,u4):`https://${i.config.authDomain}/${l4}`,s={apiKey:e.apiKey,appName:i.name,v:Vo},o=h4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Su(s).slice(1)}`}async function d4(i){const e=await a4(i),n=Bi().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:f4(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=ci(i,"network-request-failed"),m=Bi().setTimeout(()=>{u(c)},o4.get());function p(){Bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const m4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,g4=600,y4="_blank",v4="http://localhost";class nT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(i,e,n,s=p4,o=g4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...m4,width:s.toString(),height:o.toString(),top:u,left:c},g=sn().toLowerCase();n&&(m=P1(g)?y4:n),V1(g)&&(e=e||v4,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[C,U])=>`${S}${C}=${U},`,"");if(eD(g)&&m!=="_self")return E4(e||"",m),new nT(null);const b=window.open(e||"",m,_);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new nT(b)}function E4(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const T4="__/auth/handler",b4="emulator/auth/handler",w4=encodeURIComponent("fac");async function iT(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Vo,eventId:o};if(e instanceof Hg){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",hx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))c[_]=b}if(e instanceof Ou){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${w4}=${encodeURIComponent(p)}`:"";return`${S4(i)}?${Su(m).slice(1)}${g}`}function S4({config:i}){return i.emulator?jg(i,b4):`https://${i.authDomain}/${T4}`}const ip="webStorageSupport";class A4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$1,this._completeRedirectFn=$D,this._overrideRedirectResult=YD}async _openPopup(e,n,s,o){br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await iT(e,n,s,Op(),o);return _4(e,u,Gg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await iT(e,n,s,Op(),o);return CD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(br(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await d4(e),s=new WD(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ip,{type:ip},o=>{const u=o?.[0]?.[ip];u!==void 0&&n(!!u),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B1()||k1()||Bg()}}const x4=A4;var rT="@firebase/auth",sT="1.12.0";class R4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function C4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N4(i){bo(new da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q1(i)},g=new aD(s,o,u,p);return fD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),bo(new da("auth-internal",e=>{const n=Df(e.getProvider("auth").getImmediate());return(s=>new R4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(rT,sT,C4(i)),ps(rT,sT,"esm2020")}const I4=300,D4=qT("authIdTokenMaxAge")||I4;let aT=null;const O4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>D4)return;const o=n?.token;aT!==o&&(aT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M4(i=KT()){const e=Xp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=hD(i,{popupRedirectResolver:x4,persistence:[LD,AD,$1]}),s=qT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=O4(u.toString());TD(n,c,()=>c(n.currentUser)),ED(n,m=>c(m))}}const o=zT("auth");return o&&dD(n,`http://${o}`),n}function V4(){return document.getElementsByTagName("head")?.[0]??document}oD({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",V4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N4("Browser");const k4={apiKey:"AIzaSyCEEiHNizVWIMDfUS8d1g_vD7pCmEPY7jc",authDomain:"soccer-scheduler-2774f.firebaseapp.com",projectId:"soccer-scheduler-2774f",storageBucket:"soccer-scheduler-2774f.firebasestorage.app",messagingSenderId:"2892629143",appId:"1:2892629143:web:eba3ba8482612b4d1455d2"},iw=QT(k4),Ce=TI(iw),_u=M4(iw);function P4(){const i=of(),e=async()=>{const n=new fr;try{const o=(await qD(_u,n)).user,u=un(Ce,"users",o.uid);(await Dp(u)).exists()||await VI(u,{email:o.email,role:"manager",teamId:null,createdAt:new Date}),alert(`Welcome ${o.displayName}!`),i("/admin")}catch(s){console.error("Login Error:",s),alert("Login Failed: "+s.message)}};return T.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:T.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-sm w-full",children:[T.jsx("h1",{className:"text-2xl font-bold mb-4 text-slate-800",children:"Soccer Scheduler"}),T.jsx("p",{className:"mb-6 text-gray-600",children:"Admin & Manager Access"}),T.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 w-full bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded shadow-sm hover:bg-gray-50 transition",children:[T.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-5 h-5",alt:"Google"}),"Sign in with Google"]})]})})}function L4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const oT=x.forwardRef(L4);function j4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const rw=x.forwardRef(j4);function U4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const sw=x.forwardRef(U4);function z4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const B4=x.forwardRef(z4);function q4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qg=x.forwardRef(q4);function H4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const F4=x.forwardRef(H4);function G4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Vf=x.forwardRef(G4);function Y4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const Q4=x.forwardRef(Y4);function K4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Kg=x.forwardRef(K4);function $4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const aw=x.forwardRef($4);function X4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const W4=x.forwardRef(X4);function Z4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Vu=x.forwardRef(Z4);function J4({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const kf=x.forwardRef(J4);function eO({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const tO=x.forwardRef(eO);function nO({title:i,titleId:e,...n},s){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),i?x.createElement("title",{id:e},i):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const kp=x.forwardRef(nO);let iO={data:""},rO=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||iO},sO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,aO=/\/\*[^]*?\*\/|  +/g,lT=/\n+/g,hs=(i,e)=>{let n="",s="",o="";for(let u in i){let c=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+c+";":s+=u[1]=="f"?hs(c,u):u+"{"+hs(c,u[1]=="k"?"":e)+"}":typeof c=="object"?s+=hs(c,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=hs.p?hs.p(u,c):u+":"+c+";")}return n+(e&&o?e+"{"+o+"}":o)+s},cr={},ow=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+ow(i[n]);return e}return i},oO=(i,e,n,s,o)=>{let u=ow(i),c=cr[u]||(cr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!cr[c]){let p=u!==i?i:(g=>{let _,b,S=[{}];for(;_=sO.exec(g.replace(aO,""));)_[4]?S.shift():_[3]?(b=_[3].replace(lT," ").trim(),S.unshift(S[0][b]=S[0][b]||{})):S[0][_[1]]=_[2].replace(lT," ").trim();return S[0]})(i);cr[c]=hs(o?{["@keyframes "+c]:p}:p,n?"":"."+c)}let m=n&&cr.g?cr.g:null;return n&&(cr.g=cr[c]),((p,g,_,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(cr[c],e,s,m),c},lO=(i,e,n)=>i.reduce((s,o,u)=>{let c=e[u];if(c&&c.call){let m=c(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":hs(m,""):m===!1?"":m}return s+o+(c??"")},"");function Pf(i){let e=this||{},n=i.call?i(e.p):i;return oO(n.unshift?n.raw?lO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,rO(e.target),e.g,e.o,e.k)}let lw,Pp,Lp;Pf.bind({g:1});let wr=Pf.bind({k:1});function uO(i,e,n,s){hs.p=e,lw=i,Pp=n,Lp=s}function xs(i,e){let n=this||{};return function(){let s=arguments;function o(u,c){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Pp&&Pp()},m),n.o=/ *go\d+/.test(p),m.className=Pf.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),Lp&&g[0]&&Lp(m),lw(g,m)}return o}}var cO=i=>typeof i=="function",nf=(i,e)=>cO(i)?i(e):i,hO=(()=>{let i=0;return()=>(++i).toString()})(),uw=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),fO=20,$g="default",cw=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return cw(i,{type:i.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},Oh=[],hw={toasts:[],pausedAt:void 0,settings:{toastLimit:fO}},Pi={},fw=(i,e=$g)=>{Pi[e]=cw(Pi[e]||hw,i),Oh.forEach(([n,s])=>{n===e&&s(Pi[e])})},dw=i=>Object.keys(Pi).forEach(e=>fw(i,e)),dO=i=>Object.keys(Pi).find(e=>Pi[e].toasts.some(n=>n.id===i)),Lf=(i=$g)=>e=>{fw(e,i)},mO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pO=(i={},e=$g)=>{let[n,s]=x.useState(Pi[e]||hw),o=x.useRef(Pi[e]);x.useEffect(()=>(o.current!==Pi[e]&&s(Pi[e]),Oh.push([e,s]),()=>{let c=Oh.findIndex(([m])=>m===e);c>-1&&Oh.splice(c,1)}),[e]);let u=n.toasts.map(c=>{var m,p,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((m=i[c.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||i?.duration||mO[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...n,toasts:u}},gO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||hO()}),ku=i=>(e,n)=>{let s=gO(e,i,n);return Lf(s.toasterId||dO(s.id))({type:2,toast:s}),s.id},Ht=(i,e)=>ku("blank")(i,e);Ht.error=ku("error");Ht.success=ku("success");Ht.loading=ku("loading");Ht.custom=ku("custom");Ht.dismiss=(i,e)=>{let n={type:3,toastId:i};e?Lf(e)(n):dw(n)};Ht.dismissAll=i=>Ht.dismiss(void 0,i);Ht.remove=(i,e)=>{let n={type:4,toastId:i};e?Lf(e)(n):dw(n)};Ht.removeAll=i=>Ht.remove(void 0,i);Ht.promise=(i,e,n)=>{let s=Ht.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?nf(e.success,o):void 0;return u?Ht.success(u,{id:s,...n,...n?.success}):Ht.dismiss(s),o}).catch(o=>{let u=e.error?nf(e.error,o):void 0;u?Ht.error(u,{id:s,...n,...n?.error}):Ht.dismiss(s)}),i};var yO=1e3,vO=(i,e="default")=>{let{toasts:n,pausedAt:s}=pO(i,e),o=x.useRef(new Map).current,u=x.useCallback((b,S=yO)=>{if(o.has(b))return;let C=setTimeout(()=>{o.delete(b),c({type:4,toastId:b})},S);o.set(b,C)},[]);x.useEffect(()=>{if(s)return;let b=Date.now(),S=n.map(C=>{if(C.duration===1/0)return;let U=(C.duration||0)+C.pauseDuration-(b-C.createdAt);if(U<0){C.visible&&Ht.dismiss(C.id);return}return setTimeout(()=>Ht.dismiss(C.id,e),U)});return()=>{S.forEach(C=>C&&clearTimeout(C))}},[n,s,e]);let c=x.useCallback(Lf(e),[e]),m=x.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=x.useCallback((b,S)=>{c({type:1,toast:{id:b,height:S}})},[c]),g=x.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),_=x.useCallback((b,S)=>{let{reverseOrder:C=!1,gutter:U=8,defaultPosition:z}=S||{},q=n.filter(K=>(K.position||z)===(b.position||z)&&K.height),F=q.findIndex(K=>K.id===b.id),Y=q.filter((K,le)=>le<F&&K.visible).length;return q.filter(K=>K.visible).slice(...C?[Y+1]:[0,Y]).reduce((K,le)=>K+(le.height||0)+U,0)},[n]);return x.useEffect(()=>{n.forEach(b=>{if(b.dismissed)u(b.id,b.removeDelay);else{let S=o.get(b.id);S&&(clearTimeout(S),o.delete(b.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:_}}},_O=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EO=wr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TO=wr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bO=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wO=wr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SO=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${wO} 1s linear infinite;
`,AO=wr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,xO=wr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RO=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${xO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CO=xs("div")`
  position: absolute;
`,NO=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,IO=wr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DO=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${IO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OO=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?x.createElement(DO,null,e):e:n==="blank"?null:x.createElement(NO,null,x.createElement(SO,{...s}),n!=="loading"&&x.createElement(CO,null,n==="error"?x.createElement(bO,{...s}):x.createElement(RO,{...s})))},MO=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,VO=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,kO="0%{opacity:0;} 100%{opacity:1;}",PO="0%{opacity:1;} 100%{opacity:0;}",LO=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jO=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UO=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=uw()?[kO,PO]:[MO(n),VO(n)];return{animation:e?`${wr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${wr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zO=x.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?UO(i.position||e||"top-center",i.visible):{opacity:0},u=x.createElement(OO,{toast:i}),c=x.createElement(jO,{...i.ariaProps},nf(i.message,i));return x.createElement(LO,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:c}):x.createElement(x.Fragment,null,u,c))});uO(x.createElement);var BO=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=x.useCallback(c=>{if(c){let m=()=>{let p=c.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return x.createElement("div",{ref:u,className:e,style:n},o)},qO=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:uw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},HO=Pf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,vh=16,FO=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:c,containerClassName:m})=>{let{toasts:p,handlers:g}=vO(n,u);return x.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:vh,left:vh,right:vh,bottom:vh,pointerEvents:"none",...c},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(_=>{let b=_.position||e,S=g.calculateOffset(_,{reverseOrder:i,gutter:s,defaultPosition:e}),C=qO(b,S);return x.createElement(BO,{id:_.id,key:_.id,onHeightUpdate:g.updateHeight,className:_.visible?HO:"",style:C},_.type==="custom"?nf(_.message,_):o?o(_):x.createElement(zO,{toast:_,position:b}))}))};function GO({children:i}){const[e,n]=x.useState(null),s=Fi(),o=of();x.useEffect(()=>Fg(_u,m=>{n(m)}),[]);const u=async()=>{await bD(_u),o("/login")},c=[{name:"Schedule",href:"/",icon:rw},{name:"My Team",href:"/manager",icon:kf},{name:"Admin",href:"/admin",icon:F4}];return T.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[T.jsx("header",{className:"bg-white shadow-sm z-20 sticky top-0",children:T.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold",children:"S"}),T.jsx("h1",{className:"text-xl font-bold text-slate-800 tracking-tight hidden sm:block",children:"SoccerScheduler"})]}),T.jsxs("div",{className:"hidden md:flex gap-6 items-center",children:[c.map(m=>T.jsx(aa,{to:m.href,className:`text-sm font-medium transition-colors ${s.pathname===m.href?"text-indigo-600":"text-slate-500 hover:text-slate-800"}`,children:m.name},m.name)),e&&T.jsxs("button",{onClick:u,className:"ml-4 flex items-center gap-1 text-sm font-medium text-red-500 hover:text-red-700 bg-red-50 px-3 py-1.5 rounded-full transition",children:[T.jsx(oT,{className:"w-4 h-4"}),"Sign Out"]}),!e&&T.jsx(aa,{to:"/login",className:"ml-4 text-sm font-bold text-indigo-600",children:"Login"})]}),T.jsx("div",{className:"md:hidden",children:e?T.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-red-500",children:T.jsx(oT,{className:"w-6 h-6"})}):T.jsx(aa,{to:"/login",className:"text-sm font-bold text-indigo-600",children:"Login"})})]})}),T.jsx("main",{className:"flex-grow max-w-5xl w-full mx-auto px-4 py-6 pb-24 md:pb-6",children:T.jsx(r2,{})}),T.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 pb-safe z-30",children:T.jsx("div",{className:"flex justify-around items-center h-16",children:c.map(m=>{const p=s.pathname===m.href;return T.jsxs(aa,{to:m.href,className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${p?"text-indigo-600":"text-slate-400"}`,children:[T.jsx(m.icon,{className:`w-6 h-6 ${p?"stroke-2":"stroke-1.5"}`}),T.jsx("span",{className:"text-[10px] font-medium",children:m.name})]},m.name)})})}),T.jsx(FO,{position:"top-center"})]})}function hr({children:i}){const[e,n]=x.useState(null),[s,o]=x.useState(!0),u=Fi();return x.useEffect(()=>{const c=Fg(_u,m=>{n(m),o(!1)});return()=>c()},[]),s?T.jsx("div",{className:"flex justify-center items-center h-screen bg-slate-50",children:T.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"})}):e?i:T.jsx(i2,{to:"/login",state:{from:u},replace:!0})}const mw=6048e5,YO=864e5,Xg=6e4,pw=36e5,uT=Symbol.for("constructDateFrom");function Sr(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&uT in i?i[uT](e):i instanceof Date?new i.constructor(e):new Date(e)}function dt(i,e){return Sr(e||i,i)}let QO={};function jf(){return QO}function Eu(i,e){const n=jf(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=dt(i,e?.in),u=o.getDay(),c=(u<s?7:0)+u-s;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function rf(i,e){return Eu(i,{...e,weekStartsOn:1})}function gw(i,e){const n=dt(i,e?.in),s=n.getFullYear(),o=Sr(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=rf(o),c=Sr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const m=rf(c);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function cT(i){const e=dt(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function KO(i,...e){const n=Sr.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function hT(i,e){const n=dt(i,e?.in);return n.setHours(0,0,0,0),n}function $O(i,e,n){const[s,o]=KO(n?.in,i,e),u=hT(s),c=hT(o),m=+u-cT(u),p=+c-cT(c);return Math.round((m-p)/YO)}function XO(i,e){const n=gw(i,e),s=Sr(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),rf(s)}function rp(i,e,n){const s=dt(i,n?.in);return s.setTime(s.getTime()+e*Xg),s}function jp(i,e,n){const[s,o]=[+dt(i.start,n?.in),+dt(i.end,n?.in)].sort((m,p)=>m-p),[u,c]=[+dt(e.start,n?.in),+dt(e.end,n?.in)].sort((m,p)=>m-p);return s<c&&u<o}function WO(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function ZO(i){return!(!WO(i)&&typeof i!="number"||isNaN(+dt(i)))}function JO(i,e){const n=dt(i,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tM=(i,e,n)=>{let s;const o=eM[i];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function sp(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const nM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sM={date:sp({formats:nM,defaultWidth:"full"}),time:sp({formats:iM,defaultWidth:"full"}),dateTime:sp({formats:rM,defaultWidth:"full"})},aM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oM=(i,e,n,s)=>aM[i];function $l(i){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):c;o=i.formattingValues[m]||i.formattingValues[c]}else{const c=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[c]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const lM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mM=(i,e)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pM={ordinalNumber:mM,era:$l({values:lM,defaultWidth:"wide"}),quarter:$l({values:uM,defaultWidth:"wide",argumentCallback:i=>i-1}),month:$l({values:cM,defaultWidth:"wide"}),day:$l({values:hM,defaultWidth:"wide"}),dayPeriod:$l({values:fM,defaultWidth:"wide",formattingValues:dM,defaultFormattingWidth:"wide"})};function Xl(i){return(e,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const c=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?yM(m,b=>b.test(c)):gM(m,b=>b.test(c));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const _=e.slice(c.length);return{value:g,rest:_}}}function gM(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function yM(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function vM(i){return(e,n={})=>{const s=e.match(i.matchPattern);if(!s)return null;const o=s[0],u=e.match(i.parsePattern);if(!u)return null;let c=i.valueCallback?i.valueCallback(u[0]):u[0];c=n.valueCallback?n.valueCallback(c):c;const m=e.slice(o.length);return{value:c,rest:m}}}const _M=/^(\d+)(th|st|nd|rd)?/i,EM=/\d+/i,TM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bM={any:[/^b/i,/^(a|c)/i]},wM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SM={any:[/1/i,/2/i,/3/i,/4/i]},AM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DM={ordinalNumber:vM({matchPattern:_M,parsePattern:EM,valueCallback:i=>parseInt(i,10)}),era:Xl({matchPatterns:TM,defaultMatchWidth:"wide",parsePatterns:bM,defaultParseWidth:"any"}),quarter:Xl({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Xl({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:xM,defaultParseWidth:"any"}),day:Xl({matchPatterns:RM,defaultMatchWidth:"wide",parsePatterns:CM,defaultParseWidth:"any"}),dayPeriod:Xl({matchPatterns:NM,defaultMatchWidth:"any",parsePatterns:IM,defaultParseWidth:"any"})},OM={code:"en-US",formatDistance:tM,formatLong:sM,formatRelative:oM,localize:pM,match:DM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MM(i,e){const n=dt(i,e?.in);return $O(n,JO(n))+1}function VM(i,e){const n=dt(i,e?.in),s=+rf(n)-+XO(n);return Math.round(s/mw)+1}function yw(i,e){const n=dt(i,e?.in),s=n.getFullYear(),o=jf(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=Sr(e?.in||i,0);c.setFullYear(s+1,0,u),c.setHours(0,0,0,0);const m=Eu(c,e),p=Sr(e?.in||i,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=Eu(p,e);return+n>=+m?s+1:+n>=+g?s:s-1}function kM(i,e){const n=jf(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=yw(i,e),u=Sr(e?.in||i,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),Eu(u,e)}function PM(i,e){const n=dt(i,e?.in),s=+Eu(n,e)-+kM(n,e);return Math.round(s/mw)+1}function Je(i,e){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(e,"0");return n+s}const os={y(i,e){const n=i.getFullYear(),s=n>0?n:1-n;return Je(e==="yy"?s%100:s,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(i,e){return Je(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(i,e){return Je(i.getHours()%12||12,e.length)},H(i,e){return Je(i.getHours(),e.length)},m(i,e){return Je(i.getMinutes(),e.length)},s(i,e){return Je(i.getSeconds(),e.length)},S(i,e){const n=e.length,s=i.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Je(o,e.length)}},ho={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fT={G:function(i,e,n){const s=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const s=i.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return os.y(i,e)},Y:function(i,e,n,s){const o=yw(i,s),u=o>0?o:1-o;if(e==="YY"){const c=u%100;return Je(c,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Je(u,e.length)},R:function(i,e){const n=gw(i);return Je(n,e.length)},u:function(i,e){const n=i.getFullYear();return Je(n,e.length)},Q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Je(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,e,n){const s=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Je(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,e,n){const s=i.getMonth();switch(e){case"M":case"MM":return os.M(i,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,e,n){const s=i.getMonth();switch(e){case"L":return String(s+1);case"LL":return Je(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,e,n,s){const o=PM(i,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Je(o,e.length)},I:function(i,e,n){const s=VM(i);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Je(s,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):os.d(i,e)},D:function(i,e,n){const s=MM(i);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Je(s,e.length)},E:function(i,e,n){const s=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,e,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Je(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Je(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,n){const s=i.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Je(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,e,n){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,n){const s=i.getHours();let o;switch(s===12?o=ho.noon:s===0?o=ho.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,n){const s=i.getHours();let o;switch(s>=17?o=ho.evening:s>=12?o=ho.afternoon:s>=4?o=ho.morning:o=ho.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return os.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):os.H(i,e)},K:function(i,e,n){const s=i.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,e.length)},k:function(i,e,n){let s=i.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):os.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):os.s(i,e)},S:function(i,e){return os.S(i,e)},X:function(i,e,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return mT(s);case"XXXX":case"XX":return sa(s);default:return sa(s,":")}},x:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"x":return mT(s);case"xxxx":case"xx":return sa(s);default:return sa(s,":")}},O:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dT(s,":");default:return"GMT"+sa(s,":")}},z:function(i,e,n){const s=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dT(s,":");default:return"GMT"+sa(s,":")}},t:function(i,e,n){const s=Math.trunc(+i/1e3);return Je(s,e.length)},T:function(i,e,n){return Je(+i,e.length)}};function dT(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Je(u,2)}function mT(i,e){return i%60===0?(i>0?"-":"+")+Je(Math.abs(i)/60,2):sa(i,e)}function sa(i,e=""){const n=i>0?"-":"+",s=Math.abs(i),o=Je(Math.trunc(s/60),2),u=Je(s%60,2);return n+o+e+u}const pT=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},vw=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},LM=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return pT(i,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",pT(s,e)).replace("{{time}}",vw(o,e))},jM={p:vw,P:LM},UM=/^D+$/,zM=/^Y+$/,BM=["D","DD","YY","YYYY"];function qM(i){return UM.test(i)}function HM(i){return zM.test(i)}function FM(i,e,n){const s=GM(i,e,n);if(console.warn(s),BM.includes(i))throw new RangeError(s)}function GM(i,e,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const YM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KM=/^'([^]*?)'?$/,$M=/''/g,XM=/[a-zA-Z]/;function En(i,e,n){const s=jf(),o=s.locale??OM,u=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=dt(i,n?.in);if(!ZO(m))throw new RangeError("Invalid time value");let p=e.match(QM).map(_=>{const b=_[0];if(b==="p"||b==="P"){const S=jM[b];return S(_,o.formatLong)}return _}).join("").match(YM).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const b=_[0];if(b==="'")return{isToken:!1,value:WM(_)};if(fT[b])return{isToken:!0,value:_};if(b.match(XM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:_}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:c,locale:o};return p.map(_=>{if(!_.isToken)return _.value;const b=_.value;(HM(b)||qM(b))&&FM(b,e,String(i));const S=fT[b[0]];return S(m,b,o.localize,g)}).join("")}function WM(i){const e=i.match(KM);return e?e[1].replace($M,"'"):i}function sf(i,e,n){const s=+dt(i,n?.in),[o,u]=[+dt(e.start,n?.in),+dt(e.end,n?.in)].sort((c,m)=>c-m);return s>=o&&s<=u}function Up(i,e){const n=()=>Sr(e?.in,NaN),o=t3(i);let u;if(o.date){const g=n3(o.date,2);u=i3(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const c=+u;let m=0,p;if(o.time&&(m=r3(o.time),isNaN(m)))return n();if(o.timezone){if(p=s3(o.timezone),isNaN(p))return n()}else{const g=new Date(c+m),_=dt(0,e?.in);return _.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),_.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),_}return dt(c+m+p,e?.in)}const _h={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ZM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,e3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function t3(i){const e={},n=i.split(_h.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],_h.timeZoneDelimiter.test(e.date)&&(e.date=i.split(_h.timeZoneDelimiter)[0],s=i.substr(e.date.length,i.length))),s){const o=_h.timezone.exec(s);o?(e.time=s.replace(o[1],""),e.timezone=o[1]):e.time=s}return e}function n3(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=i.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?o:u*100,restDateString:i.slice((s[1]||s[2]).length)}}function i3(i,e){if(e===null)return new Date(NaN);const n=i.match(ZM);if(!n)return new Date(NaN);const s=!!n[4],o=Wl(n[1]),u=Wl(n[2])-1,c=Wl(n[3]),m=Wl(n[4]),p=Wl(n[5])-1;if(s)return c3(e,m,p)?a3(e,m,p):new Date(NaN);{const g=new Date(0);return!l3(e,u,c)||!u3(e,o)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(o,c)),g)}}function Wl(i){return i?parseInt(i):1}function r3(i){const e=i.match(JM);if(!e)return NaN;const n=ap(e[1]),s=ap(e[2]),o=ap(e[3]);return h3(n,s,o)?n*pw+s*Xg+o*1e3:NaN}function ap(i){return i&&parseFloat(i.replace(",","."))||0}function s3(i){if(i==="Z")return 0;const e=i.match(e3);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return f3(s,o)?n*(s*pw+o*Xg):NaN}function a3(i,e,n){const s=new Date(0);s.setUTCFullYear(i,0,4);const o=s.getUTCDay()||7,u=(e-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+u),s}const o3=[31,null,31,30,31,30,31,31,30,31,30,31];function _w(i){return i%400===0||i%4===0&&i%100!==0}function l3(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(o3[e]||(_w(i)?29:28))}function u3(i,e){return e>=1&&e<=(_w(i)?366:365)}function c3(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function h3(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function f3(i,e){return e>=0&&e<=59}function gT(i,e,n){const s=dt(i,n?.in);return s.setHours(e),s}function yT(i,e,n){const s=dt(i,n?.in);return s.setMinutes(e),s}function d3(){const[i,e]=x.useState([]),[n,s]=x.useState({}),[o,u]=x.useState(!0),[c,m]=x.useState(""),[p,g]=x.useState([]);x.useEffect(()=>{(async()=>{u(!0);try{const U=await cn(rt(Ce,"fields")),z={};U.docs.forEach(oe=>{z[oe.id]=oe.data()}),s(z);const q=rt(Ce,"matches"),F=No(q,w1("start","asc"),DI(100)),K=(await cn(F)).docs.map(oe=>({id:oe.id,...oe.data(),start:oe.data().start.toDate(),end:oe.data().end.toDate()}));e(K);const le=new Set;K.forEach(oe=>{oe.homeTeamName&&le.add(oe.homeTeamName),oe.awayTeamName&&le.add(oe.awayTeamName)}),g(Array.from(le).sort())}catch(U){console.error("Error fetching schedule:",U)}finally{u(!1)}})()},[]);const b=(c?i.filter(C=>C.homeTeamName===c||C.awayTeamName===c):i).reduce((C,U)=>{const z=En(U.start,"yyyy-MM-dd");return C[z]||(C[z]=[]),C[z].push(U),C},{}),S=C=>{const U=n[C];return U?`${U.complexName||""} - ${U.name}`:"Unknown Field"};return T.jsxs("div",{className:"max-w-xl mx-auto min-h-screen bg-slate-50 pb-20",children:[T.jsxs("div",{className:"bg-white p-4 sticky top-0 z-10 shadow-sm border-b border-slate-200",children:[T.jsx("h1",{className:"text-xl font-bold text-slate-800 mb-3",children:"Club Schedule"}),T.jsxs("select",{className:"w-full bg-slate-100 border-none text-slate-800 p-3 rounded-lg text-sm font-medium focus:ring-2 focus:ring-indigo-500",value:c,onChange:C=>m(C.target.value),children:[T.jsx("option",{value:"",children:"All Teams"}),p.map(C=>T.jsx("option",{value:C,children:C},C))]})]}),T.jsxs("div",{className:"p-4 space-y-6",children:[o&&T.jsxs("div",{className:"text-center py-10",children:[T.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full mx-auto mb-2"}),T.jsx("p",{className:"text-slate-400 text-sm",children:"Loading Schedule..."})]}),!o&&i.length===0&&T.jsx("div",{className:"text-center py-10 text-slate-400",children:T.jsx("p",{children:"No games scheduled yet."})}),Object.entries(b).map(([C,U])=>T.jsxs("div",{children:[T.jsx("div",{className:"sticky top-[88px] z-0 bg-slate-50/95 backdrop-blur py-2 mb-2",children:T.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:En(Up(C),"EEEE, MMMM do")})}),T.jsx("div",{className:"space-y-3",children:U.map(z=>T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[T.jsxs("div",{className:"bg-slate-50 px-4 py-2 flex justify-between items-center border-b border-slate-100 text-xs font-semibold text-slate-500",children:[T.jsxs("div",{className:"flex items-center gap-1.5 text-indigo-600",children:[T.jsx(Qg,{className:"w-3.5 h-3.5"}),En(z.start,"h:mm a")]}),T.jsxs("div",{className:"flex items-center gap-1.5 truncate max-w-[60%]",children:[T.jsx(Vf,{className:"w-3.5 h-3.5"}),S(z.fieldId)]})]}),T.jsxs("div",{className:"p-4 flex items-center justify-between",children:[T.jsx("div",{className:"flex-1 text-center",children:T.jsx("div",{className:"font-bold text-slate-800 text-sm md:text-base leading-tight",children:z.homeTeamName||"TBD"})}),T.jsx("div",{className:"px-3",children:T.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center text-[10px] font-bold text-slate-400",children:"VS"})}),T.jsx("div",{className:"flex-1 text-center",children:T.jsx("div",{className:"font-bold text-slate-800 text-sm md:text-base leading-tight",children:z.awayTeamName||"TBD"})})]})]},z.id))})]},C))]})]})}function m3(){const i=[{name:"Edit Schedules",path:"/admin/manage-matches",icon:Kg,color:"bg-indigo-500"},{name:"Schedule Matches",path:"/admin/matches",icon:rw,color:"bg-blue-500"},{name:"Team Blackouts",path:"/admin/blackouts",icon:Q4,color:"bg-red-500"},{name:"Manage Complexes",path:"/admin/complexes",icon:Vf,color:"bg-orange-500"},{name:"Field Availability",path:"/admin/availability",icon:Qg,color:"bg-teal-500"},{name:"Manage Teams",path:"/admin/teams",icon:tO,color:"bg-green-500"},{name:"Manage Users",path:"/admin/users",icon:W4,color:"bg-purple-500"}];return T.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[T.jsx("h2",{className:"text-3xl font-bold mb-8 text-slate-800",children:"Admin Control Center"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(e=>T.jsx(aa,{to:e.path,className:"block group",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 flex items-center gap-4 transition group-hover:shadow-md group-hover:border-indigo-200",children:[T.jsx("div",{className:`${e.color} p-3 rounded-lg text-white`,children:T.jsx(e.icon,{className:"w-6 h-6"})}),T.jsx("span",{className:"font-bold text-slate-700 group-hover:text-indigo-600",children:e.name})]})},e.name))})]})}const p3=(i,e,n,s)=>{const o=[];n.some(g=>g.fieldId===i.fieldId&&sf(i.start,{start:g.start,end:g.end})&&sf(i.end,{start:g.start,end:g.end}))||o.push("No permit for this field at this time.");const c=e.find(g=>g.fieldId===i.fieldId&&jp({start:i.start,end:i.end},{start:g.start,end:g.end}));c&&o.push(`Field conflict with Match ${c.id}`);const m=[i.homeTeamId,i.awayTeamId];return s.find(g=>m.includes(g.teamId)&&jp({start:i.start,end:i.end},{start:g.start,end:g.end}))&&o.push("Team scheduling conflict (Blackout date found)."),{isValid:o.length===0,errors:o}};function g3(){const[i,e]=x.useState({matches:[],permits:[],blackouts:[],loading:!0});return x.useEffect(()=>{const n=vo(rt(Ce,"matches"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,matches:c}))}),s=vo(rt(Ce,"permits"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,permits:c}))}),o=vo(rt(Ce,"requests"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,blackouts:c,loading:!1}))});return()=>{n(),s(),o()}},[]),i}function y3(){const{matches:i,permits:e,blackouts:n}=g3(),[s,o]=x.useState([]),[u,c]=x.useState([]),[m,p]=x.useState([]),[g,_]=x.useState({type:"existing",id:"",name:""}),[b,S]=x.useState({type:"existing",id:"",name:""}),[C,U]=x.useState(""),[z,q]=x.useState(""),[F,Y]=x.useState(""),[K,le]=x.useState(90),[oe,me]=x.useState(null),[N,R]=x.useState([]),[I,P]=x.useState({type:"idle",msgs:[]});x.useEffect(()=>{(async()=>{const[Ye,W,se]=await Promise.all([cn(rt(Ce,"teams")),cn(rt(Ce,"complexes")),cn(rt(Ce,"fields"))]);o(Ye.docs.map(ce=>({id:ce.id,...ce.data()}))),c(W.docs.map(ce=>({id:ce.id,...ce.data()}))),p(se.docs.map(ce=>({id:ce.id,...ce.data()})))})()},[]);const M=m.filter(ge=>ge.complexId===C);x.useEffect(()=>{if(R([]),me(null),!z||!F||!K)return;const ge=[],Ye=15;let W=yT(gT(Up(F),6),0);const se=yT(gT(Up(F),22),0);for(;W<se;){const ce=W,De=rp(W,K),ze={start:ce,end:De},k=e.some(re=>re.fieldId===z&&sf(ce,{start:re.start,end:re.end})&&sf(De,{start:re.start,end:re.end})),te=i.some(re=>re.fieldId===z&&jp(ze,{start:re.start,end:re.end}));k&&!te&&ge.push(En(ce,"HH:mm")),W=rp(W,Ye)}R(ge)},[F,z,K,i,e]);const j=ge=>{if(ge.type==="temp")return{id:"TEMP",name:ge.name};const Ye=s.find(W=>W.id===ge.id);return Ye?{id:Ye.id,name:Ye.name}:null},D=async ge=>{ge.preventDefault();const Ye=j(g),W=j(b);if(!Ye||!W||!z||!F||!oe){P({type:"error",msgs:["Please fill in all fields"]});return}const se=new Date(`${F}T${oe}`),ce=rp(se,K),De={homeTeamId:Ye.id,homeTeamName:Ye.name,awayTeamId:W.id,awayTeamName:W.name,fieldId:z,start:se,end:ce},ze=p3(De,i,e,n);if(ze.isValid)try{await ga(rt(Ce,"matches"),De),alert("Match Scheduled!"),P({type:"success",msgs:["Match created successfully!"]})}catch(k){console.error("Error:",k)}else P({type:"error",msgs:ze.errors})};return T.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden",children:[T.jsx("div",{className:"bg-slate-50 p-6 border-b border-slate-100",children:T.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[T.jsx(kf,{className:"w-6 h-6 text-indigo-600"}),"Schedule Match"]})}),T.jsxs("form",{onSubmit:D,className:"p-6 space-y-8",children:[T.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[T.jsx(vT,{label:"Home Team",teams:s,selection:g,setSelection:_}),T.jsx(vT,{label:"Away Team",teams:s,selection:b,setSelection:S})]}),T.jsx("hr",{className:"border-slate-100"}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"md:col-span-1",children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Complex"}),T.jsxs("div",{className:"relative",children:[T.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 appearance-none bg-white",value:C,onChange:ge=>{U(ge.target.value),q("")},children:[T.jsx("option",{value:"",children:"-- Select Complex --"}),u.map(ge=>T.jsx("option",{value:ge.id,children:ge.name},ge.id))]}),T.jsx(Vf,{className:"w-5 h-5 text-slate-400 absolute right-3 top-3.5 pointer-events-none"})]})]}),T.jsxs("div",{className:"md:col-span-1",children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Field"}),T.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 disabled:bg-slate-50",value:z,onChange:ge=>q(ge.target.value),disabled:!C,children:[T.jsx("option",{value:"",children:"-- Select Field --"}),M.map(ge=>T.jsx("option",{value:ge.id,children:ge.name},ge.id))]})]}),T.jsxs("div",{className:"md:col-span-1",children:[T.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Game Date"}),T.jsx("input",{type:"date",className:"w-full border border-slate-300 rounded-lg p-3",value:F,onChange:ge=>Y(ge.target.value)})]})]}),T.jsxs("div",{children:[T.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Match Duration: ",T.jsxs("span",{className:"text-indigo-600",children:[K," mins"]})]}),T.jsx("input",{type:"range",min:"30",max:"180",step:"15",className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer",value:K,onChange:ge=>le(Number(ge.target.value))}),T.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[T.jsx("span",{children:"30m"}),T.jsx("span",{children:"60m"}),T.jsx("span",{children:"90m"}),T.jsx("span",{children:"120m"}),T.jsx("span",{children:"180m"})]})]}),T.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[T.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[T.jsx(Qg,{className:"w-4 h-4"})," Available Start Times"]}),!F||!z?T.jsx("div",{className:"text-sm text-slate-400 italic text-center py-4",children:"Select a Field and Date to see times"}):N.length===0?T.jsx("div",{className:"text-sm text-red-500 font-medium text-center py-4 bg-red-50 rounded",children:"No open slots available (Field closed or fully booked)."}):T.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:N.map(ge=>T.jsx("button",{type:"button",onClick:()=>me(ge),className:`px-2 py-2 text-sm font-medium rounded transition-all ${oe===ge?"bg-indigo-600 text-white shadow-md transform scale-105":"bg-white border border-slate-200 text-slate-600 hover:border-indigo-300 hover:text-indigo-600"}`,children:ge},ge))})]}),I.type==="error"&&T.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded text-sm font-medium border border-red-100",children:I.msgs.join(", ")}),T.jsx("button",{type:"submit",disabled:!oe,className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-lg hover:bg-indigo-700 shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:oe?`Confirm: ${F} @ ${oe}`:"Select a Time Slot"})]})]})})}function vT({label:i,teams:e,selection:n,setSelection:s}){const o=n.type==="temp";return T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("label",{className:"text-sm font-bold text-slate-700",children:i}),T.jsx("button",{type:"button",onClick:()=>s({type:o?"existing":"temp",id:"",name:""}),className:"text-xs text-indigo-600 font-semibold hover:underline",children:o?"Select Existing":"Add Temp Team"})]}),o?T.jsx("input",{placeholder:"Enter Temp Team Name",className:"w-full border-2 border-indigo-100 bg-indigo-50 rounded-lg p-3 text-indigo-900 focus:outline-none focus:border-indigo-500",value:n.name,onChange:u=>s({...n,name:u.target.value})}):T.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 bg-white",value:n.id,onChange:u=>s({...n,id:u.target.value}),children:[T.jsx("option",{value:"",children:"-- Select Team --"}),e.map(u=>T.jsx("option",{value:u.id,children:u.name},u.id))]})]})}function v3(){const[i,e]=x.useState([]),[n,s]=x.useState("");x.useEffect(()=>{(async()=>{const _=(await cn(rt(Ce,"teams"))).docs.map(b=>({id:b.id,...b.data()}));_.sort((b,S)=>b.name.localeCompare(S.name)),e(_)})()},[]);const o=async p=>{if(p.preventDefault(),!!n.trim())try{const _={id:(await ga(rt(Ce,"teams"),{name:n,contacts:[]})).id,name:n,contacts:[]};e([...i,_].sort((b,S)=>b.name.localeCompare(S.name))),s("")}catch(g){console.error("Error adding team:",g),alert("Error creating team")}},u=async(p,g)=>{try{await yu(un(Ce,"teams",p),{contacts:g}),e(i.map(_=>_.id===p?{..._,contacts:g}:_))}catch{alert("Error updating contacts")}},c=async(p,g)=>{try{await yu(un(Ce,"teams",p),{name:g}),e(i.map(_=>_.id===p?{..._,name:g}:_))}catch{alert("Error renaming team")}},m=async p=>{if(window.confirm("Delete this team? This will break any existing schedules for them."))try{await zo(un(Ce,"teams",p)),e(i.filter(g=>g.id!==p))}catch{alert("Error deleting team")}};return T.jsxs("div",{className:"p-4 md:p-6 max-w-5xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Team Management"}),T.jsxs("form",{onSubmit:o,className:"flex gap-4 mb-8 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[T.jsx("input",{className:"flex-grow border border-slate-300 p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"New Team Name (e.g., U10 Boys Red)",value:n,onChange:p=>s(p.target.value)}),T.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 transition",children:[T.jsx(aw,{className:"w-5 h-5"})," Create Team"]})]}),T.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(p=>T.jsx(_3,{team:p,onUpdateContacts:u,onRename:c,onDelete:m},p.id))})]})}function _3({team:i,onUpdateContacts:e,onRename:n,onDelete:s}){const[o,u]=x.useState(!1),[c,m]=x.useState(i.name),[p,g]=x.useState(""),[_,b]=x.useState(""),[S,C]=x.useState("Head Coach"),U=()=>{c.trim()!==i.name&&n(i.id,c),u(!1)},z=()=>{if(!p||!_)return;const F={name:p,email:_,role:S},Y=[...i.contacts||[],F];e(i.id,Y),g(""),b(""),C("Head Coach")},q=F=>{if(!window.confirm("Remove this contact?"))return;const Y=i.contacts.filter(K=>K.email!==F);e(i.id,Y)};return T.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-5 shadow-sm hover:shadow-md transition",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-slate-100 pb-3",children:[o?T.jsxs("div",{className:"flex items-center gap-2 flex-grow mr-2",children:[T.jsx("input",{className:"w-full border p-1 rounded font-bold text-slate-800",value:c,onChange:F=>m(F.target.value),autoFocus:!0}),T.jsx("button",{onClick:U,className:"text-green-600 hover:bg-green-50 p-1 rounded",children:T.jsx(sw,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>{u(!1),m(i.name)},className:"text-red-500 hover:bg-red-50 p-1 rounded",children:T.jsx(kp,{className:"w-5 h-5"})})]}):T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("h3",{className:"font-bold text-lg text-slate-800",children:i.name}),T.jsx("button",{onClick:()=>u(!0),className:"text-slate-400 hover:text-indigo-600",children:T.jsx(Kg,{className:"w-4 h-4"})})]}),T.jsx("button",{onClick:()=>s(i.id),className:"text-slate-300 hover:text-red-600",children:T.jsx(Vu,{className:"w-5 h-5"})})]}),T.jsxs("div",{className:"space-y-2 mb-4",children:[T.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Roster / Staff"}),(i.contacts||[]).length===0&&T.jsx("p",{className:"text-sm text-slate-400 italic",children:"No contacts added."}),(i.contacts||[]).map((F,Y)=>T.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded border border-slate-100",children:[T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-semibold text-slate-800 text-sm",children:F.name}),T.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide ${F.role==="Head Coach"?"bg-indigo-100 text-indigo-700":F.role==="Team Manager"?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-600"}`,children:F.role})]}),T.jsx("span",{className:"text-xs text-slate-500",children:F.email})]}),T.jsx("button",{onClick:()=>q(F.email),className:"text-slate-400 hover:text-red-500",children:T.jsx(kp,{className:"w-4 h-4"})})]},Y))]}),T.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 mt-4",children:[T.jsx("p",{className:"text-xs font-bold text-slate-500 mb-2",children:"Add Person"}),T.jsxs("div",{className:"grid gap-2",children:[T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{placeholder:"Name",className:"border p-1.5 text-sm rounded flex-1 w-full",value:p,onChange:F=>g(F.target.value)}),T.jsxs("select",{className:"border p-1.5 text-sm rounded bg-white text-slate-700 w-1/3",value:S,onChange:F=>C(F.target.value),children:[T.jsx("option",{children:"Head Coach"}),T.jsx("option",{children:"Asst Coach"}),T.jsx("option",{children:"Team Manager"}),T.jsx("option",{children:"Scheduler"}),T.jsx("option",{children:"Parent Rep"})]})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("input",{placeholder:"Email",className:"border p-1.5 text-sm rounded flex-1 w-full",value:_,onChange:F=>b(F.target.value)}),T.jsx("button",{onClick:z,disabled:!p||!_,className:"bg-slate-800 text-white px-3 py-1.5 text-xs font-bold rounded hover:bg-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]})]})]})}function E3(){const[i,e]=x.useState([]),[n,s]=x.useState([]);x.useEffect(()=>{(async()=>{const m=await cn(rt(Ce,"users")),p=await cn(rt(Ce,"teams"));e(m.docs.map(g=>({id:g.id,...g.data()}))),s(p.docs.map(g=>({id:g.id,...g.data()})))})()},[]);const o=async(c,m)=>{await yu(un(Ce,"users",c),{role:m}),e(i.map(p=>p.id===c?{...p,role:m}:p))},u=async(c,m)=>{await yu(un(Ce,"users",c),{teamId:m}),e(i.map(p=>p.id===c?{...p,teamId:m}:p))};return T.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"User Administration"}),T.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-slate-50 border-b",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Email"}),T.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Role"}),T.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Assigned Team"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(c=>T.jsxs("tr",{className:"hover:bg-slate-50",children:[T.jsxs("td",{className:"p-4 text-sm font-medium text-slate-800",children:[c.email,T.jsx("div",{className:"text-xs text-slate-400 font-mono mt-1",children:c.id})]}),T.jsx("td",{className:"p-4",children:T.jsxs("select",{className:"border border-slate-300 rounded p-1 text-sm bg-white",value:c.role||"manager",onChange:m=>o(c.id,m.target.value),children:[T.jsx("option",{value:"manager",children:"Manager"}),T.jsx("option",{value:"admin",children:"Admin"}),T.jsx("option",{value:"scheduler",children:"Scheduler"})]})}),T.jsx("td",{className:"p-4",children:T.jsxs("select",{className:"border border-slate-300 rounded p-1 text-sm bg-white w-full max-w-xs",value:c.teamId||"",onChange:m=>u(c.id,m.target.value),children:[T.jsx("option",{value:"",children:"-- No Team Assigned --"}),T.jsx("option",{value:"all",children:"ALL (Admin Access)"}),n.map(m=>T.jsx("option",{value:m.id,children:m.name},m.id))]})})]},c.id))})]})})]})}function T3(){const[i,e]=x.useState([]),[n,s]=x.useState(null),[o,u]=x.useState([]),[c,m]=x.useState(""),[p,g]=x.useState(""),[_,b]=x.useState(""),[S,C]=x.useState("Grass");x.useEffect(()=>{(async()=>{const Y=await cn(rt(Ce,"complexes"));e(Y.docs.map(K=>({id:K.id,...K.data()})))})()},[]),x.useEffect(()=>{(async()=>{if(!n){u([]);return}const Y=No(rt(Ce,"fields"),$h("complexId","==",n.id)),K=await cn(Y);u(K.docs.map(le=>({id:le.id,...le.data()})))})()},[n]);const U=async F=>{if(F.preventDefault(),!c)return;const K={id:(await ga(rt(Ce,"complexes"),{name:c,address:p})).id,name:c,address:p};e([...i,K]),m(""),g(""),s(K)},z=async F=>{if(F.preventDefault(),!_||!n)return;const Y=await ga(rt(Ce,"fields"),{name:_,complexId:n.id,complexName:n.name,surface:S,isActive:!0});u([...o,{id:Y.id,name:_,surface:S,complexId:n.id}]),b("")},q=async F=>{window.confirm("Delete this field? Matches scheduled here will lose their location.")&&(await zo(un(Ce,"fields",F)),u(o.filter(Y=>Y.id!==F)))};return T.jsxs("div",{className:"flex h-[calc(100vh-100px)] max-w-6xl mx-auto p-4 gap-6",children:[T.jsxs("div",{className:"w-1/3 bg-white rounded-lg shadow-sm border border-slate-200 flex flex-col",children:[T.jsxs("div",{className:"p-4 border-b bg-slate-50",children:[T.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Complexes"}),T.jsx("p",{className:"text-xs text-slate-500",children:"Select one to manage fields"})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:i.map(F=>T.jsxs("button",{onClick:()=>s(F),className:`w-full text-left p-3 rounded-md transition-all ${n?.id===F.id?"bg-indigo-50 border-indigo-200 text-indigo-700 shadow-sm ring-1 ring-indigo-200":"hover:bg-gray-50 text-slate-700"}`,children:[T.jsx("div",{className:"font-semibold",children:F.name}),T.jsxs("div",{className:"text-xs text-slate-400 truncate flex items-center gap-1",children:[T.jsx(Vf,{className:"w-3 h-3"})," ",F.address||"No address"]})]},F.id))}),T.jsx("div",{className:"p-4 border-t bg-slate-50",children:T.jsxs("form",{onSubmit:U,className:"space-y-2",children:[T.jsx("input",{placeholder:"Complex Name",className:"w-full text-sm border p-2 rounded",value:c,onChange:F=>m(F.target.value)}),T.jsx("input",{placeholder:"Address",className:"w-full text-sm border p-2 rounded",value:p,onChange:F=>g(F.target.value)}),T.jsx("button",{className:"w-full bg-indigo-600 text-white text-sm py-2 rounded font-medium hover:bg-indigo-700",children:"Add Complex"})]})})]}),T.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-sm border border-slate-200 flex flex-col",children:n?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:T.jsxs("div",{children:[T.jsx("h2",{className:"font-bold text-lg text-slate-800",children:n.name}),T.jsxs("span",{className:"text-xs bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full",children:[o.length," Fields"]})]})}),T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 gap-4 content-start",children:[o.map(F=>T.jsxs("div",{className:"border p-4 rounded-lg relative group hover:border-indigo-300 transition",children:[T.jsx("h4",{className:"font-bold text-slate-800",children:F.name}),T.jsx("p",{className:"text-xs text-slate-500 uppercase mt-1",children:F.surface}),T.jsx("button",{onClick:()=>q(F.id),className:"absolute top-2 right-2 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:T.jsx(Vu,{className:"w-4 h-4"})})]},F.id)),T.jsxs("form",{onSubmit:z,className:"border-2 border-dashed border-slate-200 rounded-lg p-4 flex flex-col justify-center gap-2 hover:border-indigo-200 transition",children:[T.jsx("input",{autoFocus:!0,placeholder:"New Field Name",className:"text-sm border-b p-1 focus:outline-none focus:border-indigo-500",value:_,onChange:F=>b(F.target.value)}),T.jsxs("select",{className:"text-xs bg-slate-50 p-1 rounded",value:S,onChange:F=>C(F.target.value),children:[T.jsx("option",{children:"Grass"}),T.jsx("option",{children:"Turf"}),T.jsx("option",{children:"Indoor"})]}),T.jsxs("button",{className:"bg-indigo-50 text-indigo-600 text-xs py-1.5 rounded font-bold hover:bg-indigo-100 flex items-center justify-center gap-1",children:[T.jsx(aw,{className:"w-3 h-3"})," Add Field"]})]})]})]}):T.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:"Select a complex on the left to add fields."})})]})}function b3(){const[i,e]=x.useState([]),[n,s]=x.useState([]),[o,u]=x.useState([]),[c,m]=x.useState(""),[p,g]=x.useState(""),[_,b]=x.useState(""),[S,C]=x.useState("08:00"),[U,z]=x.useState("17:00");x.useEffect(()=>{(async()=>{const K=await cn(rt(Ce,"complexes"));e(K.docs.map(le=>({id:le.id,...le.data()})))})()},[]),x.useEffect(()=>{if(!c){s([]);return}(async()=>{const K=No(rt(Ce,"fields"),$h("complexId","==",c)),le=await cn(K);s(le.docs.map(oe=>({id:oe.id,...oe.data()})))})()},[c]),x.useEffect(()=>{if(!p){u([]);return}const Y=No(rt(Ce,"permits"),$h("fieldId","==",p)),K=vo(Y,le=>{const oe=le.docs.map(me=>({id:me.id,...me.data(),start:me.data().start.toDate(),end:me.data().end.toDate()}));oe.sort((me,N)=>me.start-N.start),u(oe)});return()=>K()},[p]);const q=async Y=>{if(Y.preventDefault(),!p||!_)return;const K=new Date(`${_}T${S}`),le=new Date(`${_}T${U}`);if(le<=K){alert("End time must be after start time");return}await ga(rt(Ce,"permits"),{fieldId:p,start:He.fromDate(K),end:He.fromDate(le)})},F=async Y=>{confirm("Revoke this permit? Scheduled games might become invalid.")&&await zo(un(Ce,"permits",Y))};return T.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Field Availability (Permits)"}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6 bg-white p-4 rounded-lg shadow-sm border",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Complex"}),T.jsxs("select",{className:"w-full border p-2 rounded",value:c,onChange:Y=>{m(Y.target.value),g("")},children:[T.jsx("option",{value:"",children:"-- Select Complex --"}),i.map(Y=>T.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Field"}),T.jsxs("select",{className:"w-full border p-2 rounded disabled:bg-slate-100",value:p,onChange:Y=>g(Y.target.value),disabled:!c,children:[T.jsx("option",{value:"",children:"-- Select Field --"}),n.map(Y=>T.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),p&&T.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[T.jsx("div",{className:"md:col-span-1",children:T.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-lg",children:[T.jsx("h3",{className:"font-bold text-indigo-900 mb-3",children:"Add Open Slot"}),T.jsxs("form",{onSubmit:q,className:"space-y-3",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"Date"}),T.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:_,onChange:Y=>b(Y.target.value)})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"Start"}),T.jsx("input",{type:"time",required:!0,className:"w-full border p-2 rounded",value:S,onChange:Y=>C(Y.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"End"}),T.jsx("input",{type:"time",required:!0,className:"w-full border p-2 rounded",value:U,onChange:Y=>z(Y.target.value)})]})]}),T.jsx("button",{className:"w-full bg-indigo-600 text-white font-bold py-2 rounded hover:bg-indigo-700",children:"Grant Permit"})]})]})}),T.jsxs("div",{className:"md:col-span-2 space-y-3",children:[T.jsx("h3",{className:"font-bold text-slate-700",children:"Active Permits for this Field"}),o.length===0&&T.jsx("p",{className:"text-slate-400 italic",children:"No open slots defined. Field is closed."}),o.map(Y=>T.jsxs("div",{className:"flex items-center justify-between bg-white border border-l-4 border-l-green-500 p-3 rounded shadow-sm",children:[T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-slate-800",children:En(Y.start,"EEEE, MMMM do, yyyy")}),T.jsxs("div",{className:"text-sm text-slate-500",children:[En(Y.start,"h:mm a")," - ",En(Y.end,"h:mm a")]})]}),T.jsx("button",{onClick:()=>F(Y.id),className:"text-slate-400 hover:text-red-500",children:T.jsx(Vu,{className:"w-5 h-5"})})]},Y.id))]})]})]})}function w3(){const[i,e]=x.useState([]),[n,s]=x.useState([]),[o,u]=x.useState(""),[c,m]=x.useState(""),[p,g]=x.useState("Admin Override");x.useEffect(()=>{(async()=>{const C=await cn(rt(Ce,"teams"));s(C.docs.map(U=>({id:U.id,...U.data()})))})()},[]),x.useEffect(()=>{const S=vo(rt(Ce,"requests"),C=>{const U=C.docs.map(z=>({id:z.id,...z.data(),start:z.data().start.toDate()}));U.sort((z,q)=>z.start-q.start),e(U)});return()=>S()},[]);const _=async S=>{if(S.preventDefault(),!o||!c)return;const C=new Date(c);C.setHours(0,0,0,0);const U=new Date(c);U.setHours(23,59,59,999);const z=n.find(q=>q.id===o);await ga(rt(Ce,"requests"),{teamId:o,teamName:z?.name||"Unknown Team",start:He.fromDate(C),end:He.fromDate(U),reason:p,type:"blackout",managerId:"ADMIN"}),g("Admin Override"),alert("Blackout Added")},b=async S=>{confirm("Delete this blackout date?")&&await zo(un(Ce,"requests",S))};return T.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Master Blackout Schedule"}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"md:col-span-1 h-fit bg-red-50 border border-red-100 p-4 rounded-lg",children:[T.jsx("h3",{className:"font-bold text-red-900 mb-4",children:"Add Team Constraint"}),T.jsxs("form",{onSubmit:_,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-red-700",children:"Target Team"}),T.jsxs("select",{className:"w-full border p-2 rounded",value:o,onChange:S=>u(S.target.value),children:[T.jsx("option",{value:"",children:"-- Select Team --"}),n.map(S=>T.jsx("option",{value:S.id,children:S.name},S.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-red-700",children:"Date"}),T.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:c,onChange:S=>m(S.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-red-700",children:"Reason"}),T.jsx("input",{className:"w-full border p-2 rounded",value:p,onChange:S=>g(S.target.value)})]}),T.jsx("button",{className:"w-full bg-red-600 text-white font-bold py-2 rounded hover:bg-red-700",children:"Block Date"})]})]}),T.jsx("div",{className:"md:col-span-2",children:T.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-slate-50 border-b",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-3 text-slate-500 font-bold",children:"Date"}),T.jsx("th",{className:"p-3 text-slate-500 font-bold",children:"Team"}),T.jsx("th",{className:"p-3 text-slate-500 font-bold",children:"Reason"}),T.jsx("th",{className:"p-3"})]})}),T.jsx("tbody",{className:"divide-y",children:i.map(S=>T.jsxs("tr",{className:"hover:bg-slate-50",children:[T.jsx("td",{className:"p-3 font-medium",children:En(S.start,"MMM do")}),T.jsx("td",{className:"p-3",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(kf,{className:"w-4 h-4 text-slate-400"}),S.teamName||"Team "+S.teamId]})}),T.jsx("td",{className:"p-3 text-slate-600",children:S.reason}),T.jsx("td",{className:"p-3 text-right",children:T.jsx("button",{onClick:()=>b(S.id),className:"text-slate-300 hover:text-red-600",children:T.jsx(Vu,{className:"w-4 h-4"})})})]},S.id))})]})})})]})]})}function S3(){const[i,e]=x.useState(null),[n,s]=x.useState(!1),[o,u]=x.useState([]),[c,m]=x.useState(""),[p,g]=x.useState([]),[_,b]=x.useState(""),[S,C]=x.useState(""),[U,z]=x.useState("Tournament");x.useEffect(()=>{const K=Fg(_u,async le=>{if(!le)return;e(le);const oe=un(Ce,"users",le.uid),me=await Dp(oe);if(me.exists()){const N=me.data(),R=N.role;s(R==="admin");let I=[];if(R==="admin")I=(await cn(rt(Ce,"teams"))).docs.map(M=>({id:M.id,...M.data()}));else if(N.teamId){const P=await Dp(un(Ce,"teams",N.teamId));P.exists()&&(I=[{id:P.id,...P.data()}])}I.sort((P,M)=>P.name.localeCompare(M.name)),u(I),I.length>0&&m(I[0].id)}});return()=>K()},[]),x.useEffect(()=>{if(!c){g([]);return}const K=No(rt(Ce,"requests"),$h("teamId","==",c)),le=vo(K,oe=>{const me=oe.docs.map(N=>({id:N.id,...N.data(),start:N.data().start.toDate(),end:N.data().end.toDate()}));me.sort((N,R)=>N.start-R.start),g(me)});return()=>le()},[c]);const q=async K=>{if(K.preventDefault(),!c||!_||!S)return;if(S<_){alert("End date cannot be before Start date");return}const le=new Date(`${_}T00:00:00`),oe=new Date(`${S}T23:59:59`);try{const me=o.find(N=>N.id===c);await ga(rt(Ce,"requests"),{teamId:c,teamName:me?.name||"Unknown",managerId:i.uid,start:He.fromDate(le),end:He.fromDate(oe),reason:U,type:"blackout",createdAt:new Date}),b(""),C(""),alert("Blackout added.")}catch(me){console.error(me),alert("Error saving.")}},F=async K=>{window.confirm("Delete this blackout?")&&await zo(un(Ce,"requests",K))},Y=o.find(K=>K.id===c)?.name||"Select Team";return i?T.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6",children:[T.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Team Availability"}),T.jsx("p",{className:"text-slate-500 text-sm",children:n?"Admin Mode: Manage any team's schedule":"Manage your team's blackout dates"})]}),T.jsxs("div",{className:"relative min-w-[250px]",children:[T.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase mb-1",children:"Managing Team"}),T.jsxs("div",{className:"relative",children:[T.jsx("select",{className:"w-full appearance-none bg-indigo-50 border border-indigo-200 text-indigo-900 text-base font-semibold rounded-lg py-3 pl-4 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer",value:c,onChange:K=>m(K.target.value),disabled:o.length===0,children:o.map(K=>T.jsx("option",{value:K.id,children:K.name},K.id))}),T.jsx(B4,{className:"w-5 h-5 text-indigo-500 absolute right-3 top-3.5 pointer-events-none"})]}),o.length===0&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No teams found assigned to you."})]})]}),c&&T.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[T.jsx("div",{className:"md:col-span-1",children:T.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-5 sticky top-24",children:[T.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(kf,{className:"w-5 h-5 text-indigo-600"}),"Block Dates"]}),T.jsxs("form",{onSubmit:q,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"From"}),T.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-300 rounded p-2 text-sm",value:_,onChange:K=>b(K.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"To"}),T.jsx("input",{type:"date",required:!0,className:"w-full border border-slate-300 rounded p-2 text-sm",value:S,min:_,onChange:K=>C(K.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Reason"}),T.jsxs("select",{className:"w-full border border-slate-300 rounded p-2 text-sm bg-white",value:U,onChange:K=>z(K.target.value),children:[T.jsx("option",{children:"Tournament"}),T.jsx("option",{children:"School Event"}),T.jsx("option",{children:"Holidays"}),T.jsx("option",{children:"Other"})]})]}),T.jsx("button",{className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2.5 rounded-lg shadow-sm transition",children:"Add Blackout"})]})]})}),T.jsxs("div",{className:"md:col-span-2 space-y-4",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("h3",{className:"font-bold text-slate-700",children:["Blackout Dates for ",T.jsx("span",{className:"text-indigo-700",children:Y})]}),T.jsxs("span",{className:"text-xs bg-slate-100 px-2 py-1 rounded text-slate-500 font-mono",children:["Count: ",p.length]})]}),p.length===0&&T.jsxs("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-8 text-center",children:[T.jsx("p",{className:"text-slate-400 font-medium",children:"No dates blocked."}),T.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"This team is available every day."})]}),T.jsx("div",{className:"grid gap-3",children:p.map(K=>{const le=En(K.start,"MMM do"),oe=En(K.end,"MMM do"),me=le!==oe;return T.jsxs("div",{className:"bg-white border-l-4 border-l-red-500 p-4 rounded-lg shadow-sm flex justify-between items-center group hover:shadow-md transition",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"font-bold text-slate-800 text-lg",children:[le," ",me&&T.jsx("span",{className:"text-slate-400 font-normal mx-1",children:""})," ",me&&oe]}),T.jsx("div",{className:"text-sm text-slate-500 mt-0.5",children:K.reason})]}),T.jsx("button",{onClick:()=>F(K.id),className:"opacity-0 group-hover:opacity-100 text-slate-300 hover:text-red-600 p-2 transition-all",title:"Remove",children:"Delete"})]},K.id)})})]})]})]}):T.jsx("div",{className:"p-10 text-center animate-pulse",children:"Loading Dashboard..."})}function A3(){const[i,e]=x.useState([]),[n,s]=x.useState(null),[o,u]=x.useState(""),[c,m]=x.useState("");x.useEffect(()=>{p()},[]);const p=async()=>{const C=No(rt(Ce,"matches"),w1("start","asc")),U=await cn(C);e(U.docs.map(z=>({id:z.id,...z.data(),start:z.data().start.toDate(),end:z.data().end.toDate()})))},g=async C=>{confirm("Are you sure you want to cancel this match?")&&(await zo(un(Ce,"matches",C)),e(i.filter(U=>U.id!==C)))},_=C=>{s(C.id),u(En(C.start,"yyyy-MM-dd")),m(En(C.start,"HH:mm"))},b=()=>{s(null),u(""),m("")},S=async C=>{try{const U=new Date(`${o}T${c}`),z=C.end-C.start,q=new Date(U.getTime()+z);await yu(un(Ce,"matches",C.id),{start:He.fromDate(U),end:He.fromDate(q)}),e(i.map(F=>F.id===C.id?{...F,start:U,end:q}:F)),s(null)}catch(U){alert("Error updating match: "+U.message)}};return T.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[T.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Match Management"}),T.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[T.jsxs("table",{className:"w-full text-left text-sm",children:[T.jsx("thead",{className:"bg-slate-50 border-b",children:T.jsxs("tr",{children:[T.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Date & Time"}),T.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Teams"}),T.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Location"}),T.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(C=>T.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[T.jsx("td",{className:"p-4",children:n===C.id?T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx("input",{type:"date",className:"border rounded p-1 text-xs",value:o,onChange:U=>u(U.target.value)}),T.jsx("input",{type:"time",className:"border rounded p-1 text-xs",value:c,onChange:U=>m(U.target.value)})]}):T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-slate-800",children:En(C.start,"MMM do, yyyy")}),T.jsx("div",{className:"text-slate-500",children:En(C.start,"h:mm a")})]})}),T.jsxs("td",{className:"p-4",children:[T.jsx("div",{className:"font-medium text-slate-900",children:C.homeTeamName||C.homeTeamId}),T.jsx("div",{className:"text-xs text-slate-400",children:"vs"}),T.jsx("div",{className:"font-medium text-slate-900",children:C.awayTeamName||C.awayTeamId})]}),T.jsxs("td",{className:"p-4 text-slate-600",children:[C.complexName||"Unknown Complex",T.jsxs("div",{className:"text-xs text-slate-400",children:["Field ",C.fieldId]})]}),T.jsx("td",{className:"p-4 text-right",children:n===C.id?T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>S(C),className:"text-green-600 hover:bg-green-50 p-1 rounded",children:T.jsx(sw,{className:"w-5 h-5"})}),T.jsx("button",{onClick:b,className:"text-red-500 hover:bg-red-50 p-1 rounded",children:T.jsx(kp,{className:"w-5 h-5"})})]}):T.jsxs("div",{className:"flex justify-end gap-2",children:[T.jsx("button",{onClick:()=>_(C),className:"text-indigo-500 hover:text-indigo-700 p-1",children:T.jsx(Kg,{className:"w-5 h-5"})}),T.jsx("button",{onClick:()=>g(C.id),className:"text-slate-400 hover:text-red-600 p-1",children:T.jsx(Vu,{className:"w-5 h-5"})})]})})]},C.id))})]}),i.length===0&&T.jsx("div",{className:"p-8 text-center text-slate-400",children:"No matches found."})]})]})}function x3(){return T.jsx(I2,{children:T.jsxs(a2,{children:[T.jsx(Dn,{path:"/login",element:T.jsx(P4,{})}),T.jsxs(Dn,{path:"/",element:T.jsx(GO,{}),children:[T.jsx(Dn,{index:!0,element:T.jsx(d3,{})}),T.jsx(Dn,{path:"manager",element:T.jsx(hr,{children:T.jsx(S3,{})})}),T.jsx(Dn,{path:"admin",element:T.jsx(hr,{children:T.jsx(m3,{})})}),T.jsx(Dn,{path:"admin/matches",element:T.jsx(hr,{children:T.jsx(y3,{})})}),T.jsx(Dn,{path:"admin/teams",element:T.jsx(hr,{children:T.jsx(v3,{})})}),T.jsx(Dn,{path:"admin/users",element:T.jsx(hr,{children:T.jsx(E3,{})})}),T.jsx(Dn,{path:"admin/complexes",element:T.jsx(hr,{children:T.jsx(T3,{})})}),T.jsx(Dn,{path:"admin/availability",element:T.jsx(hr,{children:T.jsx(b3,{})})}),T.jsx(Dn,{path:"admin/blackouts",element:T.jsx(hr,{children:T.jsx(w3,{})})}),T.jsx(Dn,{path:"admin/manage-matches",element:T.jsx(hr,{children:T.jsx(A3,{})})})]})]})})}sA.createRoot(document.getElementById("root")).render(T.jsx(x.StrictMode,{children:T.jsx(x3,{})}));
