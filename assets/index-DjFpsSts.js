(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Hm={exports:{}},tu={};var __;function nS(){if(__)return tu;__=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:c,ref:o!==void 0?o:null,props:u}}return tu.Fragment=e,tu.jsx=n,tu.jsxs=n,tu}var b_;function iS(){return b_||(b_=1,Hm.exports=nS()),Hm.exports}var v=iS(),Fm={exports:{}},Ce={};var E_;function rS(){if(E_)return Ce;E_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),x=Symbol.iterator;function N(k){return k===null||typeof k!="object"?null:(k=x&&k[x]||k["@@iterator"],typeof k=="function"?k:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,B={};function K(k,W,ae){this.props=k,this.context=W,this.refs=B,this.updater=ae||U}K.prototype.isReactComponent={},K.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},K.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function q(){}q.prototype=K.prototype;function J(k,W,ae){this.props=k,this.context=W,this.refs=B,this.updater=ae||U}var ee=J.prototype=new q;ee.constructor=J,G(ee,K.prototype),ee.isPureReactComponent=!0;var oe=Array.isArray;function fe(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(k,W,ae){var he=ae.ref;return{$$typeof:i,type:k,key:W,ref:he!==void 0?he:null,props:ae}}function V(k,W){return I(k.type,W,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function L(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ae){return W[ae]})}var D=/\/+/g;function Ie(k,W){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):W.toString(36)}function gt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(fe,fe):(k.status="pending",k.then(function(W){k.status==="pending"&&(k.status="fulfilled",k.value=W)},function(W){k.status==="pending"&&(k.status="rejected",k.reason=W)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function X(k,W,ae,he,Ee){var ce=typeof k;(ce==="undefined"||ce==="boolean")&&(k=null);var be=!1;if(k===null)be=!0;else switch(ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(k.$$typeof){case i:case e:be=!0;break;case b:return be=k._init,X(be(k._payload),W,ae,he,Ee)}}if(be)return Ee=Ee(k),be=he===""?"."+Ie(k,0):he,oe(Ee)?(ae="",be!=null&&(ae=be.replace(D,"$&/")+"/"),X(Ee,W,ae,"",function(Ut){return Ut})):Ee!=null&&(O(Ee)&&(Ee=V(Ee,ae+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(D,"$&/")+"/")+be)),W.push(Ee)),1;be=0;var We=he===""?".":he+":";if(oe(k))for(var Ge=0;Ge<k.length;Ge++)he=k[Ge],ce=We+Ie(he,Ge),be+=X(he,W,ae,ce,Ee);else if(Ge=N(k),typeof Ge=="function")for(k=Ge.call(k),Ge=0;!(he=k.next()).done;)he=he.value,ce=We+Ie(he,Ge++),be+=X(he,W,ae,ce,Ee);else if(ce==="object"){if(typeof k.then=="function")return X(gt(k),W,ae,he,Ee);throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return be}function ue(k,W,ae){if(k==null)return k;var he=[],Ee=0;return X(k,he,"","",function(ce){return W.call(ae,ce,Ee++)}),he}function se(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(ae){(k._status===0||k._status===-1)&&(k._status=1,k._result=ae)},function(ae){(k._status===0||k._status===-1)&&(k._status=2,k._result=ae)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var xe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},_e={map:ue,forEach:function(k,W,ae){ue(k,function(){W.apply(this,arguments)},ae)},count:function(k){var W=0;return ue(k,function(){W++}),W},toArray:function(k){return ue(k,function(W){return W})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ce.Activity=T,Ce.Children=_e,Ce.Component=K,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=J,Ce.StrictMode=a,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(k,W,ae){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=G({},k.props),Ee=k.key;if(W!=null)for(ce in W.key!==void 0&&(Ee=""+W.key),W)!A.call(W,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&W.ref===void 0||(he[ce]=W[ce]);var ce=arguments.length-2;if(ce===1)he.children=ae;else if(1<ce){for(var be=Array(ce),We=0;We<ce;We++)be[We]=arguments[We+2];he.children=be}return I(k.type,Ee,he)},Ce.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ce.createElement=function(k,W,ae){var he,Ee={},ce=null;if(W!=null)for(he in W.key!==void 0&&(ce=""+W.key),W)A.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ee[he]=W[he]);var be=arguments.length-2;if(be===1)Ee.children=ae;else if(1<be){for(var We=Array(be),Ge=0;Ge<be;Ge++)We[Ge]=arguments[Ge+2];Ee.children=We}if(k&&k.defaultProps)for(he in be=k.defaultProps,be)Ee[he]===void 0&&(Ee[he]=be[he]);return I(k,ce,Ee)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:m,render:k}},Ce.isValidElement=O,Ce.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:se}},Ce.memo=function(k,W){return{$$typeof:g,type:k,compare:W===void 0?null:W}},Ce.startTransition=function(k){var W=C.T,ae={};C.T=ae;try{var he=k(),Ee=C.S;Ee!==null&&Ee(ae,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(fe,xe)}catch(ce){xe(ce)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),C.T=W}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(k){return C.H.use(k)},Ce.useActionState=function(k,W,ae){return C.H.useActionState(k,W,ae)},Ce.useCallback=function(k,W){return C.H.useCallback(k,W)},Ce.useContext=function(k){return C.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,W){return C.H.useDeferredValue(k,W)},Ce.useEffect=function(k,W){return C.H.useEffect(k,W)},Ce.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(k,W,ae){return C.H.useImperativeHandle(k,W,ae)},Ce.useInsertionEffect=function(k,W){return C.H.useInsertionEffect(k,W)},Ce.useLayoutEffect=function(k,W){return C.H.useLayoutEffect(k,W)},Ce.useMemo=function(k,W){return C.H.useMemo(k,W)},Ce.useOptimistic=function(k,W){return C.H.useOptimistic(k,W)},Ce.useReducer=function(k,W,ae){return C.H.useReducer(k,W,ae)},Ce.useRef=function(k){return C.H.useRef(k)},Ce.useState=function(k){return C.H.useState(k)},Ce.useSyncExternalStore=function(k,W,ae){return C.H.useSyncExternalStore(k,W,ae)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.3",Ce}var T_;function Hp(){return T_||(T_=1,Fm.exports=rS()),Fm.exports}var w=Hp(),Gm={exports:{}},nu={},Ym={exports:{}},Qm={};var w_;function aS(){return w_||(w_=1,(function(i){function e(X,ue){var se=X.length;X.push(ue);e:for(;0<se;){var xe=se-1>>>1,_e=X[xe];if(0<o(_e,ue))X[xe]=ue,X[se]=_e,se=xe;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var ue=X[0],se=X.pop();if(se!==ue){X[0]=se;e:for(var xe=0,_e=X.length,k=_e>>>1;xe<k;){var W=2*(xe+1)-1,ae=X[W],he=W+1,Ee=X[he];if(0>o(ae,se))he<_e&&0>o(Ee,ae)?(X[xe]=Ee,X[he]=se,xe=he):(X[xe]=ae,X[W]=se,xe=W);else if(he<_e&&0>o(Ee,se))X[xe]=Ee,X[he]=se,xe=he;else break e}}return ue}function o(X,ue){var se=X.sortIndex-ue.sortIndex;return se!==0?se:X.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],b=1,T=null,x=3,N=!1,U=!1,G=!1,B=!1,K=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ee(X){for(var ue=n(g);ue!==null;){if(ue.callback===null)a(g);else if(ue.startTime<=X)a(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function oe(X){if(G=!1,ee(X),!U)if(n(p)!==null)U=!0,fe||(fe=!0,L());else{var ue=n(g);ue!==null&&gt(oe,ue.startTime-X)}}var fe=!1,C=-1,A=5,I=-1;function V(){return B?!0:!(i.unstable_now()-I<A)}function O(){if(B=!1,fe){var X=i.unstable_now();I=X;var ue=!0;try{e:{U=!1,G&&(G=!1,q(C),C=-1),N=!0;var se=x;try{t:{for(ee(X),T=n(p);T!==null&&!(T.expirationTime>X&&V());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,x=T.priorityLevel;var _e=xe(T.expirationTime<=X);if(X=i.unstable_now(),typeof _e=="function"){T.callback=_e,ee(X),ue=!0;break t}T===n(p)&&a(p),ee(X)}else a(p);T=n(p)}if(T!==null)ue=!0;else{var k=n(g);k!==null&&gt(oe,k.startTime-X),ue=!1}}break e}finally{T=null,x=se,N=!1}ue=void 0}}finally{ue?L():fe=!1}}}var L;if(typeof J=="function")L=function(){J(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ie=D.port2;D.port1.onmessage=O,L=function(){Ie.postMessage(null)}}else L=function(){K(O,0)};function gt(X,ue){C=K(function(){X(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(X){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var se=x;x=ue;try{return X()}finally{x=se}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(X,ue){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=x;x=X;try{return ue()}finally{x=se}},i.unstable_scheduleCallback=function(X,ue,se){var xe=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,X){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,X={id:b++,callback:ue,priorityLevel:X,startTime:se,expirationTime:_e,sortIndex:-1},se>xe?(X.sortIndex=se,e(g,X),n(p)===null&&X===n(g)&&(G?(q(C),C=-1):G=!0,gt(oe,se-xe))):(X.sortIndex=_e,e(p,X),U||N||(U=!0,fe||(fe=!0,L()))),X},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(X){var ue=x;return function(){var se=x;x=ue;try{return X.apply(this,arguments)}finally{x=se}}}})(Qm)),Qm}var S_;function sS(){return S_||(S_=1,Ym.exports=aS()),Ym.exports}var $m={exports:{}},un={};var x_;function oS(){if(x_)return un;x_=1;var i=Hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:b}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},un.flushSync=function(p){var g=c.T,b=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=b,a.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:N}):b==="script"&&a.d.X(p,{crossOrigin:T,integrity:x,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,T=m(b,g.crossOrigin);a.d.L(p,b,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},un.requestFormReset=function(p){a.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,b){return c.H.useFormState(p,g,b)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.2.3",un}var A_;function lS(){if(A_)return $m.exports;A_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$m.exports=oS(),$m.exports}var R_;function uS(){if(R_)return nu;R_=1;var i=sS(),e=Hp(),n=lS();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return p(d),t;if(f===l)return p(d),r;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=d,l=f;else{for(var _=!1,S=d.child;S;){if(S===s){_=!0,s=d,l=f;break}if(S===l){_=!0,l=d,s=f;break}S=S.sibling}if(!_){for(S=f.child;S;){if(S===s){_=!0,s=f,l=d;break}if(S===l){_=!0,l=f,s=d;break}S=S.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function b(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=b(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ie(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case K:return"Profiler";case B:return"StrictMode";case oe:return"Suspense";case fe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case J:return t.displayName||"Context";case q:return(t._context.displayName||"Context")+".Consumer";case ee:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Ie(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Ie(t(r))}catch{}}return null}var gt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},xe=[],_e=-1;function k(t){return{current:t}}function W(t){0>_e||(t.current=xe[_e],xe[_e]=null,_e--)}function ae(t,r){_e++,xe[_e]=t.current,t.current=r}var he=k(null),Ee=k(null),ce=k(null),be=k(null);function We(t,r){switch(ae(ce,r),ae(Ee,t),ae(he,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?qv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=qv(r),t=Hv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(he),ae(he,t)}function Ge(){W(he),W(Ee),W(ce)}function Ut(t){t.memoizedState!==null&&ae(be,t);var r=he.current,s=Hv(r,t.type);r!==s&&(ae(Ee,t),ae(he,s))}function Bn(t){Ee.current===t&&(W(he),W(Ee)),be.current===t&&(W(be),Wl._currentValue=se)}var mn,ri;function Zt(t){if(mn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);mn=r&&r[1]||"",ri=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mn+t+ri}var xi=!1;function Ht(t,r){if(!t||xi)return"";xi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch($){var Y=$}Reflect.construct(t,[],ie)}else{try{ie.call()}catch($){Y=$}t.call(ie.prototype)}}else{try{throw Error()}catch($){Y=$}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],S=f[1];if(_&&S){var M=_.split(`
`),F=S.split(`
`);for(d=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===M.length||d===F.length)for(l=M.length-1,d=F.length-1;1<=l&&0<=d&&M[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(M[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||M[l]!==F[d]){var Z=`
`+M[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{xi=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Zt(s):""}function Ft(t,r){switch(t.tag){case 26:case 27:case 5:return Zt(t.type);case 16:return Zt("Lazy");case 13:return t.child!==r&&r!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return Ht(t.type,!1);case 11:return Ht(t.type.render,!1);case 1:return Ht(t.type,!0);case 31:return Zt("Activity");default:return""}}function ot(t){try{var r="",s=null;do r+=Ft(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var lt=Object.prototype.hasOwnProperty,zt=i.unstable_scheduleCallback,jr=i.unstable_cancelCallback,Fd=i.unstable_shouldYield,Fu=i.unstable_requestPaint,pn=i.unstable_now,Ba=i.unstable_getCurrentPriorityLevel,el=i.unstable_ImmediatePriority,tl=i.unstable_UserBlockingPriority,Lr=i.unstable_NormalPriority,Gd=i.unstable_LowPriority,Gu=i.unstable_IdlePriority,Yu=i.log,Qu=i.unstable_setDisableYieldValue,ai=null,Jt=null;function qn(t){if(typeof Yu=="function"&&Qu(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(ai,t)}catch{}}var Tt=Math.clz32?Math.clz32:Ku,$u=Math.log,ks=Math.LN2;function Ku(t){return t>>>=0,t===0?32:31-($u(t)/ks|0)|0}var Ai=256,qa=262144,Rt=4194304;function Ri(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ci(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~f,l!==0?d=Ri(l):(_&=S,_!==0?d=Ri(_):s||(s=S&~t,s!==0&&(d=Ri(s))))):(S=l&~f,S!==0?d=Ri(S):_!==0?d=Ri(_):s||(s=l&~t,s!==0&&(d=Ri(s)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,s=r&-r,f>=s||f===32&&(s&4194048)!==0)?r:d}function si(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Yd(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xu(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function Ni(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ha(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qd(t,r,s,l,d,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,M=t.expirationTimes,F=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-Tt(s),ie=1<<Z;S[Z]=0,M[Z]=-1;var Y=F[Z];if(Y!==null)for(F[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}s&=~ie}l!==0&&Fa(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~r))}function Fa(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Tt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function nl(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Tt(s),d=1<<l;d&r|t[l]&r&&(t[l]|=r),s&=~d}}function il(t,r){var s=r&-r;return s=(s&42)!==0?1:Ga(s),(s&(t.suspendedLanes|r))!==0?0:s}function Ga(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ir(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:d_(t.type))}function oi(t,r){var s=ue.p;try{return ue.p=t,r()}finally{ue.p=s}}var li=Math.random().toString(36).slice(2),Ct="__reactFiber$"+li,Gt="__reactProps$"+li,Ii="__reactContainer$"+li,js="__reactEvents$"+li,$d="__reactListeners$"+li,Zu="__reactHandles$"+li,Ju="__reactResources$"+li,Di="__reactMarker$"+li;function Ls(t){delete t[Ct],delete t[Gt],delete t[js],delete t[$d],delete t[Zu]}function Mi(t){var r=t[Ct];if(r)return r;for(var s=t.parentNode;s;){if(r=s[Ii]||s[Ct]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=Xv(t);t!==null;){if(s=t[Ct])return s;t=Xv(t)}return r}t=s,s=t.parentNode}return null}function Hn(t){if(t=t[Ct]||t[Ii]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Nn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Oi(t){var r=t[Ju];return r||(r=t[Ju]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Di]=!0}var rl=new Set,al={};function Vi(t,r){ki(t,r),ki(t+"Capture",r)}function ki(t,r){for(al[t]=r,t=0;t<r.length;t++)rl.add(r[t])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ol={},ll={};function ec(t){return lt.call(ll,t)?!0:lt.call(ol,t)?!1:sl.test(t)?ll[t]=!0:(ol[t]=!0,!1)}function Ps(t,r,s){if(ec(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function In(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function It(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ul(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){s=""+_,f.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Pr(t)?"checked":"value";t._valueTracker=ul(t,r,""+t[r])}}function Ya(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qa=/[\n"\\]/g;function _n(t){return t.replace(Qa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Us(t,r,s,l,d,f,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Yt(r)):t.value!==""+Yt(r)&&(t.value=""+Yt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?cl(t,_,Yt(r)):s!=null?cl(t,_,Yt(s)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Yt(S):t.removeAttribute("name")}function tc(t,r,s,l,d,f,_,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){Ze(t);return}s=s!=null?""+Yt(s):"",r=r!=null?""+Yt(r):s,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ze(t)}function cl(t,r,s){r==="number"&&ji(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ur(t,r,s,l){if(t=t.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<t.length;s++)d=r.hasOwnProperty("$"+t[s].value),t[s].selected!==d&&(t[s].selected=d),d&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Yt(s),r=null,d=0;d<t.length;d++){if(t[d].value===s){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function nc(t,r,s){if(r!=null&&(r=""+Yt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+Yt(s):""}function zr(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Yt(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Ze(t)}function bn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||ic.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function dl(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&s[d]!==l&&hl(t,d,l)}else for(var f in r)r.hasOwnProperty(f)&&hl(t,f,r[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bs(t){return Br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var fl=null;function Fn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qr=null,Li=null;function $a(t){var r=Hn(t);if(r&&(t=r.stateNode)){var s=t[Gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Us(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var d=l[Gt]||null;if(!d)throw Error(a(90));Us(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Ya(l)}break e;case"textarea":nc(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ur(t,!!s.multiple,r,!1)}}}var qs=!1;function Hr(t,r,s){if(qs)return t(r,s);qs=!0;try{var l=t(r);return l}finally{if(qs=!1,(qr!==null||Li!==null)&&(Wc(),qr&&(r=qr,t=Li,Li=qr=null,$a(r),t)))for(r=0;r<t.length;r++)$a(t[r])}}function ci(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Gt]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=!1;if(Gn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ka=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Ka=!1}var Pi=null,ml=null,Xa=null;function pl(){if(Xa)return Xa;var t,r=ml,s=r.length,l,d="value"in Pi?Pi.value:Pi.textContent,f=d.length;for(t=0;t<s&&r[t]===d[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===d[f-l];l++);return Xa=d.slice(t,1<l?1-l:void 0)}function Wa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function rr(){return!0}function hi(){return!1}function en(t){function r(s,l,d,f,_){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rr:hi,this.isPropagationStopped=hi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=en(ar),Fr=T({},ar,{view:0,detail:0}),gl=en(Fr),Gr,Hs,zi,Fs=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zi&&(zi&&t.type==="mousemove"?(Gr=t.screenX-zi.screenX,Hs=t.screenY-zi.screenY):Hs=Gr=0,zi=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:Hs}}),yl=en(Fs),Za=T({},Fs,{dataTransfer:0}),ac=en(Za),sc=T({},Fr,{relatedTarget:0}),Ja=en(sc),vl=T({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=en(vl),Gs=T({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=en(Gs),uc=T({},ar,{data:0}),Bi=en(uc),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=dc[t])?!!r[t]:!1}function Yr(){return fc}var gn=T({},Fr,{key:function(t){if(t.key){var r=cc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mc=en(gn),pc=T({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sr=en(pc),h=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),y=en(h),E=T({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=en(E),z=T({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=en(z),le=T({},ar,{newState:0,oldState:0}),De=en(le),wt=[9,13,27,32],$e=Gn&&"CompositionEvent"in window,dt=null;Gn&&"documentMode"in document&&(dt=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!dt,qi=Gn&&(!$e||dt&&8<dt&&11>=dt),di=" ",fi=!1;function es(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ys(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qs=!1;function Aw(t,r){switch(t){case"compositionend":return Ys(r);case"keypress":return r.which!==32?null:(fi=!0,di);case"textInput":return t=r.data,t===di&&fi?null:t;default:return null}}function Rw(t,r){if(Qs)return t==="compositionend"||!$e&&es(t,r)?(t=pl(),Xa=ml=Pi=null,Qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return qi&&r.locale!=="ko"?null:r.data;default:return null}}var Cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Cw[t.type]:r==="textarea"}function ey(t,r,s,l){qr?Li?Li.push(l):Li=[l]:qr=l,r=rh(r,"onChange"),0<r.length&&(s=new Ui("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var _l=null,bl=null;function Nw(t){jv(t,0)}function gc(t){var r=Nn(t);if(Ya(r))return t}function ty(t,r){if(t==="change")return r}var ny=!1;if(Gn){var Kd;if(Gn){var Xd="oninput"in document;if(!Xd){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Xd=typeof iy.oninput=="function"}Kd=Xd}else Kd=!1;ny=Kd&&(!document.documentMode||9<document.documentMode)}function ry(){_l&&(_l.detachEvent("onpropertychange",ay),bl=_l=null)}function ay(t){if(t.propertyName==="value"&&gc(bl)){var r=[];ey(r,bl,t,Fn(t)),Hr(Nw,r)}}function Iw(t,r,s){t==="focusin"?(ry(),_l=r,bl=s,_l.attachEvent("onpropertychange",ay)):t==="focusout"&&ry()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(bl)}function Mw(t,r){if(t==="click")return gc(r)}function Ow(t,r){if(t==="input"||t==="change")return gc(r)}function Vw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Dn=typeof Object.is=="function"?Object.is:Vw;function El(t,r){if(Dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!lt.call(r,d)||!Dn(t[d],r[d]))return!1}return!0}function sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oy(t,r){var s=sy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sy(s)}}function ly(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ly(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function uy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ji(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)t=r.contentWindow;else break;r=ji(t.document)}return r}function Wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var kw=Gn&&"documentMode"in document&&11>=document.documentMode,$s=null,Zd=null,Tl=null,Jd=!1;function cy(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jd||$s==null||$s!==ji(l)||(l=$s,"selectionStart"in l&&Wd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=rh(Zd,"onSelect"),0<l.length&&(r=new Ui("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=$s)))}function ts(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ks={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},ef={},hy={};Gn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function ns(t){if(ef[t])return ef[t];if(!Ks[t])return t;var r=Ks[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in hy)return ef[t]=r[s];return t}var dy=ns("animationend"),fy=ns("animationiteration"),my=ns("animationstart"),jw=ns("transitionrun"),Lw=ns("transitionstart"),Pw=ns("transitioncancel"),py=ns("transitionend"),gy=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function mi(t,r){gy.set(t,r),Vi(r,[t])}var yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Qn=[],Xs=0,nf=0;function vc(){for(var t=Xs,r=nf=Xs=0;r<t;){var s=Qn[r];Qn[r++]=null;var l=Qn[r];Qn[r++]=null;var d=Qn[r];Qn[r++]=null;var f=Qn[r];if(Qn[r++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&yy(s,d,f)}}function _c(t,r,s,l){Qn[Xs++]=t,Qn[Xs++]=r,Qn[Xs++]=s,Qn[Xs++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,r,s,l){return _c(t,r,s,l),bc(t)}function is(t,r){return _c(t,null,null,r),bc(t)}function yy(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var d=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&r!==null&&(d=31-Tt(s),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[r]:l.push(r),r.lane=s|536870912),f):null}function bc(t){if(50<Fl)throw Fl=0,fm=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ws={};function Uw(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,r,s,l){return new Uw(t,r,s,l)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,r){var s=t.alternate;return s===null?(s=Mn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function vy(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ec(t,r,s,l,d,f){var _=0;if(l=t,typeof t=="function")af(t)&&(_=1);else if(typeof t=="string")_=F2(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Mn(31,s,r,d),t.elementType=I,t.lanes=f,t;case G:return rs(s.children,d,f,r);case B:_=8,d|=24;break;case K:return t=Mn(12,s,r,d|2),t.elementType=K,t.lanes=f,t;case oe:return t=Mn(13,s,r,d),t.elementType=oe,t.lanes=f,t;case fe:return t=Mn(19,s,r,d),t.elementType=fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case q:_=9;break e;case ee:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Mn(_,s,r,d),r.elementType=t,r.type=l,r.lanes=f,r}function rs(t,r,s,l){return t=Mn(7,t,l,r),t.lanes=s,t}function sf(t,r,s){return t=Mn(6,t,null,r),t.lanes=s,t}function _y(t){var r=Mn(18,null,null,0);return r.stateNode=t,r}function of(t,r,s){return r=Mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var by=new WeakMap;function $n(t,r){if(typeof t=="object"&&t!==null){var s=by.get(t);return s!==void 0?s:(r={value:t,source:r,stack:ot(r)},by.set(t,r),r)}return{value:t,source:r,stack:ot(r)}}var Zs=[],Js=0,Tc=null,wl=0,Kn=[],Xn=0,Qr=null,Hi=1,Fi="";function lr(t,r){Zs[Js++]=wl,Zs[Js++]=Tc,Tc=t,wl=r}function Ey(t,r,s){Kn[Xn++]=Hi,Kn[Xn++]=Fi,Kn[Xn++]=Qr,Qr=t;var l=Hi;t=Fi;var d=32-Tt(l)-1;l&=~(1<<d),s+=1;var f=32-Tt(r)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Hi=1<<32-Tt(r)+d|s<<d|l,Fi=f+t}else Hi=1<<f|s<<d|l,Fi=t}function lf(t){t.return!==null&&(lr(t,1),Ey(t,1,0))}function uf(t){for(;t===Tc;)Tc=Zs[--Js],Zs[Js]=null,wl=Zs[--Js],Zs[Js]=null;for(;t===Qr;)Qr=Kn[--Xn],Kn[Xn]=null,Fi=Kn[--Xn],Kn[Xn]=null,Hi=Kn[--Xn],Kn[Xn]=null}function Ty(t,r){Kn[Xn++]=Hi,Kn[Xn++]=Fi,Kn[Xn++]=Qr,Hi=r.id,Fi=r.overflow,Qr=t}var tn=null,ct=null,Be=!1,$r=null,Wn=!1,cf=Error(a(519));function Kr(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl($n(r,t)),cf}function wy(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[Gt]=l,s){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(s=0;s<Yl.length;s++)ke(Yl[s],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),tc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),zr(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||zv(r.textContent,s)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||Kr(t,!0)}function Sy(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function eo(t){if(t!==tn)return!1;if(!Be)return Sy(t),Be=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Cm(t.type,t.memoizedProps)),s=!s),s&&ct&&Kr(t),Sy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=Kv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=Kv(t)}else r===27?(r=ct,ua(t.type)?(t=Om,Om=null,ct=t):ct=r):ct=tn?Jn(t.stateNode.nextSibling):null;return!0}function as(){ct=tn=null,Be=!1}function hf(){var t=$r;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),$r=null),t}function Sl(t){$r===null?$r=[t]:$r.push(t)}var df=k(null),ss=null,ur=null;function Xr(t,r,s){ae(df,r._currentValue),r._currentValue=s}function cr(t){t._currentValue=df.current,W(df)}function ff(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function mf(t,r,s,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=d;for(var M=0;M<r.length;M++)if(S.context===r[M]){f.lanes|=s,S=f.alternate,S!==null&&(S.lanes|=s),ff(f.return,s,t),l||(_=null);break e}f=S.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),ff(_,s,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function to(t,r,s,l){t=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=d.type;Dn(d.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(d===be.current){if(_=d.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Wl):t=[Wl])}d=d.return}t!==null&&mf(r,t,s,l),r.flags|=262144}function wc(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function os(t){ss=t,ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return xy(ss,t)}function Sc(t,r){return ss===null&&os(t),xy(t,r)}function xy(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},ur===null){if(t===null)throw Error(a(308));ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ur=ur.next=r;return s}var zw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},Bw=i.unstable_scheduleCallback,qw=i.unstable_NormalPriority,Dt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new zw,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&Bw(qw,function(){t.controller.abort()})}var Al=null,gf=0,no=0,io=null;function Hw(t,r){if(Al===null){var s=Al=[];gf=0,no=_m(),io={status:"pending",value:void 0,then:function(l){s.push(l)}}}return gf++,r.then(Ay,Ay),r}function Ay(){if(--gf===0&&Al!==null){io!==null&&(io.status="fulfilled");var t=Al;Al=null,no=0,io=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Fw(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var Ry=X.S;X.S=function(t,r){cv=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Hw(t,r),Ry!==null&&Ry(t,r)};var ls=k(null);function yf(){var t=ls.current;return t!==null?t:st.pooledCache}function xc(t,r){r===null?ae(ls,ls.current):ae(ls,r.pool)}function Cy(){var t=yf();return t===null?null:{parent:Dt._currentValue,pool:t}}var ro=Error(a(460)),vf=Error(a(474)),Ac=Error(a(542)),Rc={then:function(){}};function Ny(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iy(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(ui,ui),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,My(t),t;default:if(typeof r.status=="string")r.then(ui,ui);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,My(t),t}throw cs=r,ro}}function us(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(cs=s,ro):s}}var cs=null;function Dy(){if(cs===null)throw Error(a(459));var t=cs;return cs=null,t}function My(t){if(t===ro||t===Ac)throw Error(a(483))}var ao=null,Rl=0;function Cc(t){var r=Rl;return Rl+=1,ao===null&&(ao=[]),Iy(ao,t,r)}function Cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Nc(t,r){throw r.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Oy(t){function r(P,j){if(t){var H=P.deletions;H===null?(P.deletions=[j],P.flags|=16):H.push(j)}}function s(P,j){if(!t)return null;for(;j!==null;)r(P,j),j=j.sibling;return null}function l(P){for(var j=new Map;P!==null;)P.key!==null?j.set(P.key,P):j.set(P.index,P),P=P.sibling;return j}function d(P,j){return P=or(P,j),P.index=0,P.sibling=null,P}function f(P,j,H){return P.index=H,t?(H=P.alternate,H!==null?(H=H.index,H<j?(P.flags|=67108866,j):H):(P.flags|=67108866,j)):(P.flags|=1048576,j)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,j,H,te){return j===null||j.tag!==6?(j=sf(H,P.mode,te),j.return=P,j):(j=d(j,H),j.return=P,j)}function M(P,j,H,te){var ye=H.type;return ye===G?Z(P,j,H.props.children,te,H.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&us(ye)===j.type)?(j=d(j,H.props),Cl(j,H),j.return=P,j):(j=Ec(H.type,H.key,H.props,null,P.mode,te),Cl(j,H),j.return=P,j)}function F(P,j,H,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=of(H,P.mode,te),j.return=P,j):(j=d(j,H.children||[]),j.return=P,j)}function Z(P,j,H,te,ye){return j===null||j.tag!==7?(j=rs(H,P.mode,te,ye),j.return=P,j):(j=d(j,H),j.return=P,j)}function ie(P,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=sf(""+j,P.mode,H),j.return=P,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return H=Ec(j.type,j.key,j.props,null,P.mode,H),Cl(H,j),H.return=P,H;case U:return j=of(j,P.mode,H),j.return=P,j;case A:return j=us(j),ie(P,j,H)}if(gt(j)||L(j))return j=rs(j,P.mode,H,null),j.return=P,j;if(typeof j.then=="function")return ie(P,Cc(j),H);if(j.$$typeof===J)return ie(P,Sc(P,j),H);Nc(P,j)}return null}function Y(P,j,H,te){var ye=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:S(P,j,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return H.key===ye?M(P,j,H,te):null;case U:return H.key===ye?F(P,j,H,te):null;case A:return H=us(H),Y(P,j,H,te)}if(gt(H)||L(H))return ye!==null?null:Z(P,j,H,te,null);if(typeof H.then=="function")return Y(P,j,Cc(H),te);if(H.$$typeof===J)return Y(P,j,Sc(P,H),te);Nc(P,H)}return null}function $(P,j,H,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return P=P.get(H)||null,S(j,P,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return P=P.get(te.key===null?H:te.key)||null,M(j,P,te,ye);case U:return P=P.get(te.key===null?H:te.key)||null,F(j,P,te,ye);case A:return te=us(te),$(P,j,H,te,ye)}if(gt(te)||L(te))return P=P.get(H)||null,Z(j,P,te,ye,null);if(typeof te.then=="function")return $(P,j,H,Cc(te),ye);if(te.$$typeof===J)return $(P,j,H,Sc(j,te),ye);Nc(j,te)}return null}function pe(P,j,H,te){for(var ye=null,Ye=null,ge=j,Oe=j=0,Le=null;ge!==null&&Oe<H.length;Oe++){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Qe=Y(P,ge,H[Oe],te);if(Qe===null){ge===null&&(ge=Le);break}t&&ge&&Qe.alternate===null&&r(P,ge),j=f(Qe,j,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe,ge=Le}if(Oe===H.length)return s(P,ge),Be&&lr(P,Oe),ye;if(ge===null){for(;Oe<H.length;Oe++)ge=ie(P,H[Oe],te),ge!==null&&(j=f(ge,j,Oe),Ye===null?ye=ge:Ye.sibling=ge,Ye=ge);return Be&&lr(P,Oe),ye}for(ge=l(ge);Oe<H.length;Oe++)Le=$(ge,P,Oe,H[Oe],te),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?Oe:Le.key),j=f(Le,j,Oe),Ye===null?ye=Le:Ye.sibling=Le,Ye=Le);return t&&ge.forEach(function(ma){return r(P,ma)}),Be&&lr(P,Oe),ye}function Te(P,j,H,te){if(H==null)throw Error(a(151));for(var ye=null,Ye=null,ge=j,Oe=j=0,Le=null,Qe=H.next();ge!==null&&!Qe.done;Oe++,Qe=H.next()){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var ma=Y(P,ge,Qe.value,te);if(ma===null){ge===null&&(ge=Le);break}t&&ge&&ma.alternate===null&&r(P,ge),j=f(ma,j,Oe),Ye===null?ye=ma:Ye.sibling=ma,Ye=ma,ge=Le}if(Qe.done)return s(P,ge),Be&&lr(P,Oe),ye;if(ge===null){for(;!Qe.done;Oe++,Qe=H.next())Qe=ie(P,Qe.value,te),Qe!==null&&(j=f(Qe,j,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return Be&&lr(P,Oe),ye}for(ge=l(ge);!Qe.done;Oe++,Qe=H.next())Qe=$(ge,P,Oe,Qe.value,te),Qe!==null&&(t&&Qe.alternate!==null&&ge.delete(Qe.key===null?Oe:Qe.key),j=f(Qe,j,Oe),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return t&&ge.forEach(function(tS){return r(P,tS)}),Be&&lr(P,Oe),ye}function at(P,j,H,te){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case N:e:{for(var ye=H.key;j!==null;){if(j.key===ye){if(ye=H.type,ye===G){if(j.tag===7){s(P,j.sibling),te=d(j,H.props.children),te.return=P,P=te;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&us(ye)===j.type){s(P,j.sibling),te=d(j,H.props),Cl(te,H),te.return=P,P=te;break e}s(P,j);break}else r(P,j);j=j.sibling}H.type===G?(te=rs(H.props.children,P.mode,te,H.key),te.return=P,P=te):(te=Ec(H.type,H.key,H.props,null,P.mode,te),Cl(te,H),te.return=P,P=te)}return _(P);case U:e:{for(ye=H.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){s(P,j.sibling),te=d(j,H.children||[]),te.return=P,P=te;break e}else{s(P,j);break}else r(P,j);j=j.sibling}te=of(H,P.mode,te),te.return=P,P=te}return _(P);case A:return H=us(H),at(P,j,H,te)}if(gt(H))return pe(P,j,H,te);if(L(H)){if(ye=L(H),typeof ye!="function")throw Error(a(150));return H=ye.call(H),Te(P,j,H,te)}if(typeof H.then=="function")return at(P,j,Cc(H),te);if(H.$$typeof===J)return at(P,j,Sc(P,H),te);Nc(P,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(s(P,j.sibling),te=d(j,H),te.return=P,P=te):(s(P,j),te=sf(H,P.mode,te),te.return=P,P=te),_(P)):s(P,j)}return function(P,j,H,te){try{Rl=0;var ye=at(P,j,H,te);return ao=null,ye}catch(ge){if(ge===ro||ge===Ac)throw ge;var Ye=Mn(29,ge,null,P.mode);return Ye.lanes=te,Ye.return=P,Ye}}}var hs=Oy(!0),Vy=Oy(!1),Wr=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jr(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=bc(t),yy(t,null,s),r}return _c(t,l,r,s),bc(t)}function Nl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,nl(t,s)}}function Ef(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?d=f=r:f=f.next=r}else d=f=r;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var Tf=!1;function Il(){if(Tf){var t=io;if(t!==null)throw t}}function Dl(t,r,s,l){Tf=!1;var d=t.updateQueue;Wr=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var M=S,F=M.next;M.next=null,_===null?f=F:_.next=F,_=M;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=F:S.next=F,Z.lastBaseUpdate=M))}if(f!==null){var ie=d.baseState;_=0,Z=F=M=null,S=f;do{var Y=S.lane&-536870913,$=Y!==S.lane;if($?(je&Y)===Y:(l&Y)===Y){Y!==0&&Y===no&&(Tf=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var pe=t,Te=S;Y=r;var at=s;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ie=pe.call(at,ie,Y);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,Y=typeof pe=="function"?pe.call(at,ie,Y):pe,Y==null)break e;ie=T({},ie,Y);break e;case 2:Wr=!0}}Y=S.callback,Y!==null&&(t.flags|=64,$&&(t.flags|=8192),$=d.callbacks,$===null?d.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(F=Z=$,M=ie):Z=Z.next=$,_|=Y;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;$=S,S=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);Z===null&&(M=ie),d.baseState=M,d.firstBaseUpdate=F,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),ra|=_,t.lanes=_,t.memoizedState=ie}}function ky(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function jy(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ky(s[t],r)}var so=k(null),Ic=k(0);function Ly(t,r){t=_r,ae(Ic,t),ae(so,r),_r=t|r.baseLanes}function wf(){ae(Ic,_r),ae(so,so.current)}function Sf(){_r=Ic.current,W(so),W(Ic)}var On=k(null),Zn=null;function ea(t){var r=t.alternate;ae(St,St.current&1),ae(On,t),Zn===null&&(r===null||so.current!==null||r.memoizedState!==null)&&(Zn=t)}function xf(t){ae(St,St.current),ae(On,t),Zn===null&&(Zn=t)}function Py(t){t.tag===22?(ae(St,St.current),ae(On,t),Zn===null&&(Zn=t)):ta()}function ta(){ae(St,St.current),ae(On,On.current)}function Vn(t){W(On),Zn===t&&(Zn=null),W(St)}var St=k(0);function Dc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dm(s)||Mm(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hr=0,Me=null,it=null,Mt=null,Mc=!1,oo=!1,ds=!1,Oc=0,Ml=0,lo=null,Gw=0;function vt(){throw Error(a(321))}function Af(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!Dn(t[s],r[s]))return!1;return!0}function Rf(t,r,s,l,d,f){return hr=f,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?E0:qf,ds=!1,f=s(l,d),ds=!1,oo&&(f=zy(r,s,l,d)),Uy(t),f}function Uy(t){X.H=kl;var r=it!==null&&it.next!==null;if(hr=0,Mt=it=Me=null,Mc=!1,Ml=0,lo=null,r)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&wc(t)&&(Ot=!0))}function zy(t,r,s,l){Me=t;var d=0;do{if(oo&&(lo=null),Ml=0,oo=!1,25<=d)throw Error(a(301));if(d+=1,Mt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=T0,f=r(s,l)}while(oo);return f}function Yw(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?Ol(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Me.flags|=1024),r}function Cf(){var t=Oc!==0;return Oc=0,t}function Nf(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function If(t){if(Mc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Mc=!1}hr=0,Mt=it=Me=null,oo=!1,Ml=Oc=0,lo=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function xt(){if(it===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Mt===null?Me.memoizedState:Mt.next;if(r!==null)Mt=r,it=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Mt===null?Me.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var r=Ml;return Ml+=1,lo===null&&(lo=[]),t=Iy(lo,t,r),r=Me,(Mt===null?r.memoizedState:Mt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?E0:qf),t}function kc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===J)return nn(t)}throw Error(a(438,String(t)))}function Df(t){var r=null,s=Me.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Vc(),Me.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=V;return r.index++,s}function dr(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=xt();return Mf(r,it,t)}function Mf(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}r.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{r=d.next;var S=_=null,M=null,F=r,Z=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(je&ie)===ie:(hr&ie)===ie){var Y=F.revertLane;if(Y===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===no&&(Z=!0);else if((hr&Y)===Y){F=F.next,Y===no&&(Z=!0);continue}else ie={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(S=M=ie,_=f):M=M.next=ie,Me.lanes|=Y,ra|=Y;ie=F.action,ds&&s(f,ie),f=F.hasEagerState?F.eagerState:s(f,ie)}else Y={lane:ie,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(S=M=Y,_=f):M=M.next=Y,Me.lanes|=ie,ra|=ie;F=F.next}while(F!==null&&F!==r);if(M===null?_=f:M.next=S,!Dn(f,t.memoizedState)&&(Ot=!0,Z&&(s=io,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=M,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var r=xt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,d=s.pending,f=r.memoizedState;if(d!==null){s.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);Dn(f,r.memoizedState)||(Ot=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),s.lastRenderedState=f}return[f,l]}function By(t,r,s){var l=Me,d=xt(),f=Be;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!Dn((it||d).memoizedState,s);if(_&&(d.memoizedState=s,Ot=!0),d=d.queue,jf(Fy.bind(null,l,d,t),[t]),d.getSnapshot!==r||_||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},Hy.bind(null,l,d,s,r),null),st===null)throw Error(a(349));f||(hr&127)!==0||qy(l,r,s)}return s}function qy(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Me.updateQueue,r===null?(r=Vc(),Me.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function Hy(t,r,s,l){r.value=s,r.getSnapshot=l,Gy(r)&&Yy(t)}function Fy(t,r,s){return s(function(){Gy(r)&&Yy(t)})}function Gy(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Dn(t,s)}catch{return!0}}function Yy(t){var r=is(t,2);r!==null&&xn(r,t,2)}function Vf(t){var r=yn();if(typeof t=="function"){var s=t;if(t=s(),ds){qn(!0);try{s()}finally{qn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:t},r}function Qy(t,r,s,l){return t.baseState=s,Mf(t,it,typeof l=="function"?l:dr)}function Qw(t,r,s,l,d){if(Uc(t))throw Error(a(485));if(t=r.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=r.pending,s===null?(f.next=r.pending=f,$y(r,f)):(f.next=s.next,r.pending=s.next=f)}}function $y(t,r){var s=r.action,l=r.payload,d=t.state;if(r.isTransition){var f=X.T,_={};X.T=_;try{var S=s(d,l),M=X.S;M!==null&&M(_,S),Ky(t,r,S)}catch(F){kf(t,r,F)}finally{f!==null&&_.types!==null&&(f.types=_.types),X.T=f}}else try{f=s(d,l),Ky(t,r,f)}catch(F){kf(t,r,F)}}function Ky(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xy(t,r,l)},function(l){return kf(t,r,l)}):Xy(t,r,s)}function Xy(t,r,s){r.status="fulfilled",r.value=s,Wy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,$y(t,s)))}function kf(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,Wy(r),r=r.next;while(r!==l)}t.action=null}function Wy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Zy(t,r){return r}function Jy(t,r){if(Be){var s=st.formState;if(s!==null){e:{var l=Me;if(Be){if(ct){t:{for(var d=ct,f=Wn;d.nodeType!==8;){if(!f){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ct=Jn(d.nextSibling),l=d.data==="F!";break e}}Kr(l)}l=!1}l&&(r=s[0])}}return s=yn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:r},s.queue=l,s=v0.bind(null,Me,l),l.dispatch=s,l=Vf(!1),f=Bf.bind(null,Me,!1,l.queue),l=yn(),d={state:r,dispatch:null,action:t,pending:null},l.queue=d,s=Qw.bind(null,Me,d,f,s),d.dispatch=s,l.memoizedState=t,[r,s,!1]}function e0(t){var r=xt();return t0(r,it,t)}function t0(t,r,s){if(r=Mf(t,r,Zy)[0],t=jc(dr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ol(r)}catch(_){throw _===ro?Ac:_}else l=r;r=xt();var d=r.queue,f=d.dispatch;return s!==r.memoizedState&&(Me.flags|=2048,uo(9,{destroy:void 0},$w.bind(null,d,s),null)),[l,f,t]}function $w(t,r){t.action=r}function n0(t){var r=xt(),s=it;if(s!==null)return t0(r,s,t);xt(),r=r.memoizedState,s=xt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function uo(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Vc(),Me.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function i0(){return xt().memoizedState}function Lc(t,r,s,l){var d=yn();Me.flags|=t,d.memoizedState=uo(1|r,{destroy:void 0},s,l===void 0?null:l)}function Pc(t,r,s,l){var d=xt();l=l===void 0?null:l;var f=d.memoizedState.inst;it!==null&&l!==null&&Af(l,it.memoizedState.deps)?d.memoizedState=uo(r,f,s,l):(Me.flags|=t,d.memoizedState=uo(1|r,f,s,l))}function r0(t,r){Lc(8390656,8,t,r)}function jf(t,r){Pc(2048,8,t,r)}function Kw(t){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=Vc(),Me.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function a0(t){var r=xt().memoizedState;return Kw({ref:r,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function s0(t,r){return Pc(4,2,t,r)}function o0(t,r){return Pc(4,4,t,r)}function l0(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function u0(t,r,s){s=s!=null?s.concat([t]):null,Pc(4,4,l0.bind(null,r,t),s)}function Lf(){}function c0(t,r){var s=xt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Af(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function h0(t,r){var s=xt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Af(r,l[1]))return l[0];if(l=t(),ds){qn(!0);try{t()}finally{qn(!1)}}return s.memoizedState=[l,r],l}function Pf(t,r,s){return s===void 0||(hr&1073741824)!==0&&(je&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=dv(),Me.lanes|=t,ra|=t,s)}function d0(t,r,s,l){return Dn(s,r)?s:so.current!==null?(t=Pf(t,s,l),Dn(t,r)||(Ot=!0),t):(hr&42)===0||(hr&1073741824)!==0&&(je&261930)===0?(Ot=!0,t.memoizedState=s):(t=dv(),Me.lanes|=t,ra|=t,r)}function f0(t,r,s,l,d){var f=ue.p;ue.p=f!==0&&8>f?f:8;var _=X.T,S={};X.T=S,Bf(t,!1,r,s);try{var M=d(),F=X.S;if(F!==null&&F(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=Fw(M,l);Vl(t,r,Z,Ln(t))}else Vl(t,r,l,Ln(t))}catch(ie){Vl(t,r,{then:function(){},status:"rejected",reason:ie},Ln())}finally{ue.p=f,_!==null&&S.types!==null&&(_.types=S.types),X.T=_}}function Xw(){}function Uf(t,r,s,l){if(t.tag!==5)throw Error(a(476));var d=m0(t).queue;f0(t,d,r,se,s===null?Xw:function(){return p0(t),s(l)})}function m0(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:se},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function p0(t){var r=m0(t);r.next===null&&(r=t.alternate.memoizedState),Vl(t,r.next.queue,{},Ln())}function zf(){return nn(Wl)}function g0(){return xt().memoizedState}function y0(){return xt().memoizedState}function Ww(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Ln();t=Zr(s);var l=Jr(r,t,s);l!==null&&(xn(l,r,s),Nl(l,r,s)),r={cache:pf()},t.payload=r;return}r=r.return}}function Zw(t,r,s){var l=Ln();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Uc(t)?_0(r,s):(s=rf(t,r,s,l),s!==null&&(xn(s,t,l),b0(s,r,l)))}function v0(t,r,s){var l=Ln();Vl(t,r,s,l)}function Vl(t,r,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Uc(t))_0(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var _=r.lastRenderedState,S=f(_,s);if(d.hasEagerState=!0,d.eagerState=S,Dn(S,_))return _c(t,r,d,0),st===null&&vc(),!1}catch{}if(s=rf(t,r,d,l),s!==null)return xn(s,t,l),b0(s,r,l),!0}return!1}function Bf(t,r,s,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Uc(t)){if(r)throw Error(a(479))}else r=rf(t,s,l,2),r!==null&&xn(r,t,2)}function Uc(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function _0(t,r){oo=Mc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function b0(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,nl(t,s)}}var kl={readContext:nn,use:kc,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt,useHostTransitionStatus:vt,useFormState:vt,useActionState:vt,useOptimistic:vt,useMemoCache:vt,useCacheRefresh:vt};kl.useEffectEvent=vt;var E0={readContext:nn,use:kc,useCallback:function(t,r){return yn().memoizedState=[t,r===void 0?null:r],t},useContext:nn,useEffect:r0,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,Lc(4194308,4,l0.bind(null,r,t),s)},useLayoutEffect:function(t,r){return Lc(4194308,4,t,r)},useInsertionEffect:function(t,r){Lc(4,2,t,r)},useMemo:function(t,r){var s=yn();r=r===void 0?null:r;var l=t();if(ds){qn(!0);try{t()}finally{qn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=yn();if(s!==void 0){var d=s(r);if(ds){qn(!0);try{s(r)}finally{qn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Zw.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=yn();return t={current:t},r.memoizedState=t},useState:function(t){t=Vf(t);var r=t.queue,s=v0.bind(null,Me,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(t,r){var s=yn();return Pf(s,t,r)},useTransition:function(){var t=Vf(!1);return t=f0.bind(null,Me,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Me,d=yn();if(Be){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),st===null)throw Error(a(349));(je&127)!==0||qy(l,r,s)}d.memoizedState=s;var f={value:s,getSnapshot:r};return d.queue=f,r0(Fy.bind(null,l,f,t),[t]),l.flags|=2048,uo(9,{destroy:void 0},Hy.bind(null,l,f,s,r),null),s},useId:function(){var t=yn(),r=st.identifierPrefix;if(Be){var s=Fi,l=Hi;s=(l&~(1<<32-Tt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Oc++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=Gw++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:zf,useFormState:Jy,useActionState:Jy,useOptimistic:function(t){var r=yn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Bf.bind(null,Me,!0,s),s.dispatch=r,[t,r]},useMemoCache:Df,useCacheRefresh:function(){return yn().memoizedState=Ww.bind(null,Me)},useEffectEvent:function(t){var r=yn(),s={impl:t};return r.memoizedState=s,function(){if((Ke&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qf={readContext:nn,use:kc,useCallback:c0,useContext:nn,useEffect:jf,useImperativeHandle:u0,useInsertionEffect:s0,useLayoutEffect:o0,useMemo:h0,useReducer:jc,useRef:i0,useState:function(){return jc(dr)},useDebugValue:Lf,useDeferredValue:function(t,r){var s=xt();return d0(s,it.memoizedState,t,r)},useTransition:function(){var t=jc(dr)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:zf,useFormState:e0,useActionState:e0,useOptimistic:function(t,r){var s=xt();return Qy(s,it,t,r)},useMemoCache:Df,useCacheRefresh:y0};qf.useEffectEvent=a0;var T0={readContext:nn,use:kc,useCallback:c0,useContext:nn,useEffect:jf,useImperativeHandle:u0,useInsertionEffect:s0,useLayoutEffect:o0,useMemo:h0,useReducer:Of,useRef:i0,useState:function(){return Of(dr)},useDebugValue:Lf,useDeferredValue:function(t,r){var s=xt();return it===null?Pf(s,t,r):d0(s,it.memoizedState,t,r)},useTransition:function(){var t=Of(dr)[0],r=xt().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:By,useId:g0,useHostTransitionStatus:zf,useFormState:n0,useActionState:n0,useOptimistic:function(t,r){var s=xt();return it!==null?Qy(s,it,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Df,useCacheRefresh:y0};T0.useEffectEvent=a0;function Hf(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:T({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ff={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Ln(),d=Zr(l);d.payload=r,s!=null&&(d.callback=s),r=Jr(t,d,l),r!==null&&(xn(r,t,l),Nl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Ln(),d=Zr(l);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=Jr(t,d,l),r!==null&&(xn(r,t,l),Nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Ln(),l=Zr(s);l.tag=2,r!=null&&(l.callback=r),r=Jr(t,l,s),r!==null&&(xn(r,t,s),Nl(r,t,s))}};function w0(t,r,s,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):r.prototype&&r.prototype.isPureReactComponent?!El(s,l)||!El(d,f):!0}function S0(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Ff.enqueueReplaceState(r,r.state,null)}function fs(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=T({},s));for(var d in t)s[d]===void 0&&(s[d]=t[d])}return s}function x0(t){yc(t)}function A0(t){console.error(t)}function R0(t){yc(t)}function zc(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function C0(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gf(t,r,s){return s=Zr(s),s.tag=3,s.payload={element:null},s.callback=function(){zc(t,r)},s}function N0(t){return t=Zr(t),t.tag=3,t}function I0(t,r,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){C0(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){C0(r,s,l),typeof d!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Jw(t,r,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&to(r,s,d,!0),s=On.current,s!==null){switch(s.tag){case 31:case 13:return Zn===null?Zc():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Rc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),gm(t,l,d)),!1;case 22:return s.flags|=65536,l===Rc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),gm(t,l,d)),!1}throw Error(a(435,s.tag))}return gm(t,l,d),Zc(),!1}if(Be)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==cf&&(t=Error(a(422),{cause:l}),Sl($n(t,s)))):(l!==cf&&(r=Error(a(423),{cause:l}),Sl($n(r,s))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=$n(l,s),d=Gf(t.stateNode,l,d),Ef(t,d),_t!==4&&(_t=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,s),Hl===null?Hl=[f]:Hl.push(f),_t!==4&&(_t=2),r===null)return!0;l=$n(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=d&-d,s.lanes|=t,t=Gf(s.stateNode,l,t),Ef(s,t),!1;case 1:if(r=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(aa===null||!aa.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=N0(d),I0(d,t,s,l),Ef(s,d),!1}s=s.return}while(s!==null);return!1}var Yf=Error(a(461)),Ot=!1;function rn(t,r,s,l){r.child=t===null?Vy(r,null,s,l):hs(r,t.child,s,l)}function D0(t,r,s,l,d){s=s.render;var f=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return os(r),l=Rf(t,r,s,_,f,d),S=Cf(),t!==null&&!Ot?(Nf(t,r,d),fr(t,r,d)):(Be&&S&&lf(r),r.flags|=1,rn(t,r,l,d),r.child)}function M0(t,r,s,l,d){if(t===null){var f=s.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=f,O0(t,r,f,l,d)):(t=Ec(s.type,null,l,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!em(t,d)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:El,s(_,l)&&t.ref===r.ref)return fr(t,r,d)}return r.flags|=1,t=or(f,l),t.ref=r.ref,t.return=r,r.child=t}function O0(t,r,s,l,d){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=f,em(t,d))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,fr(t,r,d)}return Qf(t,r,s,l,d)}function V0(t,r,s,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(l=r.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,r.child=null;return k0(t,r,f,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,f!==null?f.cachePool:null),f!==null?Ly(r,f):wf(),Py(r);else return l=r.lanes=536870912,k0(t,r,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(xc(r,f.cachePool),Ly(r,f),ta(),r.memoizedState=null):(t!==null&&xc(r,null),wf(),ta());return rn(t,r,d,s),r.child}function jl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function k0(t,r,s,l,d){var f=yf();return f=f===null?null:{parent:Dt._currentValue,pool:f},r.memoizedState={baseLanes:s,cachePool:f},t!==null&&xc(r,null),wf(),Py(r),t!==null&&to(t,r,l,!0),r.childLanes=d,null}function Bc(t,r){return r=Hc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function j0(t,r,s){return hs(r,t.child,null,s),t=Bc(r,r.pendingProps),t.flags|=2,Vn(r),r.memoizedState=null,t}function e2(t,r,s){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Bc(r,l),r.lanes=536870912,jl(null,t);if(xf(r),(t=ct)?(t=$v(t,Wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},s=_y(t),s.return=r,r.child=s,tn=r,ct=null)):t=null,t===null)throw Kr(r);return r.lanes=536870912,null}return Bc(r,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(xf(r),d)if(r.flags&256)r.flags&=-257,r=j0(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Ot||to(t,r,s,!1),d=(s&t.childLanes)!==0,Ot||d){if(l=st,l!==null&&(_=il(l,s),_!==0&&_!==f.retryLane))throw f.retryLane=_,is(t,_),xn(l,t,_),Yf;Zc(),r=j0(t,r,s)}else t=f.treeContext,ct=Jn(_.nextSibling),tn=r,Be=!0,$r=null,Wn=!1,t!==null&&Ty(r,t),r=Bc(r,l),r.flags|=4096;return r}return t=or(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function qc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Qf(t,r,s,l,d){return os(r),s=Rf(t,r,s,l,void 0,d),l=Cf(),t!==null&&!Ot?(Nf(t,r,d),fr(t,r,d)):(Be&&l&&lf(r),r.flags|=1,rn(t,r,s,d),r.child)}function L0(t,r,s,l,d,f){return os(r),r.updateQueue=null,s=zy(r,l,s,d),Uy(t),l=Cf(),t!==null&&!Ot?(Nf(t,r,f),fr(t,r,f)):(Be&&l&&lf(r),r.flags|=1,rn(t,r,s,f),r.child)}function P0(t,r,s,l,d){if(os(r),r.stateNode===null){var f=Ws,_=s.contextType;typeof _=="object"&&_!==null&&(f=nn(_)),f=new s(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ff,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},_f(r),_=s.contextType,f.context=typeof _=="object"&&_!==null?nn(_):Ws,f.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Hf(r,s,_,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Ff.enqueueReplaceState(f,f.state,null),Dl(r,l,f,d),Il(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var S=r.memoizedProps,M=fs(s,S);f.props=M;var F=f.context,Z=s.contextType;_=Ws,typeof Z=="object"&&Z!==null&&(_=nn(Z));var ie=s.getDerivedStateFromProps;Z=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(S||F!==_)&&S0(r,f,l,_),Wr=!1;var Y=r.memoizedState;f.state=Y,Dl(r,l,f,d),Il(),F=r.memoizedState,S||Y!==F||Wr?(typeof ie=="function"&&(Hf(r,s,ie,l),F=r.memoizedState),(M=Wr||w0(r,s,M,l,Y,F,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=_,l=M):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,bf(t,r),_=r.memoizedProps,Z=fs(s,_),f.props=Z,ie=r.pendingProps,Y=f.context,F=s.contextType,M=Ws,typeof F=="object"&&F!==null&&(M=nn(F)),S=s.getDerivedStateFromProps,(F=typeof S=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==ie||Y!==M)&&S0(r,f,l,M),Wr=!1,Y=r.memoizedState,f.state=Y,Dl(r,l,f,d),Il();var $=r.memoizedState;_!==ie||Y!==$||Wr||t!==null&&t.dependencies!==null&&wc(t.dependencies)?(typeof S=="function"&&(Hf(r,s,S,l),$=r.memoizedState),(Z=Wr||w0(r,s,Z,l,Y,$,M)||t!==null&&t.dependencies!==null&&wc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,$,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,$,M)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=$),f.props=l,f.state=$,f.context=M,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Y===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,qc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=hs(r,t.child,null,d),r.child=hs(r,null,s,d)):rn(t,r,s,d),r.memoizedState=f.state,t=r.child):t=fr(t,r,d),t}function U0(t,r,s,l){return as(),r.flags|=256,rn(t,r,s,l),r.child}var $f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(t){return{baseLanes:t,cachePool:Cy()}}function Xf(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=jn),t}function z0(t,r,s){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(d=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(d?ea(r):ta(),(t=ct)?(t=$v(t,Wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Qr!==null?{id:Hi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},s=_y(t),s.return=r,r.child=s,tn=r,ct=null)):t=null,t===null)throw Kr(r);return Mm(t)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,d?(ta(),d=r.mode,S=Hc({mode:"hidden",children:S},d),l=rs(l,d,s,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Kf(s),l.childLanes=Xf(t,_,s),r.memoizedState=$f,jl(null,l)):(ea(r),Wf(r,S))}var M=t.memoizedState;if(M!==null&&(S=M.dehydrated,S!==null)){if(f)r.flags&256?(ea(r),r.flags&=-257,r=Zf(t,r,s)):r.memoizedState!==null?(ta(),r.child=t.child,r.flags|=128,r=null):(ta(),S=l.fallback,d=r.mode,l=Hc({mode:"visible",children:l.children},d),S=rs(S,d,s,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,hs(r,t.child,null,s),l=r.child,l.memoizedState=Kf(s),l.childLanes=Xf(t,_,s),r.memoizedState=$f,r=jl(null,l));else if(ea(r),Mm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(a(419)),l.stack="",l.digest=_,Sl({value:l,source:null,stack:null}),r=Zf(t,r,s)}else if(Ot||to(t,r,s,!1),_=(s&t.childLanes)!==0,Ot||_){if(_=st,_!==null&&(l=il(_,s),l!==0&&l!==M.retryLane))throw M.retryLane=l,is(t,l),xn(_,t,l),Yf;Dm(S)||Zc(),r=Zf(t,r,s)}else Dm(S)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,ct=Jn(S.nextSibling),tn=r,Be=!0,$r=null,Wn=!1,t!==null&&Ty(r,t),r=Wf(r,l.children),r.flags|=4096);return r}return d?(ta(),S=l.fallback,d=r.mode,M=t.child,F=M.sibling,l=or(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,F!==null?S=or(F,S):(S=rs(S,d,s,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,jl(null,l),l=r.child,S=t.child.memoizedState,S===null?S=Kf(s):(d=S.cachePool,d!==null?(M=Dt._currentValue,d=d.parent!==M?{parent:M,pool:M}:d):d=Cy(),S={baseLanes:S.baseLanes|s,cachePool:d}),l.memoizedState=S,l.childLanes=Xf(t,_,s),r.memoizedState=$f,jl(t.child,l)):(ea(r),s=t.child,t=s.sibling,s=or(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Wf(t,r){return r=Hc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Hc(t,r){return t=Mn(22,t,null,r),t.lanes=0,t}function Zf(t,r,s){return hs(r,t.child,null,s),t=Wf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function B0(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ff(t.return,r,s)}function Jf(t,r,s,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:f}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=d,_.treeForkCount=f)}function q0(t,r,s){var l=r.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=St.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,ae(St,_),rn(t,r,l,s),l=Be?wl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B0(t,s,r);else if(t.tag===19)B0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(s=r.child,d=null;s!==null;)t=s.alternate,t!==null&&Dc(t)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),Jf(r,!1,d,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&Dc(t)===null){r.child=d;break}t=d.sibling,d.sibling=s,s=d,d=t}Jf(r,!0,s,null,f,l);break;case"together":Jf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function fr(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),ra|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(to(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=or(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=or(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function em(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&wc(t)))}function t2(t,r,s){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),Xr(r,Dt,t.memoizedState.cache),as();break;case 27:case 5:Ut(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:Xr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(r),r.flags|=128,null):(s&r.child.childLanes)!==0?z0(t,r,s):(ea(r),t=fr(t,r,s),t!==null?t.sibling:null);ea(r);break;case 19:var d=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(to(t,r,s,!1),l=(s&r.childLanes)!==0),d){if(l)return q0(t,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ae(St,St.current),l)break;return null;case 22:return r.lanes=0,V0(t,r,s,r.pendingProps);case 24:Xr(r,Dt,t.memoizedState.cache)}return fr(t,r,s)}function H0(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!em(t,s)&&(r.flags&128)===0)return Ot=!1,t2(t,r,s);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(r.flags&1048576)!==0&&Ey(r,wl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=us(r.elementType),r.type=t,typeof t=="function")af(t)?(l=fs(t,l),r.tag=1,r=P0(null,r,t,l,s)):(r.tag=0,r=Qf(null,r,t,l,s));else{if(t!=null){var d=t.$$typeof;if(d===ee){r.tag=11,r=D0(null,r,t,l,s);break e}else if(d===C){r.tag=14,r=M0(null,r,t,l,s);break e}}throw r=Ie(t)||t,Error(a(306,r,""))}}return r;case 0:return Qf(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,d=fs(l,r.pendingProps),P0(t,r,l,d,s);case 3:e:{if(We(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,bf(t,r),Dl(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Xr(r,Dt,l),l!==f.cache&&mf(r,[Dt],s,!0),Il(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=U0(t,r,l,s);break e}else if(l!==d){d=$n(Error(a(424)),r),Sl(d),r=U0(t,r,l,s);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Jn(t.firstChild),tn=r,Be=!0,$r=null,Wn=!0,s=Vy(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(as(),l===d){r=fr(t,r,s);break e}rn(t,r,l,s)}r=r.child}return r;case 26:return qc(t,r),t===null?(s=e_(r.type,null,r.pendingProps,null))?r.memoizedState=s:Be||(s=r.type,t=r.pendingProps,l=ah(ce.current).createElement(s),l[Ct]=r,l[Gt]=t,an(l,s,t),Nt(l),r.stateNode=l):r.memoizedState=e_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Ut(r),t===null&&Be&&(l=r.stateNode=Wv(r.type,r.pendingProps,ce.current),tn=r,Wn=!0,d=ct,ua(r.type)?(Om=d,ct=Jn(l.firstChild)):ct=d),rn(t,r,r.pendingProps.children,s),qc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((d=l=ct)&&(l=D2(l,r.type,r.pendingProps,Wn),l!==null?(r.stateNode=l,tn=r,ct=Jn(l.firstChild),Wn=!1,d=!0):d=!1),d||Kr(r)),Ut(r),d=r.type,f=r.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,Cm(d,f)?l=null:_!==null&&Cm(d,_)&&(r.flags|=32),r.memoizedState!==null&&(d=Rf(t,r,Yw,null,null,s),Wl._currentValue=d),qc(t,r),rn(t,r,l,s),r.child;case 6:return t===null&&Be&&((t=s=ct)&&(s=M2(s,r.pendingProps,Wn),s!==null?(r.stateNode=s,tn=r,ct=null,t=!0):t=!1),t||Kr(r)),null;case 13:return z0(t,r,s);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=hs(r,null,l,s):rn(t,r,l,s),r.child;case 11:return D0(t,r,r.type,r.pendingProps,s);case 7:return rn(t,r,r.pendingProps,s),r.child;case 8:return rn(t,r,r.pendingProps.children,s),r.child;case 12:return rn(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Xr(r,r.type,l.value),rn(t,r,l.children,s),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,os(r),d=nn(d),l=l(d),r.flags|=1,rn(t,r,l,s),r.child;case 14:return M0(t,r,r.type,r.pendingProps,s);case 15:return O0(t,r,r.type,r.pendingProps,s);case 19:return q0(t,r,s);case 31:return e2(t,r,s);case 22:return V0(t,r,s,r.pendingProps);case 24:return os(r),l=nn(Dt),t===null?(d=yf(),d===null&&(d=st,f=pf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),r.memoizedState={parent:l,cache:d},_f(r),Xr(r,Dt,d)):((t.lanes&s)!==0&&(bf(t,r),Dl(r,null,null,s),Il()),d=t.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Xr(r,Dt,l)):(l=f.cache,Xr(r,Dt,l),l!==d.cache&&mf(r,[Dt],s,!0))),rn(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function mr(t){t.flags|=4}function tm(t,r,s,l,d){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(gv())t.flags|=8192;else throw cs=Rc,vf}else t.flags&=-16777217}function F0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!a_(r))if(gv())t.flags|=8192;else throw cs=Rc,vf}function Fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Xu():536870912,t.lanes|=r,mo|=r)}function Ll(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function n2(t,r,s){var l=r.pendingProps;switch(uf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),cr(Dt),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(eo(r)?mr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,hf())),ht(r),null;case 26:var d=r.type,f=r.memoizedState;return t===null?(mr(r),f!==null?(ht(r),F0(r,f)):(ht(r),tm(r,d,null,l,s))):f?f!==t.memoizedState?(mr(r),ht(r),F0(r,f)):(ht(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&mr(r),ht(r),tm(r,d,t,l,s)),null;case 27:if(Bn(r),s=ce.current,d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ht(r),null}t=he.current,eo(r)?wy(r):(t=Wv(d,l,s),r.stateNode=t,mr(r))}return ht(r),null;case 5:if(Bn(r),d=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ht(r),null}if(f=he.current,eo(r))wy(r);else{var _=ah(ce.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[Ct]=r,f[Gt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=f;e:switch(an(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&mr(r)}}return ht(r),tm(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=ce.current,eo(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,d=tn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||zv(t.nodeValue,s)),t||Kr(r,!0)}else t=ah(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return ht(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=eo(r),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=r}else as(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),t=!1}else s=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=eo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Ct]=r}else as(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=hf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Fc(r,r.updateQueue),ht(r),null);case 4:return Ge(),t===null&&wm(r.stateNode.containerInfo),ht(r),null;case 10:return cr(r.type),ht(r),null;case 19:if(W(St),l=r.memoizedState,l===null)return ht(r),null;if(d=(r.flags&128)!==0,f=l.rendering,f===null)if(d)Ll(l,!1);else{if(_t!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Dc(t),f!==null){for(r.flags|=128,Ll(l,!1),t=f.updateQueue,r.updateQueue=t,Fc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)vy(s,t),s=s.sibling;return ae(St,St.current&1|2),Be&&lr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&pn()>Kc&&(r.flags|=128,d=!0,Ll(l,!1),r.lanes=4194304)}else{if(!d)if(t=Dc(f),t!==null){if(r.flags|=128,d=!0,t=t.updateQueue,r.updateQueue=t,Fc(r,t),Ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Be)return ht(r),null}else 2*pn()-l.renderingStartTime>Kc&&s!==536870912&&(r.flags|=128,d=!0,Ll(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pn(),t.sibling=null,s=St.current,ae(St,d?s&1|2:s&1),Be&&lr(r,l.treeForkCount),t):(ht(r),null);case 22:case 23:return Vn(r),Sf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),s=r.updateQueue,s!==null&&Fc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&W(ls),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),cr(Dt),ht(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function i2(t,r){switch(uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return cr(Dt),Ge(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Bn(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(a(340));as()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Vn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));as()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return W(St),null;case 4:return Ge(),null;case 10:return cr(r.type),null;case 22:case 23:return Vn(r),Sf(),t!==null&&W(ls),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return cr(Dt),null;case 25:return null;default:return null}}function G0(t,r){switch(uf(r),r.tag){case 3:cr(Dt),Ge();break;case 26:case 27:case 5:Bn(r);break;case 4:Ge();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:W(St);break;case 10:cr(r.type);break;case 22:case 23:Vn(r),Sf(),t!==null&&W(ls);break;case 24:cr(Dt)}}function Pl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&t)===t){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==d)}}catch(S){et(r,r.return,S)}}function na(t,r,s){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,d=r;var M=s,F=S;try{F()}catch(Z){et(d,M,Z)}}}l=l.next}while(l!==f)}}catch(Z){et(r,r.return,Z)}}function Y0(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{jy(r,s)}catch(l){et(t,t.return,l)}}}function Q0(t,r,s){s.props=fs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){et(t,r,l)}}function Ul(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(d){et(t,r,d)}}function Gi(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){et(t,r,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){et(t,r,d)}else s.current=null}function $0(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){et(t,t.return,d)}}function nm(t,r,s){try{var l=t.stateNode;x2(l,t.type,s,r),l[Gt]=r}catch(d){et(t,t.return,d)}}function K0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ua(t.type)||t.tag===4}function im(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ua(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rm(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=ui));else if(l!==4&&(l===27&&ua(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(rm(t,r,s),t=t.sibling;t!==null;)rm(t,r,s),t=t.sibling}function Gc(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&ua(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Gc(t,r,s),t=t.sibling;t!==null;)Gc(t,r,s),t=t.sibling}function X0(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);an(r,l,s),r[Ct]=t,r[Gt]=s}catch(f){et(t,t.return,f)}}var pr=!1,Vt=!1,am=!1,W0=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function r2(t,r){if(t=t.containerInfo,Am=dh,t=uy(t),Wd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,S=-1,M=-1,F=0,Z=0,ie=t,Y=null;t:for(;;){for(var $;ie!==s||d!==0&&ie.nodeType!==3||(S=_+d),ie!==f||l!==0&&ie.nodeType!==3||(M=_+l),ie.nodeType===3&&(_+=ie.nodeValue.length),($=ie.firstChild)!==null;)Y=ie,ie=$;for(;;){if(ie===t)break t;if(Y===s&&++F===d&&(S=_),Y===f&&++Z===l&&(M=_),($=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=$}s=S===-1||M===-1?null:{start:S,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rm={focusedElem:t,selectionRange:s},dh=!1,Qt=r;Qt!==null;)if(r=Qt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Qt=t;else for(;Qt!==null;){switch(r=Qt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)d=t[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=r,d=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var pe=fs(s.type,d);t=l.getSnapshotBeforeUpdate(pe,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){et(s,s.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)Im(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Im(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Qt=t;break}Qt=r.return}}function Z0(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:yr(t,s),l&4&&Pl(5,s);break;case 1:if(yr(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){et(s,s.return,_)}else{var d=fs(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(d,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){et(s,s.return,_)}}l&64&&Y0(s),l&512&&Ul(s,s.return);break;case 3:if(yr(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{jy(t,r)}catch(_){et(s,s.return,_)}}break;case 27:r===null&&l&4&&X0(s);case 26:case 5:yr(t,s),r===null&&l&4&&$0(s),l&512&&Ul(s,s.return);break;case 12:yr(t,s);break;case 31:yr(t,s),l&4&&tv(t,s);break;case 13:yr(t,s),l&4&&nv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=f2.bind(null,s),O2(t,s))));break;case 22:if(l=s.memoizedState!==null||pr,!l){r=r!==null&&r.memoizedState!==null||Vt,d=pr;var f=Vt;pr=l,(Vt=r)&&!f?vr(t,s,(s.subtreeFlags&8772)!==0):yr(t,s),pr=d,Vt=f}break;case 30:break;default:yr(t,s)}}function J0(t){var r=t.alternate;r!==null&&(t.alternate=null,J0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Ls(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,En=!1;function gr(t,r,s){for(s=s.child;s!==null;)ev(t,r,s),s=s.sibling}function ev(t,r,s){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ai,s)}catch{}switch(s.tag){case 26:Vt||Gi(s,r),gr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||Gi(s,r);var l=ft,d=En;ua(s.type)&&(ft=s.stateNode,En=!1),gr(t,r,s),$l(s.stateNode),ft=l,En=d;break;case 5:Vt||Gi(s,r);case 6:if(l=ft,d=En,ft=null,gr(t,r,s),ft=l,En=d,ft!==null)if(En)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(s.stateNode)}catch(f){et(s,r,f)}else try{ft.removeChild(s.stateNode)}catch(f){et(s,r,f)}break;case 18:ft!==null&&(En?(t=ft,Yv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),To(t)):Yv(ft,s.stateNode));break;case 4:l=ft,d=En,ft=s.stateNode.containerInfo,En=!0,gr(t,r,s),ft=l,En=d;break;case 0:case 11:case 14:case 15:na(2,s,r),Vt||na(4,s,r),gr(t,r,s);break;case 1:Vt||(Gi(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Q0(s,r,l)),gr(t,r,s);break;case 21:gr(t,r,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,gr(t,r,s),Vt=l;break;default:gr(t,r,s)}}function tv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{To(t)}catch(s){et(r,r.return,s)}}}function nv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{To(t)}catch(s){et(r,r.return,s)}}function a2(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new W0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new W0),r;default:throw Error(a(435,t.tag))}}function Yc(t,r){var s=a2(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var d=m2.bind(null,t,l);l.then(d,d)}})}function Tn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],f=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ua(S.type)){ft=S.stateNode,En=!1;break e}break;case 5:ft=S.stateNode,En=!1;break e;case 3:case 4:ft=S.stateNode.containerInfo,En=!0;break e}S=S.return}if(ft===null)throw Error(a(160));ev(f,_,d),ft=null,En=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)iv(r,t),r=r.sibling}var pi=null;function iv(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),wn(t),l&4&&(na(3,t,t.return),Pl(3,t),na(5,t,t.return));break;case 1:Tn(r,t),wn(t),l&512&&(Vt||s===null||Gi(s,s.return)),l&64&&pr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=pi;if(Tn(r,t),wn(t),l&512&&(Vt||s===null||Gi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Di]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),an(f,l,s),f[Ct]=t,Nt(f),l=f;break e;case"link":var _=i_("link","href",d).get(l+(s.href||""));if(_){for(var S=0;S<_.length;S++)if(f=_[S],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(S,1);break t}}f=d.createElement(l),an(f,l,s),d.head.appendChild(f);break;case"meta":if(_=i_("meta","content",d).get(l+(s.content||""))){for(S=0;S<_.length;S++)if(f=_[S],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(S,1);break t}}f=d.createElement(l),an(f,l,s),d.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ct]=t,Nt(f),l=f}t.stateNode=l}else r_(d,t.type,t.stateNode);else t.stateNode=n_(d,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?r_(d,t.type,t.stateNode):n_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nm(t,t.memoizedProps,s.memoizedProps)}break;case 27:Tn(r,t),wn(t),l&512&&(Vt||s===null||Gi(s,s.return)),s!==null&&l&4&&nm(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Tn(r,t),wn(t),l&512&&(Vt||s===null||Gi(s,s.return)),t.flags&32){d=t.stateNode;try{bn(d,"")}catch(pe){et(t,t.return,pe)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,nm(t,d,s!==null?s.memoizedProps:d)),l&1024&&(am=!0);break;case 6:if(Tn(r,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(pe){et(t,t.return,pe)}}break;case 3:if(lh=null,d=pi,pi=sh(r.containerInfo),Tn(r,t),pi=d,wn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{To(r.containerInfo)}catch(pe){et(t,t.return,pe)}am&&(am=!1,rv(t));break;case 4:l=pi,pi=sh(t.stateNode.containerInfo),Tn(r,t),wn(t),pi=l;break;case 12:Tn(r,t),wn(t);break;case 31:Tn(r,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yc(t,l)));break;case 13:Tn(r,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($c=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yc(t,l)));break;case 22:d=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,F=pr,Z=Vt;if(pr=F||d,Vt=Z||M,Tn(r,t),Vt=Z,pr=F,wn(t),l&8192)e:for(r=t.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||M||pr||Vt||ms(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){M=s=r;try{if(f=M.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=M.stateNode;var ie=M.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(pe){et(M,M.return,pe)}}}else if(r.tag===6){if(s===null){M=r;try{M.stateNode.nodeValue=d?"":M.memoizedProps}catch(pe){et(M,M.return,pe)}}}else if(r.tag===18){if(s===null){M=r;try{var $=M.stateNode;d?Qv($,!0):Qv(M.stateNode,!1)}catch(pe){et(M,M.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yc(t,s))));break;case 19:Tn(r,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Yc(t,l)));break;case 30:break;case 21:break;default:Tn(r,t),wn(t)}}function wn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(K0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,f=im(t);Gc(t,f,d);break;case 5:var _=s.stateNode;s.flags&32&&(bn(_,""),s.flags&=-33);var S=im(t);Gc(t,S,_);break;case 3:case 4:var M=s.stateNode.containerInfo,F=im(t);rm(t,F,M);break;default:throw Error(a(161))}}catch(Z){et(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function rv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;rv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function yr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Z0(t,r.alternate,r),r=r.sibling}function ms(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:na(4,r,r.return),ms(r);break;case 1:Gi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&Q0(r,r.return,s),ms(r);break;case 27:$l(r.stateNode);case 26:case 5:Gi(r,r.return),ms(r);break;case 22:r.memoizedState===null&&ms(r);break;case 30:ms(r);break;default:ms(r)}t=t.sibling}}function vr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=t,f=r,_=f.flags;switch(f.tag){case 0:case 11:case 15:vr(d,f,s),Pl(4,f);break;case 1:if(vr(d,f,s),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){et(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var S=l.stateNode;try{var M=d.shared.hiddenCallbacks;if(M!==null)for(d.shared.hiddenCallbacks=null,d=0;d<M.length;d++)ky(M[d],S)}catch(F){et(l,l.return,F)}}s&&_&64&&Y0(f),Ul(f,f.return);break;case 27:X0(f);case 26:case 5:vr(d,f,s),s&&l===null&&_&4&&$0(f),Ul(f,f.return);break;case 12:vr(d,f,s);break;case 31:vr(d,f,s),s&&_&4&&tv(d,f);break;case 13:vr(d,f,s),s&&_&4&&nv(d,f);break;case 22:f.memoizedState===null&&vr(d,f,s),Ul(f,f.return);break;case 30:break;default:vr(d,f,s)}r=r.sibling}}function sm(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&xl(s))}function om(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&xl(t))}function gi(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(t,r,s,l),r=r.sibling}function av(t,r,s,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:gi(t,r,s,l),d&2048&&Pl(9,r);break;case 1:gi(t,r,s,l);break;case 3:gi(t,r,s,l),d&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&xl(t)));break;case 12:if(d&2048){gi(t,r,s,l),t=r.stateNode;try{var f=r.memoizedProps,_=f.id,S=f.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){et(r,r.return,M)}}else gi(t,r,s,l);break;case 31:gi(t,r,s,l);break;case 13:gi(t,r,s,l);break;case 23:break;case 22:f=r.stateNode,_=r.alternate,r.memoizedState!==null?f._visibility&2?gi(t,r,s,l):zl(t,r):f._visibility&2?gi(t,r,s,l):(f._visibility|=2,co(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&sm(_,r);break;case 24:gi(t,r,s,l),d&2048&&om(r.alternate,r);break;default:gi(t,r,s,l)}}function co(t,r,s,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,_=r,S=s,M=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:co(f,_,S,M,d),Pl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?co(f,_,S,M,d):zl(f,_):(Z._visibility|=2,co(f,_,S,M,d)),d&&F&2048&&sm(_.alternate,_);break;case 24:co(f,_,S,M,d),d&&F&2048&&om(_.alternate,_);break;default:co(f,_,S,M,d)}r=r.sibling}}function zl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,d=l.flags;switch(l.tag){case 22:zl(s,l),d&2048&&sm(l.alternate,l);break;case 24:zl(s,l),d&2048&&om(l.alternate,l);break;default:zl(s,l)}r=r.sibling}}var Bl=8192;function ho(t,r,s){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)sv(t,r,s),t=t.sibling}function sv(t,r,s){switch(t.tag){case 26:ho(t,r,s),t.flags&Bl&&t.memoizedState!==null&&G2(s,pi,t.memoizedState,t.memoizedProps);break;case 5:ho(t,r,s);break;case 3:case 4:var l=pi;pi=sh(t.stateNode.containerInfo),ho(t,r,s),pi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Bl,Bl=16777216,ho(t,r,s),Bl=l):ho(t,r,s));break;default:ho(t,r,s)}}function ov(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function ql(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Qt=l,uv(l,t)}ov(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)lv(t),t=t.sibling}function lv(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&na(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Qc(t)):ql(t);break;default:ql(t)}}function Qc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Qt=l,uv(l,t)}ov(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:na(8,r,r.return),Qc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Qc(r));break;default:Qc(r)}t=t.sibling}}function uv(t,r){for(;Qt!==null;){var s=Qt;switch(s.tag){case 0:case 11:case 15:na(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Qt=l;else e:for(s=t;Qt!==null;){l=Qt;var d=l.sibling,f=l.return;if(J0(l),l===s){Qt=null;break e}if(d!==null){d.return=f,Qt=d;break e}Qt=f}}}var s2={getCacheForType:function(t){var r=nn(Dt),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return nn(Dt).controller.signal}},o2=typeof WeakMap=="function"?WeakMap:Map,Ke=0,st=null,Ve=null,je=0,Je=0,kn=null,ia=!1,fo=!1,lm=!1,_r=0,_t=0,ra=0,ps=0,um=0,jn=0,mo=0,Hl=null,Sn=null,cm=!1,$c=0,cv=0,Kc=1/0,Xc=null,aa=null,Bt=0,sa=null,po=null,br=0,hm=0,dm=null,hv=null,Fl=0,fm=null;function Ln(){return(Ke&2)!==0&&je!==0?je&-je:X.T!==null?_m():Wu()}function dv(){if(jn===0)if((je&536870912)===0||Be){var t=qa;qa<<=1,(qa&3932160)===0&&(qa=262144),jn=t}else jn=536870912;return t=On.current,t!==null&&(t.flags|=32),jn}function xn(t,r,s){(t===st&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(go(t,0),oa(t,je,jn,!1)),Ha(t,s),((Ke&2)===0||t!==st)&&(t===st&&((Ke&2)===0&&(ps|=s),_t===4&&oa(t,je,jn,!1)),Yi(t))}function fv(t,r,s){if((Ke&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||si(t,r),d=l?c2(t,r):pm(t,r,!0),f=l;do{if(d===0){fo&&!l&&oa(t,r,0,!1);break}else{if(s=t.current.alternate,f&&!l2(s)){d=pm(t,r,!1),f=!1;continue}if(d===2){if(f=r,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;d=Hl;var M=S.current.memoizedState.isDehydrated;if(M&&(go(S,_).flags|=256),_=pm(S,_,!1),_!==2){if(lm&&!M){S.errorRecoveryDisabledLanes|=f,ps|=f,d=4;break e}f=Sn,Sn=d,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){go(t,0),oa(t,r,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:oa(l,r,jn,!ia);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=$c+300-pn(),10<d)){if(oa(l,r,jn,!ia),Ci(l,0,!0)!==0)break e;br=r,l.timeoutHandle=Fv(mv.bind(null,l,s,Sn,Xc,cm,r,jn,ps,mo,ia,f,"Throttled",-0,0),d);break e}mv(l,s,Sn,Xc,cm,r,jn,ps,mo,ia,f,null,-0,0)}}break}while(!0);Yi(t)}function mv(t,r,s,l,d,f,_,S,M,F,Z,ie,Y,$){if(t.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},sv(r,f,ie);var pe=(f&62914560)===f?$c-pn():(f&4194048)===f?cv-pn():0;if(pe=Y2(ie,pe),pe!==null){br=f,t.cancelPendingCommit=pe(Tv.bind(null,t,r,f,s,l,d,_,S,M,Z,ie,null,Y,$)),oa(t,f,_,!F);return}}Tv(t,r,f,s,l,d,_,S,M)}function l2(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],f=d.getSnapshot;d=d.value;try{if(!Dn(f(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oa(t,r,s,l){r&=~um,r&=~ps,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var d=r;0<d;){var f=31-Tt(d),_=1<<f;l[f]=-1,d&=~_}s!==0&&Fa(t,s,r)}function Wc(){return(Ke&6)===0?(Gl(0),!1):!0}function mm(){if(Ve!==null){if(Je===0)var t=Ve.return;else t=Ve,ur=ss=null,If(t),ao=null,Rl=0,t=Ve;for(;t!==null;)G0(t.alternate,t),t=t.return;Ve=null}}function go(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,C2(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),br=0,mm(),st=t,Ve=s=or(t.current,null),je=r,Je=0,kn=null,ia=!1,fo=si(t,r),lm=!1,mo=jn=um=ps=ra=_t=0,Sn=Hl=null,cm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var d=31-Tt(l),f=1<<d;r|=t[d],l&=~f}return _r=r,vc(),s}function pv(t,r){Me=null,X.H=kl,r===ro||r===Ac?(r=Dy(),Je=3):r===vf?(r=Dy(),Je=4):Je=r===Yf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,Ve===null&&(_t=1,zc(t,$n(r,t.current)))}function gv(){var t=On.current;return t===null?!0:(je&4194048)===je?Zn===null:(je&62914560)===je||(je&536870912)!==0?t===Zn:!1}function yv(){var t=X.H;return X.H=kl,t===null?kl:t}function vv(){var t=X.A;return X.A=s2,t}function Zc(){_t=4,ia||(je&4194048)!==je&&On.current!==null||(fo=!0),(ra&134217727)===0&&(ps&134217727)===0||st===null||oa(st,je,jn,!1)}function pm(t,r,s){var l=Ke;Ke|=2;var d=yv(),f=vv();(st!==t||je!==r)&&(Xc=null,go(t,r)),r=!1;var _=_t;e:do try{if(Je!==0&&Ve!==null){var S=Ve,M=kn;switch(Je){case 8:mm(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var F=Je;if(Je=0,kn=null,yo(t,S,M,F),s&&fo){_=0;break e}break;default:F=Je,Je=0,kn=null,yo(t,S,M,F)}}u2(),_=_t;break}catch(Z){pv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,ur=ss=null,Ke=l,X.H=d,X.A=f,Ve===null&&(st=null,je=0,vc()),_}function u2(){for(;Ve!==null;)_v(Ve)}function c2(t,r){var s=Ke;Ke|=2;var l=yv(),d=vv();st!==t||je!==r?(Xc=null,Kc=pn()+500,go(t,r)):fo=si(t,r);e:do try{if(Je!==0&&Ve!==null){r=Ve;var f=kn;t:switch(Je){case 1:Je=0,kn=null,yo(t,r,f,1);break;case 2:case 9:if(Ny(f)){Je=0,kn=null,bv(r);break}r=function(){Je!==2&&Je!==9||st!==t||(Je=7),Yi(t)},f.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Ny(f)?(Je=0,kn=null,bv(r)):(Je=0,kn=null,yo(t,r,f,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var S=Ve;if(_?a_(_):S.stateNode.complete){Je=0,kn=null;var M=S.sibling;if(M!==null)Ve=M;else{var F=S.return;F!==null?(Ve=F,Jc(F)):Ve=null}break t}}Je=0,kn=null,yo(t,r,f,5);break;case 6:Je=0,kn=null,yo(t,r,f,6);break;case 8:mm(),_t=6;break e;default:throw Error(a(462))}}h2();break}catch(Z){pv(t,Z)}while(!0);return ur=ss=null,X.H=l,X.A=d,Ke=s,Ve!==null?0:(st=null,je=0,vc(),_t)}function h2(){for(;Ve!==null&&!Fd();)_v(Ve)}function _v(t){var r=H0(t.alternate,t,_r);t.memoizedProps=t.pendingProps,r===null?Jc(t):Ve=r}function bv(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=L0(s,r,r.pendingProps,r.type,void 0,je);break;case 11:r=L0(s,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:If(r);default:G0(s,r),r=Ve=vy(r,_r),r=H0(s,r,_r)}t.memoizedProps=t.pendingProps,r===null?Jc(t):Ve=r}function yo(t,r,s,l){ur=ss=null,If(r),ao=null,Rl=0;var d=r.return;try{if(Jw(t,d,r,s,je)){_t=1,zc(t,$n(s,t.current)),Ve=null;return}}catch(f){if(d!==null)throw Ve=d,f;_t=1,zc(t,$n(s,t.current)),Ve=null;return}r.flags&32768?(Be||l===1?t=!0:fo||(je&536870912)!==0?t=!1:(ia=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ev(r,t)):Jc(r)}function Jc(t){var r=t;do{if((r.flags&32768)!==0){Ev(r,ia);return}t=r.return;var s=n2(r.alternate,r,_r);if(s!==null){Ve=s;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);_t===0&&(_t=5)}function Ev(t,r){do{var s=i2(t.alternate,t);if(s!==null){s.flags&=32767,Ve=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=s}while(t!==null);_t=6,Ve=null}function Tv(t,r,s,l,d,f,_,S,M){t.cancelPendingCommit=null;do eh();while(Bt!==0);if((Ke&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(f=r.lanes|r.childLanes,f|=nf,Qd(t,s,f,_,S,M),t===st&&(Ve=st=null,je=0),po=r,sa=t,br=s,hm=f,dm=d,hv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,p2(Lr,function(){return Rv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,d=ue.p,ue.p=2,_=Ke,Ke|=4;try{r2(t,r,s)}finally{Ke=_,ue.p=d,X.T=l}}Bt=1,wv(),Sv(),xv()}}function wv(){if(Bt===1){Bt=0;var t=sa,r=po,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var d=Ke;Ke|=4;try{iv(r,t);var f=Rm,_=uy(t.containerInfo),S=f.focusedElem,M=f.selectionRange;if(_!==S&&S&&S.ownerDocument&&ly(S.ownerDocument.documentElement,S)){if(M!==null&&Wd(S)){var F=M.start,Z=M.end;if(Z===void 0&&(Z=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(Z,S.value.length);else{var ie=S.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),pe=S.textContent.length,Te=Math.min(M.start,pe),at=M.end===void 0?Te:Math.min(M.end,pe);!$.extend&&Te>at&&(_=at,at=Te,Te=_);var P=oy(S,Te),j=oy(S,at);if(P&&j&&($.rangeCount!==1||$.anchorNode!==P.node||$.anchorOffset!==P.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var H=ie.createRange();H.setStart(P.node,P.offset),$.removeAllRanges(),Te>at?($.addRange(H),$.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),$.addRange(H))}}}}for(ie=[],$=S;$=$.parentNode;)$.nodeType===1&&ie.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ie.length;S++){var te=ie[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}dh=!!Am,Rm=Am=null}finally{Ke=d,ue.p=l,X.T=s}}t.current=r,Bt=2}}function Sv(){if(Bt===2){Bt=0;var t=sa,r=po,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=ue.p;ue.p=2;var d=Ke;Ke|=4;try{Z0(t,r.alternate,r)}finally{Ke=d,ue.p=l,X.T=s}}Bt=3}}function xv(){if(Bt===4||Bt===3){Bt=0,Fu();var t=sa,r=po,s=br,l=hv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,po=sa=null,Av(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(aa=null),ir(s),r=r.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,d=ue.p,ue.p=2,X.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];f(S.value,{componentStack:S.stack})}}finally{X.T=r,ue.p=d}}(br&3)!==0&&eh(),Yi(t),d=t.pendingLanes,(s&261930)!==0&&(d&42)!==0?t===fm?Fl++:(Fl=0,fm=t):Fl=0,Gl(0)}}function Av(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,xl(r)))}function eh(){return wv(),Sv(),xv(),Rv()}function Rv(){if(Bt!==5)return!1;var t=sa,r=hm;hm=0;var s=ir(br),l=X.T,d=ue.p;try{ue.p=32>s?32:s,X.T=null,s=dm,dm=null;var f=sa,_=br;if(Bt=0,po=sa=null,br=0,(Ke&6)!==0)throw Error(a(331));var S=Ke;if(Ke|=4,lv(f.current),av(f,f.current,_,s),Ke=S,Gl(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ai,f)}catch{}return!0}finally{ue.p=d,X.T=l,Av(t,r)}}function Cv(t,r,s){r=$n(s,r),r=Gf(t.stateNode,r,2),t=Jr(t,r,2),t!==null&&(Ha(t,2),Yi(t))}function et(t,r,s){if(t.tag===3)Cv(t,t,s);else for(;r!==null;){if(r.tag===3){Cv(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(aa===null||!aa.has(l))){t=$n(s,t),s=N0(2),l=Jr(r,s,2),l!==null&&(I0(s,l,r,t),Ha(l,2),Yi(l));break}}r=r.return}}function gm(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new o2;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(s)||(lm=!0,d.add(s),t=d2.bind(null,t,r,s),r.then(t,t))}function d2(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(je&s)===s&&(_t===4||_t===3&&(je&62914560)===je&&300>pn()-$c?(Ke&2)===0&&go(t,0):um|=s,mo===je&&(mo=0)),Yi(t)}function Nv(t,r){r===0&&(r=Xu()),t=is(t,r),t!==null&&(Ha(t,r),Yi(t))}function f2(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),Nv(t,s)}function m2(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),Nv(t,s)}function p2(t,r){return zt(t,r)}var th=null,vo=null,ym=!1,nh=!1,vm=!1,la=0;function Yi(t){t!==vo&&t.next===null&&(vo===null?th=vo=t:vo=vo.next=t),nh=!0,ym||(ym=!0,y2())}function Gl(t,r){if(!vm&&nh){vm=!0;do for(var s=!1,l=th;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,S=l.pingedLanes;f=(1<<31-Tt(42|t)+1)-1,f&=d&~(_&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Ov(l,f))}else f=je,f=Ci(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||si(l,f)||(s=!0,Ov(l,f));l=l.next}while(s);vm=!1}}function g2(){Iv()}function Iv(){nh=ym=!1;var t=0;la!==0&&R2()&&(t=la);for(var r=pn(),s=null,l=th;l!==null;){var d=l.next,f=Dv(l,r);f===0?(l.next=null,s===null?th=d:s.next=d,d===null&&(vo=s)):(s=l,(t!==0||(f&3)!==0)&&(nh=!0)),l=d}Bt!==0&&Bt!==5||Gl(t),la!==0&&(la=0)}function Dv(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-Tt(f),S=1<<_,M=d[_];M===-1?((S&s)===0||(S&l)!==0)&&(d[_]=Yd(S,r)):M<=r&&(t.expiredLanes|=S),f&=~S}if(r=st,s=je,s=Ci(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||si(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&jr(l),ir(s)){case 2:case 8:s=tl;break;case 32:s=Lr;break;case 268435456:s=Gu;break;default:s=Lr}return l=Mv.bind(null,t),s=zt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&jr(l),t.callbackPriority=2,t.callbackNode=null,2}function Mv(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(eh()&&t.callbackNode!==s)return null;var l=je;return l=Ci(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fv(t,l,r),Dv(t,pn()),t.callbackNode!=null&&t.callbackNode===s?Mv.bind(null,t):null)}function Ov(t,r){if(eh())return null;fv(t,r,!0)}function y2(){N2(function(){(Ke&6)!==0?zt(el,g2):Iv()})}function _m(){if(la===0){var t=no;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),la=t}return la}function Vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bs(""+t)}function kv(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function v2(t,r,s,l,d){if(r==="submit"&&s&&s.stateNode===d){var f=Vv((d[Gt]||null).action),_=l.submitter;_&&(r=(r=_[Gt]||null)?Vv(r.formAction):_.getAttribute("formAction"),r!==null&&(f=r,_=null));var S=new Ui("action","action",null,l,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var M=_?kv(d,_):new FormData(d);Uf(s,{pending:!0,data:M,method:d.method,action:f},null,M)}}else typeof f=="function"&&(S.preventDefault(),M=_?kv(d,_):new FormData(d),Uf(s,{pending:!0,data:M,method:d.method,action:f},f,M))},currentTarget:d}]})}}for(var bm=0;bm<tf.length;bm++){var Em=tf[bm],_2=Em.toLowerCase(),b2=Em[0].toUpperCase()+Em.slice(1);mi(_2,"on"+b2)}mi(dy,"onAnimationEnd"),mi(fy,"onAnimationIteration"),mi(my,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(jw,"onTransitionRun"),mi(Lw,"onTransitionStart"),mi(Pw,"onTransitionCancel"),mi(py,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function jv(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],M=S.instance,F=S.currentTarget;if(S=S.listener,M!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=F;try{f(d)}catch(Z){yc(Z)}d.currentTarget=null,f=M}else for(_=0;_<l.length;_++){if(S=l[_],M=S.instance,F=S.currentTarget,S=S.listener,M!==f&&d.isPropagationStopped())break e;f=S,d.currentTarget=F;try{f(d)}catch(Z){yc(Z)}d.currentTarget=null,f=M}}}}function ke(t,r){var s=r[js];s===void 0&&(s=r[js]=new Set);var l=t+"__bubble";s.has(l)||(Lv(r,t,2,!1),s.add(l))}function Tm(t,r,s){var l=0;r&&(l|=4),Lv(s,t,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function wm(t){if(!t[ih]){t[ih]=!0,rl.forEach(function(s){s!=="selectionchange"&&(E2.has(s)||Tm(s,!1,t),Tm(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ih]||(r[ih]=!0,Tm("selectionchange",!1,r))}}function Lv(t,r,s,l){switch(d_(r)){case 2:var d=K2;break;case 8:d=X2;break;default:d=Pm}s=d.bind(null,r,s,t),d=void 0,!Ka||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(r,s,{capture:!0,passive:d}):t.addEventListener(r,s,!0):d!==void 0?t.addEventListener(r,s,{passive:d}):t.addEventListener(r,s,!1)}function Sm(t,r,s,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===d)break;if(_===4)for(_=l.return;_!==null;){var M=_.tag;if((M===3||M===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;S!==null;){if(_=Mi(S),_===null)return;if(M=_.tag,M===5||M===6||M===26||M===27){l=f=_;continue e}S=S.parentNode}}l=l.return}Hr(function(){var F=f,Z=Fn(s),ie=[];e:{var Y=gy.get(t);if(Y!==void 0){var $=Ui,pe=t;switch(t){case"keypress":if(Wa(s)===0)break e;case"keydown":case"keyup":$=mc;break;case"focusin":pe="focus",$=Ja;break;case"focusout":pe="blur",$=Ja;break;case"beforeblur":case"afterblur":$=Ja;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case dy:case fy:case my:$=oc;break;case py:$=R;break;case"scroll":case"scrollend":$=gl;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=sr;break;case"toggle":case"beforetoggle":$=De}var Te=(r&4)!==0,at=!Te&&(t==="scroll"||t==="scrollend"),P=Te?Y!==null?Y+"Capture":null:Y;Te=[];for(var j=F,H;j!==null;){var te=j;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||P===null||(te=ci(j,P),te!=null&&Te.push(Ql(j,te,H))),at)break;j=j.return}0<Te.length&&(Y=new $(Y,pe,null,s,Z),ie.push({event:Y,listeners:Te}))}}if((r&7)===0){e:{if(Y=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Y&&s!==fl&&(pe=s.relatedTarget||s.fromElement)&&(Mi(pe)||pe[Ii]))break e;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(pe=s.relatedTarget||s.toElement,$=F,pe=pe?Mi(pe):null,pe!==null&&(at=u(pe),Te=pe.tag,pe!==at||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):($=null,pe=F),$!==pe)){if(Te=yl,te="onMouseLeave",P="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Te=sr,te="onPointerLeave",P="onPointerEnter",j="pointer"),at=$==null?Y:Nn($),H=pe==null?Y:Nn(pe),Y=new Te(te,j+"leave",$,s,Z),Y.target=at,Y.relatedTarget=H,te=null,Mi(Z)===F&&(Te=new Te(P,j+"enter",pe,s,Z),Te.target=H,Te.relatedTarget=at,te=Te),at=te,$&&pe)t:{for(Te=T2,P=$,j=pe,H=0,te=P;te;te=Te(te))H++;te=0;for(var ye=j;ye;ye=Te(ye))te++;for(;0<H-te;)P=Te(P),H--;for(;0<te-H;)j=Te(j),te--;for(;H--;){if(P===j||j!==null&&P===j.alternate){Te=P;break t}P=Te(P),j=Te(j)}Te=null}else Te=null;$!==null&&Pv(ie,Y,$,Te,!1),pe!==null&&at!==null&&Pv(ie,at,pe,Te,!0)}}e:{if(Y=F?Nn(F):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var Ye=ty;else if(Jg(Y))if(ny)Ye=Ow;else{Ye=Dw;var ge=Iw}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&zs(F.elementType)&&(Ye=ty):Ye=Mw;if(Ye&&(Ye=Ye(t,F))){ey(ie,Ye,s,Z);break e}ge&&ge(t,Y,F),t==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&cl(Y,"number",Y.value)}switch(ge=F?Nn(F):window,t){case"focusin":(Jg(ge)||ge.contentEditable==="true")&&($s=ge,Zd=F,Tl=null);break;case"focusout":Tl=Zd=$s=null;break;case"mousedown":Jd=!0;break;case"contextmenu":case"mouseup":case"dragend":Jd=!1,cy(ie,s,Z);break;case"selectionchange":if(kw)break;case"keydown":case"keyup":cy(ie,s,Z)}var Oe;if($e)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Qs?es(t,s)&&(Le="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(qi&&s.locale!=="ko"&&(Qs||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Qs&&(Oe=pl()):(Pi=Z,ml="value"in Pi?Pi.value:Pi.textContent,Qs=!0)),ge=rh(F,Le),0<ge.length&&(Le=new Bi(Le,t,null,s,Z),ie.push({event:Le,listeners:ge}),Oe?Le.data=Oe:(Oe=Ys(s),Oe!==null&&(Le.data=Oe)))),(Oe=Yn?Aw(t,s):Rw(t,s))&&(Le=rh(F,"onBeforeInput"),0<Le.length&&(ge=new Bi("onBeforeInput","beforeinput",null,s,Z),ie.push({event:ge,listeners:Le}),ge.data=Oe)),v2(ie,t,F,s,Z)}jv(ie,r)})}function Ql(t,r,s){return{instance:t,listener:r,currentTarget:s}}function rh(t,r){for(var s=r+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=ci(t,s),d!=null&&l.unshift(Ql(t,d,f)),d=ci(t,r),d!=null&&l.push(Ql(t,d,f))),t.tag===3)return l;t=t.return}return[]}function T2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Pv(t,r,s,l,d){for(var f=r._reactName,_=[];s!==null&&s!==l;){var S=s,M=S.alternate,F=S.stateNode;if(S=S.tag,M!==null&&M===l)break;S!==5&&S!==26&&S!==27||F===null||(M=F,d?(F=ci(s,f),F!=null&&_.unshift(Ql(s,F,M))):d||(F=ci(s,f),F!=null&&_.push(Ql(s,F,M)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var w2=/\r\n?/g,S2=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(w2,`
`).replace(S2,"")}function zv(t,r){return r=Uv(r),Uv(t)===r}function rt(t,r,s,l,d,f){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(t,""+l);break;case"className":In(t,"class",l);break;case"tabIndex":In(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,s,l);break;case"style":dl(t,l,f);break;case"data":if(r!=="object"){In(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(r!=="input"&&rt(t,r,"name",d.name,d,null),rt(t,r,"formEncType",d.formEncType,d,null),rt(t,r,"formMethod",d.formMethod,d,null),rt(t,r,"formTarget",d.formTarget,d,null)):(rt(t,r,"encType",d.encType,d,null),rt(t,r,"method",d.method,d,null),rt(t,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Bs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ps(t,"popover",l);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ps(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=rc.get(s)||s,Ps(t,s,l))}}function xm(t,r,s,l,d,f){switch(s){case"style":dl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),f=t[Gt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,d);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ps(t,s,l)}}}function an(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,f,_,s,null)}}d&&rt(t,r,"srcSet",s.srcSet,s,null),l&&rt(t,r,"src",s.src,s,null);return;case"input":ke("invalid",t);var S=f=_=d=null,M=null,F=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":_=Z;break;case"checked":M=Z;break;case"defaultChecked":F=Z;break;case"value":f=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:rt(t,r,l,Z,s,null)}}tc(t,f,S,M,F,_,d,!1);return;case"select":ke("invalid",t),l=_=f=null;for(d in s)if(s.hasOwnProperty(d)&&(S=s[d],S!=null))switch(d){case"value":f=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:rt(t,r,d,S,s,null)}r=f,s=_,t.multiple=!!l,r!=null?Ur(t,!!l,r,!1):s!=null&&Ur(t,!!l,s,!0);return;case"textarea":ke("invalid",t),f=d=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(S=s[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":d=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:rt(t,r,_,S,s,null)}zr(t,l,d,f);return;case"option":for(M in s)s.hasOwnProperty(M)&&(l=s[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,r,M,l,s,null));return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)ke(Yl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(l=s[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,F,l,s,null)}return;default:if(zs(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&xm(t,r,Z,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&rt(t,r,S,l,s,null))}function x2(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,S=null,M=null,F=null,Z=null;for($ in s){var ie=s[$];if(s.hasOwnProperty($)&&ie!=null)switch($){case"checked":break;case"value":break;case"defaultValue":M=ie;default:l.hasOwnProperty($)||rt(t,r,$,null,l,ie)}}for(var Y in l){var $=l[Y];if(ie=s[Y],l.hasOwnProperty(Y)&&($!=null||ie!=null))switch(Y){case"type":f=$;break;case"name":d=$;break;case"checked":F=$;break;case"defaultChecked":Z=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,r));break;default:$!==ie&&rt(t,r,Y,$,l,ie)}}Us(t,_,S,M,F,Z,f,d);return;case"select":$=_=S=Y=null;for(f in s)if(M=s[f],s.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":$=M;default:l.hasOwnProperty(f)||rt(t,r,f,null,l,M)}for(d in l)if(f=l[d],M=s[d],l.hasOwnProperty(d)&&(f!=null||M!=null))switch(d){case"value":Y=f;break;case"defaultValue":S=f;break;case"multiple":_=f;default:f!==M&&rt(t,r,d,f,l,M)}r=S,s=_,l=$,Y!=null?Ur(t,!!s,Y,!1):!!l!=!!s&&(r!=null?Ur(t,!!s,r,!0):Ur(t,!!s,s?[]:"",!1));return;case"textarea":$=Y=null;for(S in s)if(d=s[S],s.hasOwnProperty(S)&&d!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(t,r,S,null,l,d)}for(_ in l)if(d=l[_],f=s[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":Y=d;break;case"defaultValue":$=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==f&&rt(t,r,_,d,l,f)}nc(t,Y,$);return;case"option":for(var pe in s)Y=s[pe],s.hasOwnProperty(pe)&&Y!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:rt(t,r,pe,null,l,Y));for(M in l)Y=l[M],$=s[M],l.hasOwnProperty(M)&&Y!==$&&(Y!=null||$!=null)&&(M==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":rt(t,r,M,Y,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)Y=s[Te],s.hasOwnProperty(Te)&&Y!=null&&!l.hasOwnProperty(Te)&&rt(t,r,Te,null,l,Y);for(F in l)if(Y=l[F],$=s[F],l.hasOwnProperty(F)&&Y!==$&&(Y!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,r));break;default:rt(t,r,F,Y,l,$)}return;default:if(zs(r)){for(var at in s)Y=s[at],s.hasOwnProperty(at)&&Y!==void 0&&!l.hasOwnProperty(at)&&xm(t,r,at,void 0,l,Y);for(Z in l)Y=l[Z],$=s[Z],!l.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||xm(t,r,Z,Y,l,$);return}}for(var P in s)Y=s[P],s.hasOwnProperty(P)&&Y!=null&&!l.hasOwnProperty(P)&&rt(t,r,P,null,l,Y);for(ie in l)Y=l[ie],$=s[ie],!l.hasOwnProperty(ie)||Y===$||Y==null&&$==null||rt(t,r,ie,Y,l,$)}function Bv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function A2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],f=d.transferSize,_=d.initiatorType,S=d.duration;if(f&&S&&Bv(_)){for(_=0,S=d.responseEnd,l+=1;l<s.length;l++){var M=s[l],F=M.startTime;if(F>S)break;var Z=M.transferSize,ie=M.initiatorType;Z&&Bv(ie)&&(M=M.responseEnd,_+=Z*(M<S?1:(S-F)/(M-F)))}if(--l,r+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,Rm=null;function ah(t){return t.nodeType===9?t:t.ownerDocument}function qv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Cm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Nm=null;function R2(){var t=window.event;return t&&t.type==="popstate"?t===Nm?!1:(Nm=t,!0):(Nm=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,N2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(t){return Gv.resolve(null).then(t).catch(I2)}:Fv;function I2(t){setTimeout(function(){throw t})}function ua(t){return t==="head"}function Yv(t,r){var s=r,l=0;do{var d=s.nextSibling;if(t.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(d),To(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")$l(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,$l(s);for(var f=s.firstChild;f;){var _=f.nextSibling,S=f.nodeName;f[Di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=_}}else s==="body"&&$l(t.ownerDocument.body);s=d}while(s);To(r)}function Qv(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Im(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Im(s),Ls(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function D2(t,r,s,l){for(;t.nodeType===1;){var d=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Di])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function M2(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Jn(t.nextSibling),t===null))return null;return t}function $v(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Jn(t.nextSibling),t===null))return null;return t}function Dm(t){return t.data==="$?"||t.data==="$~"}function Mm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function O2(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Om=null;function Kv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Jn(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function Xv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function Wv(t,r,s){switch(r=ah(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function $l(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Ls(t)}var ei=new Map,Zv=new Set;function sh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Er=ue.d;ue.d={f:V2,r:k2,D:j2,C:L2,L:P2,m:U2,X:B2,S:z2,M:q2};function V2(){var t=Er.f(),r=Wc();return t||r}function k2(t){var r=Hn(t);r!==null&&r.tag===5&&r.type==="form"?p0(r):Er.r(t)}var _o=typeof document>"u"?null:document;function Jv(t,r,s){var l=_o;if(l&&typeof r=="string"&&r){var d=_n(r);d='link[rel="'+t+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Zv.has(d)||(Zv.add(d),t={rel:t,crossOrigin:s,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function j2(t){Er.D(t),Jv("dns-prefetch",t,null)}function L2(t,r){Er.C(t,r),Jv("preconnect",t,r)}function P2(t,r,s){Er.L(t,r,s);var l=_o;if(l&&t&&r){var d='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+_n(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+_n(s.imageSizes)+'"]')):d+='[href="'+_n(t)+'"]';var f=d;switch(r){case"style":f=bo(t);break;case"script":f=Eo(t)}ei.has(f)||(t=T({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),ei.set(f,t),l.querySelector(d)!==null||r==="style"&&l.querySelector(Kl(f))||r==="script"&&l.querySelector(Xl(f))||(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function U2(t,r){Er.m(t,r);var s=_o;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Eo(t)}if(!ei.has(f)&&(t=T({rel:"modulepreload",href:t},r),ei.set(f,t),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Xl(f)))return}l=s.createElement("link"),an(l,"link",t),Nt(l),s.head.appendChild(l)}}}function z2(t,r,s){Er.S(t,r,s);var l=_o;if(l&&t){var d=Oi(l).hoistableStyles,f=bo(t);r=r||"default";var _=d.get(f);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Kl(f)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},s),(s=ei.get(f))&&Vm(t,s);var M=_=l.createElement("link");Nt(M),an(M,"link",t),M._p=new Promise(function(F,Z){M.onload=F,M.onerror=Z}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},d.set(f,_)}}}function B2(t,r){Er.X(t,r);var s=_o;if(s&&t){var l=Oi(s).hoistableScripts,d=Eo(t),f=l.get(d);f||(f=s.querySelector(Xl(d)),f||(t=T({src:t,async:!0},r),(r=ei.get(d))&&km(t,r),f=s.createElement("script"),Nt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function q2(t,r){Er.M(t,r);var s=_o;if(s&&t){var l=Oi(s).hoistableScripts,d=Eo(t),f=l.get(d);f||(f=s.querySelector(Xl(d)),f||(t=T({src:t,async:!0,type:"module"},r),(r=ei.get(d))&&km(t,r),f=s.createElement("script"),Nt(f),an(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function e_(t,r,s,l){var d=(d=ce.current)?sh(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=bo(s.href),s=Oi(d).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=bo(s.href);var f=Oi(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Kl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),ei.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ei.set(t,s),f||H2(d,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Eo(s),s=Oi(d).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function bo(t){return'href="'+_n(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function t_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function H2(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",s),Nt(r),t.head.appendChild(r))}function Eo(t){return'[src="'+_n(t)+'"]'}function Xl(t){return"script[async]"+t}function n_(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+_n(s.href)+'"]');if(l)return r.instance=l,Nt(l),l;var d=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),an(l,"style",d),oh(l,s.precedence,t),r.instance=l;case"stylesheet":d=bo(s.href);var f=t.querySelector(Kl(d));if(f)return r.state.loading|=4,r.instance=f,Nt(f),f;l=t_(s),(d=ei.get(d))&&Vm(l,d),f=(t.ownerDocument||t).createElement("link"),Nt(f);var _=f;return _._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),an(f,"link",l),r.state.loading|=4,oh(f,s.precedence,t),r.instance=f;case"script":return f=Eo(s.src),(d=t.querySelector(Xl(f)))?(r.instance=d,Nt(d),d):(l=s,(d=ei.get(f))&&(l=T({},s),km(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),Nt(d),an(d,"link",l),t.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,oh(l,s.precedence,t));return r.instance}function oh(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)f=S;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function Vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function km(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var lh=null;function i_(t,r,s){if(lh===null){var l=new Map,d=lh=new Map;d.set(s,l)}else d=lh,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),d=0;d<s.length;d++){var f=s[d];if(!(f[Di]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(f):l.set(_,[f])}}return l}function r_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function F2(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function a_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function G2(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=bo(l.href),f=r.querySelector(Kl(d));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=uh.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=f,Nt(f);return}f=r.ownerDocument||r,l=t_(l),(d=ei.get(d))&&Vm(l,d),f=f.createElement("link"),Nt(f);var _=f;_._p=new Promise(function(S,M){_.onload=S,_.onerror=M}),an(f,"link",l),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=uh.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var jm=0;function Y2(t,r){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&jm===0&&(jm=62500*A2());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>jm?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function hh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,r.forEach(Q2,t),ch=null,uh.call(t))}function Q2(t,r){if(!(r.state.loading&4)){var s=ch.get(t);if(s)var l=s.get(null);else{s=new Map,ch.set(t,s);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}d=r.instance,_=d.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,d),s.set(_,d),this.count++,l=uh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),r.state.loading|=4}}var Wl={$$typeof:J,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function $2(t,r,s,l,d,f,_,S,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function s_(t,r,s,l,d,f,_,S,M,F,Z,ie){return t=new $2(t,r,s,_,M,F,Z,ie,S),r=1,f===!0&&(r|=24),f=Mn(3,null,null,r),t.current=f,f.stateNode=t,r=pf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:r},_f(f),t}function o_(t){return t?(t=Ws,t):Ws}function l_(t,r,s,l,d,f){d=o_(d),l.context===null?l.context=d:l.pendingContext=d,l=Zr(r),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Jr(t,l,r),s!==null&&(xn(s,t,r),Nl(s,t,r))}function u_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function Lm(t,r){u_(t,r),(t=t.alternate)&&u_(t,r)}function c_(t){if(t.tag===13||t.tag===31){var r=is(t,67108864);r!==null&&xn(r,t,67108864),Lm(t,67108864)}}function h_(t){if(t.tag===13||t.tag===31){var r=Ln();r=Ga(r);var s=is(t,r);s!==null&&xn(s,t,r),Lm(t,r)}}var dh=!0;function K2(t,r,s,l){var d=X.T;X.T=null;var f=ue.p;try{ue.p=2,Pm(t,r,s,l)}finally{ue.p=f,X.T=d}}function X2(t,r,s,l){var d=X.T;X.T=null;var f=ue.p;try{ue.p=8,Pm(t,r,s,l)}finally{ue.p=f,X.T=d}}function Pm(t,r,s,l){if(dh){var d=Um(l);if(d===null)Sm(t,r,l,fh,s),f_(t,l);else if(Z2(d,t,r,s,l))l.stopPropagation();else if(f_(t,l),r&4&&-1<W2.indexOf(t)){for(;d!==null;){var f=Hn(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Ri(f.pendingLanes);if(_!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var M=1<<31-Tt(_);S.entanglements[1]|=M,_&=~M}Yi(f),(Ke&6)===0&&(Kc=pn()+500,Gl(0))}}break;case 31:case 13:S=is(f,2),S!==null&&xn(S,f,2),Wc(),Lm(f,2)}if(f=Um(l),f===null&&Sm(t,r,l,fh,s),f===d)break;d=f}d!==null&&l.stopPropagation()}else Sm(t,r,l,null,s)}}function Um(t){return t=Fn(t),zm(t)}var fh=null;function zm(t){if(fh=null,t=Mi(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=c(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return fh=t,null}function d_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ba()){case el:return 2;case tl:return 8;case Lr:case Gd:return 32;case Gu:return 268435456;default:return 32}default:return 32}}var Bm=!1,ca=null,ha=null,da=null,Zl=new Map,Jl=new Map,fa=[],W2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(t,r){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Zl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(r.pointerId)}}function eu(t,r,s,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=Hn(r),r!==null&&c_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function Z2(t,r,s,l,d){switch(r){case"focusin":return ca=eu(ca,t,r,s,l,d),!0;case"dragenter":return ha=eu(ha,t,r,s,l,d),!0;case"mouseover":return da=eu(da,t,r,s,l,d),!0;case"pointerover":var f=d.pointerId;return Zl.set(f,eu(Zl.get(f)||null,t,r,s,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Jl.set(f,eu(Jl.get(f)||null,t,r,s,l,d)),!0}return!1}function m_(t){var r=Mi(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){t.blockedOn=r,oi(t.priority,function(){h_(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,oi(t.priority,function(){h_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=Um(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);fl=l,s.target.dispatchEvent(l),fl=null}else return r=Hn(s),r!==null&&c_(r),t.blockedOn=s,!1;r.shift()}return!0}function p_(t,r,s){mh(t)&&s.delete(r)}function J2(){Bm=!1,ca!==null&&mh(ca)&&(ca=null),ha!==null&&mh(ha)&&(ha=null),da!==null&&mh(da)&&(da=null),Zl.forEach(p_),Jl.forEach(p_)}function ph(t,r){t.blockedOn===r&&(t.blockedOn=null,Bm||(Bm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,J2)))}var gh=null;function g_(t){gh!==t&&(gh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],d=t[r+2];if(typeof l!="function"){if(zm(l||s)===null)continue;break}var f=Hn(s);f!==null&&(t.splice(r,3),r-=3,Uf(f,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function To(t){function r(M){return ph(M,t)}ca!==null&&ph(ca,t),ha!==null&&ph(ha,t),da!==null&&ph(da,t),Zl.forEach(r),Jl.forEach(r);for(var s=0;s<fa.length;s++){var l=fa[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<fa.length&&(s=fa[0],s.blockedOn===null);)m_(s),s.blockedOn===null&&fa.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],f=s[l+1],_=d[Gt]||null;if(typeof f=="function")_||g_(s);else if(_){var S=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Gt]||null)S=_.formAction;else if(zm(d)!==null)continue}else S=_.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),g_(s)}}}function y_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function qm(t){this._internalRoot=t}yh.prototype.render=qm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Ln();l_(s,l,t,r,null,null)},yh.prototype.unmount=qm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;l_(t.current,2,null,t,null,null),Wc(),r[Ii]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Wu();t={blockedOn:null,target:t,priority:r};for(var s=0;s<fa.length&&r!==0&&r<fa[s].priority;s++);fa.splice(s,0,t),s===0&&m_(t)}};var v_=e.version;if(v_!=="19.2.3")throw Error(a(527,v_,"19.2.3"));ue.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var eS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{ai=vh.inject(eS),Jt=vh}catch{}}return nu.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",d=x0,f=A0,_=R0;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=s_(t,1,!1,null,null,s,l,null,d,f,_,y_),t[Ii]=r.current,wm(t),new qm(r)},nu.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,d="",f=x0,_=A0,S=R0,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),r=s_(t,1,!0,r,s??null,l,d,M,f,_,S,y_),r.context=o_(null),s=r.current,l=Ln(),l=Ga(l),d=Zr(l),d.callback=null,Jr(s,d,l),s=l,r.current.lanes=s,Ha(r,s),Yi(r),t[Ii]=r.current,wm(t),new yh(r)},nu.version="19.2.3",nu}var C_;function cS(){if(C_)return Gm.exports;C_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Gm.exports=uS(),Gm.exports}var hS=cS();var N_="popstate";function dS(i={}){function e(o,u){let{pathname:c="/",search:m="",hash:p=""}=Ms(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dp("",{pathname:c,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let c=o.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:yu(u))}function a(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return mS(e,n,a,i)}function pt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Un(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fS(){return Math.random().toString(36).substring(2,10)}function I_(i,e){return{usr:i.state,key:i.key,idx:e}}function dp(i,e,n=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ms(e):e,state:n,key:e&&e.key||a||fS()}}function yu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ms(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function mS(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,m="POP",p=null,g=b();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function b(){return(c.state||{idx:null}).idx}function T(){m="POP";let B=b(),K=B==null?null:B-g;g=B,p&&p({action:m,location:G.location,delta:K})}function x(B,K){m="PUSH";let q=dp(G.location,B,K);n&&n(q,B),g=b()+1;let J=I_(q,g),ee=G.createHref(q);try{c.pushState(J,"",ee)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ee)}u&&p&&p({action:m,location:G.location,delta:1})}function N(B,K){m="REPLACE";let q=dp(G.location,B,K);n&&n(q,B),g=b();let J=I_(q,g),ee=G.createHref(q);c.replaceState(J,"",ee),u&&p&&p({action:m,location:G.location,delta:0})}function U(B){return pS(B)}let G={get action(){return m},get location(){return i(o,c)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(N_,T),p=B,()=>{o.removeEventListener(N_,T),p=null}},createHref(B){return e(o,B)},createURL:U,encodeLocation(B){let K=U(B);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:x,replace:N,go(B){return c.go(B)}};return G}function pS(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:yu(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function bb(i,e,n="/"){return gS(i,e,n,!1)}function gS(i,e,n,a){let o=typeof e=="string"?Ms(e):e,u=Cr(o.pathname||"/",n);if(u==null)return null;let c=Eb(i);yS(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=CS(u);m=AS(c[p],g,a)}return m}function Eb(i,e=[],n=[],a="",o=!1){let u=(c,m,p=o,g)=>{let b={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(a)&&p)return;pt(b.relativePath.startsWith(a),`Absolute route path "${b.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(a.length)}let T=Ar([a,b.relativePath]),x=n.concat(b);c.children&&c.children.length>0&&(pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Eb(c.children,e,x,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:SS(T,c.index),routesMeta:x})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of Tb(c.path))u(c,m,!0,p)}),e}function Tb(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=Tb(a.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function yS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:xS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var vS=/^:[\w-]+$/,_S=3,bS=2,ES=1,TS=10,wS=-2,D_=i=>i==="*";function SS(i,e){let n=i.split("/"),a=n.length;return n.some(D_)&&(a+=wS),e&&(a+=bS),n.filter(o=>!D_(o)).reduce((o,u)=>o+(vS.test(u)?_S:u===""?ES:TS),a)}function xS(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function AS(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",c=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),x=p.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=Bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Ar([u,T.pathname]),pathnameBase:MS(Ar([u,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(u=Ar([u,T.pathnameBase]))}return c}function Bh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=RS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:b,isOptional:T},x)=>{if(b==="*"){let U=m[x]||"";c=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=m[x];return T&&!N?g[b]=void 0:g[b]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function RS(i,e=!1,n=!0){Un(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function CS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Cr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NS=i=>wb.test(i);function IS(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?Ms(i):i,u;if(n)if(NS(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Un(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=M_(n.substring(1),"/"):u=M_(n,e)}else u=e;return{pathname:u,search:OS(a),hash:VS(o)}}function M_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Km(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(i){let e=DS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Gp(i,e,n,a=!1){let o;typeof i=="string"?o=Ms(i):(o={...i},pt(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;o.pathname=x.join("/")}m=T>=0?e[T]:"/"}let p=IS(o,m),g=c&&c!=="/"&&c.endsWith("/"),b=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var Ar=i=>i.join("/").replace(/\/\/+/g,"/"),MS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),OS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,kS=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function LS(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xb(i,e){let n=i;if(typeof n!="string"||!wb.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(Sb)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Cr(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Un(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ab=["POST","PUT","PATCH","DELETE"];new Set(Ab);var PS=["GET",...Ab];new Set(PS);var Fo=w.createContext(null);Fo.displayName="DataRouter";var dd=w.createContext(null);dd.displayName="DataRouterState";var US=w.createContext(!1),Rb=w.createContext({isTransitioning:!1});Rb.displayName="ViewTransition";var zS=w.createContext(new Map);zS.displayName="Fetchers";var BS=w.createContext(null);BS.displayName="Await";var zn=w.createContext(null);zn.displayName="Navigation";var Iu=w.createContext(null);Iu.displayName="Location";var ii=w.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Yp=w.createContext(null);Yp.displayName="RouteError";var Cb="REACT_ROUTER_ERROR",qS="REDIRECT",HS="ROUTE_ERROR_RESPONSE";function FS(i){if(i.startsWith(`${Cb}:${qS}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function GS(i){if(i.startsWith(`${Cb}:${HS}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new kS(e.status,e.statusText,e.data)}catch{}}function YS(i,{relative:e}={}){pt(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=w.useContext(zn),{hash:o,pathname:u,search:c}=Du(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ar([n,u])),a.createHref({pathname:m,search:c,hash:o})}function Go(){return w.useContext(Iu)!=null}function Si(){return pt(Go(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Iu).location}var Nb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ib(i){w.useContext(zn).static||w.useLayoutEffect(i)}function fd(){let{isDataRoute:i}=w.useContext(ii);return i?lx():QS()}function QS(){pt(Go(),"useNavigate() may be used only in the context of a <Router> component.");let i=w.useContext(Fo),{basename:e,navigator:n}=w.useContext(zn),{matches:a}=w.useContext(ii),{pathname:o}=Si(),u=JSON.stringify(Fp(a)),c=w.useRef(!1);return Ib(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(Un(c.current,Nb),!c.current)return;if(typeof p=="number"){n.go(p);return}let b=Gp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:Ar([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,i])}var $S=w.createContext(null);function KS(i){let e=w.useContext(ii).outlet;return w.useMemo(()=>e&&w.createElement($S.Provider,{value:i},e),[e,i])}function XS(){let{matches:i}=w.useContext(ii),e=i[i.length-1];return e?e.params:{}}function Du(i,{relative:e}={}){let{matches:n}=w.useContext(ii),{pathname:a}=Si(),o=JSON.stringify(Fp(n));return w.useMemo(()=>Gp(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function WS(i,e){return Db(i,e)}function Db(i,e,n,a,o){pt(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(zn),{matches:c}=w.useContext(ii),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let q=T&&T.path||"";Ob(g,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let x=Si(),N;if(e){let q=typeof e=="string"?Ms(e):e;pt(b==="/"||q.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${q.pathname}" was given in the \`location\` prop.`),N=q}else N=x;let U=N.pathname||"/",G=U;if(b!=="/"){let q=b.replace(/^\//,"").split("/");G="/"+U.replace(/^\//,"").split("/").slice(q.length).join("/")}let B=bb(i,{pathname:G});Un(T||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Un(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=nx(B&&B.map(q=>Object.assign({},q,{params:Object.assign({},p,q.params),pathname:Ar([b,u.encodeLocation?u.encodeLocation(q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?b:Ar([b,u.encodeLocation?u.encodeLocation(q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:q.pathnameBase])})),c,n,a,o);return e&&K?w.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},K):K}function ZS(){let i=ox(),e=jS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:o},n):null,c)}var JS=w.createElement(ZS,null),Mb=class extends w.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=GS(i.digest);n&&(i=n)}let e=i!==void 0?w.createElement(ii.Provider,{value:this.props.routeContext},w.createElement(Yp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?w.createElement(ex,{error:i},e):e}};Mb.contextType=US;var Xm=new WeakMap;function ex({children:i,error:e}){let{basename:n}=w.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=FS(e.digest);if(a){let o=Xm.get(e);if(o)throw o;let u=xb(a.location,n);if(Sb&&!Xm.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Xm.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function tx({routeContext:i,match:e,children:n}){let a=w.useContext(Fo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(ii.Provider,{value:i},n)}function nx(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let b=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);pt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,p=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=b),T.route.id){let{loaderData:x,errors:N}=n,U=T.route.loader&&!x.hasOwnProperty(T.route.id)&&(!N||N[T.route.id]===void 0);if(T.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&a?(b,T)=>{a(b,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:LS(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,x)=>{let N,U=!1,G=null,B=null;n&&(N=c&&T.route.id?c[T.route.id]:void 0,G=T.route.errorElement||JS,m&&(p<0&&x===0?(Ob("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,B=null):p===x&&(U=!0,B=T.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,x+1)),q=()=>{let J;return N?J=G:U?J=B:T.route.Component?J=w.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=b,w.createElement(tx,{match:T,routeContext:{outlet:b,matches:K,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||x===0)?w.createElement(Mb,{location:n.location,revalidation:n.revalidation,component:G,error:N,children:q(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:g}):q()},null)}function Qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ix(i){let e=w.useContext(Fo);return pt(e,Qp(i)),e}function rx(i){let e=w.useContext(dd);return pt(e,Qp(i)),e}function ax(i){let e=w.useContext(ii);return pt(e,Qp(i)),e}function $p(i){let e=ax(i),n=e.matches[e.matches.length-1];return pt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function sx(){return $p("useRouteId")}function ox(){let i=w.useContext(Yp),e=rx("useRouteError"),n=$p("useRouteError");return i!==void 0?i:e.errors?.[n]}function lx(){let{router:i}=ix("useNavigate"),e=$p("useNavigate"),n=w.useRef(!1);return Ib(()=>{n.current=!0}),w.useCallback(async(o,u={})=>{Un(n.current,Nb),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var O_={};function Ob(i,e,n){!e&&!O_[i]&&(O_[i]=!0,Un(!1,n))}w.memo(ux);function ux({routes:i,future:e,state:n,onError:a}){return Db(i,void 0,n,a,e)}function cx({to:i,replace:e,state:n,relative:a}){pt(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(zn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(ii),{pathname:c}=Si(),m=fd(),p=Gp(i,Fp(u),c,a==="path"),g=JSON.stringify(p);return w.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:a})},[m,g,a,e,n]),null}function hx(i){return KS(i.context)}function vn(i){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dx({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){pt(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=Ms(n));let{pathname:g="/",search:b="",hash:T="",state:x=null,key:N="default"}=n,U=w.useMemo(()=>{let G=Cr(g,m);return G==null?null:{location:{pathname:G,search:b,hash:T,state:x,key:N},navigationType:a}},[m,g,b,T,x,N,a]);return Un(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:w.createElement(zn.Provider,{value:p},w.createElement(Iu.Provider,{children:e,value:U}))}function fx({children:i,location:e}){return WS(fp(i),e)}function fp(i,e=[]){let n=[];return w.Children.forEach(i,(a,o)=>{if(!w.isValidElement(a))return;let u=[...e,o];if(a.type===w.Fragment){n.push.apply(n,fp(a.props.children,u));return}pt(a.type===vn,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=fp(a.props.children,u)),n.push(c)}),n}var Ch="get",Nh="application/x-www-form-urlencoded";function md(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function mx(i){return md(i)&&i.tagName.toLowerCase()==="button"}function px(i){return md(i)&&i.tagName.toLowerCase()==="form"}function gx(i){return md(i)&&i.tagName.toLowerCase()==="input"}function yx(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function vx(i,e){return i.button===0&&(!e||e==="_self")&&!yx(i)}var _h=null;function _x(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var bx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wm(i){return i!=null&&!bx.has(i)?(Un(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):i}function Ex(i,e){let n,a,o,u,c;if(px(i)){let m=i.getAttribute("action");a=m?Cr(m,e):null,n=i.getAttribute("method")||Ch,o=Wm(i.getAttribute("enctype"))||Nh,u=new FormData(i)}else if(mx(i)||gx(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?Cr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ch,o=Wm(i.getAttribute("formenctype"))||Wm(m.getAttribute("enctype"))||Nh,u=new FormData(m,i),!_x()){let{name:g,type:b,value:T}=i;if(b==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,T)}}else{if(md(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ch,a=null,o=Nh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Kp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tx(i,e,n,a){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Cr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function wx(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sx(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function xx(i,e,n){let a=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await wx(u,n);return c.links?c.links():[]}return[]}));return Nx(a.flat(1).filter(Sx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function V_(i,e,n,a,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let b=a.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Ax(i,e,{includeHydrateFallback:n}={}){return Rx(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rx(i){return[...new Set(i)]}function Cx(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function Nx(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(Cx(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Vb(){let i=w.useContext(Fo);return Kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Ix(){let i=w.useContext(dd);return Kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xp=w.createContext(void 0);Xp.displayName="FrameworkContext";function kb(){let i=w.useContext(Xp);return Kp(i,"You must render this element inside a <HydratedRouter> element"),i}function Dx(i,e){let n=w.useContext(Xp),[a,o]=w.useState(!1),[u,c]=w.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:T}=e,x=w.useRef(null);w.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let G=K=>{K.forEach(q=>{c(q.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return x.current&&B.observe(x.current),()=>{B.disconnect()}}},[i]),w.useEffect(()=>{if(a){let G=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(G)}}},[a]);let N=()=>{o(!0)},U=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,x,{}]:[u,x,{onFocus:iu(m,N),onBlur:iu(p,U),onMouseEnter:iu(g,N),onMouseLeave:iu(b,U),onTouchStart:iu(T,N)}]:[!1,x,{}]}function iu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Mx({page:i,...e}){let{router:n}=Vb(),a=w.useMemo(()=>bb(n.routes,i,n.basename),[n.routes,i,n.basename]);return a?w.createElement(Vx,{page:i,matches:a,...e}):null}function Ox(i){let{manifest:e,routeModules:n}=kb(),[a,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return xx(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),a}function Vx({page:i,matches:e,...n}){let a=Si(),{future:o,manifest:u,routeModules:c}=kb(),{basename:m}=Vb(),{loaderData:p,matches:g}=Ix(),b=w.useMemo(()=>V_(i,e,g,u,a,"data"),[i,e,g,u,a]),T=w.useMemo(()=>V_(i,e,g,u,a,"assets"),[i,e,g,u,a]),x=w.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let G=new Set,B=!1;if(e.forEach(q=>{let J=u.routes[q.route.id];!J||!J.hasLoader||(!b.some(ee=>ee.route.id===q.route.id)&&q.route.id in p&&c[q.route.id]?.shouldRevalidate||J.hasClientLoader?B=!0:G.add(q.route.id))}),G.size===0)return[];let K=Tx(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return B&&G.size>0&&K.searchParams.set("_routes",e.filter(q=>G.has(q.route.id)).map(q=>q.route.id).join(",")),[K.pathname+K.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,a,u,b,e,i,c]),N=w.useMemo(()=>Ax(T,u),[T,u]),U=Ox(T);return w.createElement(w.Fragment,null,x.map(G=>w.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),N.map(G=>w.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),U.map(({key:G,link:B})=>w.createElement("link",{key:G,nonce:n.nonce,...B})))}function kx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var jx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jx&&(window.__reactRouterVersion="7.12.0")}catch{}function Lx({basename:i,children:e,unstable_useTransitions:n,window:a}){let o=w.useRef();o.current==null&&(o.current=dS({window:a,v5Compat:!0}));let u=o.current,[c,m]=w.useState({action:u.action,location:u.location}),p=w.useCallback(g=>{n===!1?m(g):w.startTransition(()=>m(g))},[n]);return w.useLayoutEffect(()=>u.listen(p),[u,p]),w.createElement(dx,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=w.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x,...N},U){let{basename:G,unstable_useTransitions:B}=w.useContext(zn),K=typeof g=="string"&&jb.test(g),q=xb(g,G);g=q.to;let J=YS(g,{relative:o}),[ee,oe,fe]=Dx(a,N),C=Bx(g,{replace:c,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:x,unstable_useTransitions:B});function A(V){e&&e(V),V.defaultPrevented||C(V)}let I=w.createElement("a",{...N,...fe,href:q.absoluteURL||J,onClick:q.isExternal||u?e:A,ref:kx(U,oe),target:p,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?w.createElement(w.Fragment,null,I,w.createElement(Mx,{page:J})):I});Ea.displayName="Link";var Px=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},b){let T=Du(c,{relative:g.relative}),x=Si(),N=w.useContext(dd),{navigator:U,basename:G}=w.useContext(zn),B=N!=null&&Yx(T)&&m===!0,K=U.encodeLocation?U.encodeLocation(T).pathname:T.pathname,q=x.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(q=q.toLowerCase(),J=J?J.toLowerCase():null,K=K.toLowerCase()),J&&G&&(J=Cr(J,G)||J);const ee=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let oe=q===K||!o&&q.startsWith(K)&&q.charAt(ee)==="/",fe=J!=null&&(J===K||!o&&J.startsWith(K)&&J.charAt(K.length)==="/"),C={isActive:oe,isPending:fe,isTransitioning:B},A=oe?e:void 0,I;typeof a=="function"?I=a(C):I=[a,oe?"active":null,fe?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return w.createElement(Ea,{...g,"aria-current":A,className:I,ref:b,style:V,to:c,viewTransition:m},typeof p=="function"?p(C):p)});Px.displayName="NavLink";var Ux=w.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:c=Ch,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x,...N},U)=>{let{unstable_useTransitions:G}=w.useContext(zn),B=Fx(),K=Gx(m,{relative:g}),q=c.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&jb.test(m),ee=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let fe=oe.nativeEvent.submitter,C=fe?.getAttribute("formmethod")||c,A=()=>B(fe||oe.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:x});G&&n!==!1?w.startTransition(()=>A()):A()};return w.createElement("form",{ref:U,method:q,action:K,onSubmit:a?p:ee,...N,"data-discover":!J&&i==="render"?"true":void 0})});Ux.displayName="Form";function zx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(i){let e=w.useContext(Fo);return pt(e,zx(i)),e}function Bx(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=fd(),b=Si(),T=Du(i,{relative:u});return w.useCallback(x=>{if(vx(x,e)){x.preventDefault();let N=n!==void 0?n:yu(b)===yu(T),U=()=>g(i,{replace:N,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?w.startTransition(()=>U()):U()}},[b,g,T,n,a,e,i,o,u,c,m,p])}var qx=0,Hx=()=>`__${String(++qx)}__`;function Fx(){let{router:i}=Lb("useSubmit"),{basename:e}=w.useContext(zn),n=sx(),a=i.fetch,o=i.navigate;return w.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:b,body:T}=Ex(u,e);if(c.navigate===!1){let x=c.fetcherKey||Hx();await a(x,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,n])}function Gx(i,{relative:e}={}){let{basename:n}=w.useContext(zn),a=w.useContext(ii);pt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Du(i||".",{relative:e})},c=Si();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ar([n,u.pathname])),yu(u)}function Yx(i,{relative:e}={}){let n=w.useContext(Rb);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Lb("useViewTransitionState"),o=Du(i,{relative:e});if(!n.isTransitioning)return!1;let u=Cr(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Cr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Bh(o.pathname,c)!=null||Bh(o.pathname,u)!=null}const Qx=()=>{};var k_={};const Pb=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$x=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,N=g&63;p||(N=64,c||(x=64)),a.push(n[b],n[T],n[x],n[N])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Pb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):$x(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Kx;const x=u<<2|m>>4;if(a.push(x),g!==64){const N=m<<4&240|g>>2;if(a.push(N),T!==64){const U=g<<6&192|T;a.push(U)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Kx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xx=function(i){const e=Pb(i);return Ub.encodeByteArray(e,!0)},qh=function(i){return Xx(i).replace(/\./g,"")},zb=function(i){try{return Ub.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Zx=()=>Wx().__FIREBASE_DEFAULTS__,Jx=()=>{if(typeof process>"u"||typeof k_>"u")return;const i=k_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},eA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&zb(i[1]);return e&&JSON.parse(e)},pd=()=>{try{return Qx()||Zx()||Jx()||eA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Bb=i=>pd()?.emulatorHosts?.[i],tA=i=>{const e=Bb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},qb=()=>pd()?.config,Hb=i=>pd()?.[`_${i}`];class nA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Yo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fb(i){return(await fetch(i,{credentials:"include"})).ok}function iA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[qh(JSON.stringify(n)),qh(JSON.stringify(c)),""].join(".")}const hu={};function rA(){const i={prod:[],emulator:[]};for(const e of Object.keys(hu))hu[e]?i.emulator.push(e):i.prod.push(e);return i}function aA(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let j_=!1;function Gb(i,e){if(typeof window>"u"||typeof document>"u"||!Yo(window.location.host)||hu[i]===e||hu[i]||j_)return;hu[i]=e;function n(x){return`__firebase__banner__${x}`}const a="__firebase__banner",u=rA().prod.length>0;function c(){const x=document.getElementById(a);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,N){x.setAttribute("width","24"),x.setAttribute("id",N),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{j_=!0,c()},x}function b(x,N){x.setAttribute("id",N),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function T(){const x=aA(a),N=n("text"),U=document.getElementById(N)||document.createElement("span"),G=n("learnmore"),B=document.getElementById(G)||document.createElement("a"),K=n("preprendIcon"),q=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const J=x.element;m(J),b(B,G);const ee=g();p(q,K),J.append(q,U,B,ee),document.body.appendChild(J)}u?(U.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function oA(){const i=pd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hA(){const i=fn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function dA(){return!oA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fA(){try{return typeof indexedDB=="object"}catch{return!1}}function mA(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const pA="FirebaseError";class kr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pA,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mu.prototype.create)}}class Mu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?gA(u,a):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new kr(o,m,a)}}function gA(i,e){return i.replace(yA,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const yA=/\{\$([^}]+)}/g;function vA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ss(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],c=e[o];if(L_(u)&&L_(c)){if(!Ss(u,c))return!1}else if(u!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function L_(i){return i!==null&&typeof i=="object"}function Ou(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function _A(i,e){const n=new bA(i,e);return n.subscribe.bind(n)}class bA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");EA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Zm),o.error===void 0&&(o.error=Zm),o.complete===void 0&&(o.complete=Zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Zm(){}function Wt(i){return i&&i._delegate?i._delegate:i}class xs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gs="[DEFAULT]";class TA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new nA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SA(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&c.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:wA(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wA(i){return i===gs?void 0:i}function SA(i){return i.instantiationMode==="EAGER"}class xA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const AA={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},RA=Pe.INFO,CA={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},NA=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=CA[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=RA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const IA=(i,e)=>e.some(n=>i instanceof n);let P_,U_;function DA(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MA(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yb=new WeakMap,mp=new WeakMap,Qb=new WeakMap,Jm=new WeakMap,Zp=new WeakMap;function OA(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(wa(i.result)),o()},c=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Yb.set(n,i)}).catch(()=>{}),Zp.set(e,i),e}function VA(i){if(mp.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});mp.set(i,e)}let pp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Qb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kA(i){pp=i(pp)}function jA(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(ep(this),e,...n);return Qb.set(a,e.sort?e.sort():[e]),wa(a)}:MA().includes(i)?function(...e){return i.apply(ep(this),e),wa(Yb.get(this))}:function(...e){return wa(i.apply(ep(this),e))}}function LA(i){return typeof i=="function"?jA(i):(i instanceof IDBTransaction&&VA(i),IA(i,DA())?new Proxy(i,pp):i)}function wa(i){if(i instanceof IDBRequest)return OA(i);if(Jm.has(i))return Jm.get(i);const e=LA(i);return e!==i&&(Jm.set(i,e),Zp.set(e,i)),e}const ep=i=>Zp.get(i);function PA(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=wa(c);return a&&c.addEventListener("upgradeneeded",p=>{a(wa(c.result),p.oldVersion,p.newVersion,wa(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const UA=["get","getKey","getAll","getAllKeys","count"],zA=["put","add","delete","clear"],tp=new Map;function z_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=zA.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||UA.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return tp.set(e,u),u}kA(i=>({...i,get:(e,n,a)=>z_(e,n)||i.get(e,n,a),has:(e,n)=>!!z_(e,n)||i.has(e,n)}));class BA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qA(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function qA(i){return i.getComponent()?.type==="VERSION"}const gp="@firebase/app",B_="0.14.6";const Nr=new Wp("@firebase/app"),HA="@firebase/app-compat",FA="@firebase/analytics-compat",GA="@firebase/analytics",YA="@firebase/app-check-compat",QA="@firebase/app-check",$A="@firebase/auth",KA="@firebase/auth-compat",XA="@firebase/database",WA="@firebase/data-connect",ZA="@firebase/database-compat",JA="@firebase/functions",eR="@firebase/functions-compat",tR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",rR="@firebase/messaging-compat",aR="@firebase/performance",sR="@firebase/performance-compat",oR="@firebase/remote-config",lR="@firebase/remote-config-compat",uR="@firebase/storage",cR="@firebase/storage-compat",hR="@firebase/firestore",dR="@firebase/ai",fR="@firebase/firestore-compat",mR="firebase",pR="12.6.0";const yp="[DEFAULT]",gR={[gp]:"fire-core",[HA]:"fire-core-compat",[GA]:"fire-analytics",[FA]:"fire-analytics-compat",[QA]:"fire-app-check",[YA]:"fire-app-check-compat",[$A]:"fire-auth",[KA]:"fire-auth-compat",[XA]:"fire-rtdb",[WA]:"fire-data-connect",[ZA]:"fire-rtdb-compat",[JA]:"fire-fn",[eR]:"fire-fn-compat",[tR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[rR]:"fire-fcm-compat",[aR]:"fire-perf",[sR]:"fire-perf-compat",[oR]:"fire-rc",[lR]:"fire-rc-compat",[uR]:"fire-gcs",[cR]:"fire-gcs-compat",[hR]:"fire-fst",[fR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};const Hh=new Map,yR=new Map,vp=new Map;function q_(i,e){try{i.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Oo(i){const e=i.name;if(vp.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,i);for(const n of Hh.values())q_(n,i);for(const n of yR.values())q_(n,i);return!0}function Jp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function vi(i){return i==null?!1:i.settings!==void 0}const vR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new Mu("app","Firebase",vR);class _R{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}const Qo=pR;function $b(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a={name:yp,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(n||(n=qb()),!n)throw Sa.create("no-options");const u=Hh.get(o);if(u){if(Ss(n,u.options)&&Ss(a,u.config))return u;throw Sa.create("duplicate-app",{appName:o})}const c=new xA(o);for(const p of vp.values())c.addComponent(p);const m=new _R(n,a,c);return Hh.set(o,m),m}function Kb(i=yp){const e=Hh.get(i);if(!e&&i===yp&&qb())return $b();if(!e)throw Sa.create("no-app",{appName:i});return e}function xa(i,e,n){let a=gR[i]??i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${a}" with version "${e}":`];o&&c.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(c.join(" "));return}Oo(new xs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const bR="firebase-heartbeat-database",ER=1,vu="firebase-heartbeat-store";let np=null;function Xb(){return np||(np=PA(bR,ER,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Sa.create("idb-open",{originalErrorMessage:i.message})})),np}async function TR(i){try{const n=(await Xb()).transaction(vu),a=await n.objectStore(vu).get(Wb(i));return await n.done,a}catch(e){if(e instanceof kr)Nr.warn(e.message);else{const n=Sa.create("idb-get",{originalErrorMessage:e?.message});Nr.warn(n.message)}}}async function H_(i,e){try{const a=(await Xb()).transaction(vu,"readwrite");await a.objectStore(vu).put(e,Wb(i)),await a.done}catch(n){if(n instanceof kr)Nr.warn(n.message);else{const a=Sa.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(a.message)}}}function Wb(i){return`${i.name}!${i.options.appId}`}const wR=1024,SR=30;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RR(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=F_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>SR){const o=CR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=F_(),{heartbeatsToSend:n,unsentEntries:a}=AR(this._heartbeatsCache.heartbeats),o=qh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Nr.warn(e),""}}}function F_(){return new Date().toISOString().substring(0,10)}function AR(i,e=wR){const n=[];let a=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),G_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class RR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fA()?mA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return H_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function G_(i){return qh(JSON.stringify({version:2,heartbeats:i})).length}function CR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function NR(i){Oo(new xs("platform-logger",e=>new BA(e),"PRIVATE")),Oo(new xs("heartbeat",e=>new xR(e),"PRIVATE")),xa(gp,B_,i),xa(gp,B_,"esm2020"),xa("fire-js","")}NR("");var IR="firebase",DR="12.7.0";xa(IR,DR,"app");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Aa,Zb;(function(){var i;function e(C,A){function I(){}I.prototype=A.prototype,C.F=A.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,L){for(var D=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)D[Ie-2]=arguments[Ie];return A.prototype[O].apply(V,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],D;D=A+(L^I&(O^L))+V[0]+3614090360&4294967295,A=I+(D<<7&4294967295|D>>>25),D=L+(O^A&(I^O))+V[1]+3905402710&4294967295,L=A+(D<<12&4294967295|D>>>20),D=O+(I^L&(A^I))+V[2]+606105819&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(A^O&(L^A))+V[3]+3250441966&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(L^I&(O^L))+V[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=L+(O^A&(I^O))+V[5]+1200080426&4294967295,L=A+(D<<12&4294967295|D>>>20),D=O+(I^L&(A^I))+V[6]+2821735955&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(A^O&(L^A))+V[7]+4249261313&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(L^I&(O^L))+V[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=L+(O^A&(I^O))+V[9]+2336552879&4294967295,L=A+(D<<12&4294967295|D>>>20),D=O+(I^L&(A^I))+V[10]+4294925233&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(A^O&(L^A))+V[11]+2304563134&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(L^I&(O^L))+V[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=L+(O^A&(I^O))+V[13]+4254626195&4294967295,L=A+(D<<12&4294967295|D>>>20),D=O+(I^L&(A^I))+V[14]+2792965006&4294967295,O=L+(D<<17&4294967295|D>>>15),D=I+(A^O&(L^A))+V[15]+1236535329&4294967295,I=O+(D<<22&4294967295|D>>>10),D=A+(O^L&(I^O))+V[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(A^I))+V[6]+3225465664&4294967295,L=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(L^A))+V[11]+643717713&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^A&(O^L))+V[0]+3921069994&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^L&(I^O))+V[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(A^I))+V[10]+38016083&4294967295,L=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(L^A))+V[15]+3634488961&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^A&(O^L))+V[4]+3889429448&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^L&(I^O))+V[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(A^I))+V[14]+3275163606&4294967295,L=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(L^A))+V[3]+4107603335&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^A&(O^L))+V[8]+1163531501&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(O^L&(I^O))+V[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=L+(I^O&(A^I))+V[2]+4243563512&4294967295,L=A+(D<<9&4294967295|D>>>23),D=O+(A^I&(L^A))+V[7]+1735328473&4294967295,O=L+(D<<14&4294967295|D>>>18),D=I+(L^A&(O^L))+V[12]+2368359562&4294967295,I=O+(D<<20&4294967295|D>>>12),D=A+(I^O^L)+V[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=L+(A^I^O)+V[8]+2272392833&4294967295,L=A+(D<<11&4294967295|D>>>21),D=O+(L^A^I)+V[11]+1839030562&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^A)+V[14]+4259657740&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^L)+V[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=L+(A^I^O)+V[4]+1272893353&4294967295,L=A+(D<<11&4294967295|D>>>21),D=O+(L^A^I)+V[7]+4139469664&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^A)+V[10]+3200236656&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^L)+V[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=L+(A^I^O)+V[0]+3936430074&4294967295,L=A+(D<<11&4294967295|D>>>21),D=O+(L^A^I)+V[3]+3572445317&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^A)+V[6]+76029189&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(I^O^L)+V[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=L+(A^I^O)+V[12]+3873151461&4294967295,L=A+(D<<11&4294967295|D>>>21),D=O+(L^A^I)+V[15]+530742520&4294967295,O=L+(D<<16&4294967295|D>>>16),D=I+(O^L^A)+V[2]+3299628645&4294967295,I=O+(D<<23&4294967295|D>>>9),D=A+(O^(I|~L))+V[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=L+(I^(A|~O))+V[7]+1126891415&4294967295,L=A+(D<<10&4294967295|D>>>22),D=O+(A^(L|~I))+V[14]+2878612391&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~A))+V[5]+4237533241&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~L))+V[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=L+(I^(A|~O))+V[3]+2399980690&4294967295,L=A+(D<<10&4294967295|D>>>22),D=O+(A^(L|~I))+V[10]+4293915773&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~A))+V[1]+2240044497&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~L))+V[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=L+(I^(A|~O))+V[15]+4264355552&4294967295,L=A+(D<<10&4294967295|D>>>22),D=O+(A^(L|~I))+V[6]+2734768916&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~A))+V[13]+1309151649&4294967295,I=O+(D<<21&4294967295|D>>>11),D=A+(O^(I|~L))+V[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=L+(I^(A|~O))+V[11]+3174756917&4294967295,L=A+(D<<10&4294967295|D>>>22),D=O+(A^(L|~I))+V[2]+718787259&4294967295,O=L+(D<<15&4294967295|D>>>17),D=I+(L^(O|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const I=A-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=I;)o(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(V[O++]=C.charCodeAt(L++),O==this.blockSize){o(this,V),O=0;break}}else for(;L<A;)if(V[O++]=C[L++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[A++]=this.g[I]>>>V&255;return C};function u(C,A){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=A(C)}function c(C,A){this.h=A;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;V&&L==A||(I[O]=L,V=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(A){return new c([A|0],A<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return B(g(-C));const A=[];let I=1;for(let V=0;C>=I;V++)A[V]=C/I|0,I*=4294967296;return new c(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return B(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let V=T;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const D=parseInt(C.substring(L,L+O),A);O<8?(O=g(Math.pow(A,O)),V=V.j(O).add(g(D))):(V=V.j(I),V=V.add(g(D)))}return V}var T=p(0),x=p(1),N=p(16777216);i=c.prototype,i.m=function(){if(G(this))return-B(this).m();let C=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(G(this))return"-"+B(this).toString(C);const A=g(Math.pow(C,6));var I=this;let V="";for(;;){const O=ee(I,A).g;I=K(I,O.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,U(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function G(C){return C.h==-1}i.l=function(C){return C=K(this,C),G(C)?-1:U(C)?0:1};function B(C){const A=C.g.length,I=[];for(let V=0;V<A;V++)I[V]=~C.g[V];return new c(I,~C.h).add(x)}i.abs=function(){return G(this)?B(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=A;O++){let L=V+(this.i(O)&65535)+(C.i(O)&65535),D=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=D>>>16,L&=65535,D&=65535,I[O]=D<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function K(C,A){return C.add(B(A))}i.j=function(C){if(U(this)||U(C))return T;if(G(this))return G(C)?B(this).j(B(C)):B(B(this).j(C));if(G(C))return B(this.j(B(C)));if(this.l(N)<0&&C.l(N)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const L=this.i(V)>>>16,D=this.i(V)&65535,Ie=C.i(O)>>>16,gt=C.i(O)&65535;I[2*V+2*O]+=D*gt,q(I,2*V+2*O),I[2*V+2*O+1]+=L*gt,q(I,2*V+2*O+1),I[2*V+2*O+1]+=D*Ie,q(I,2*V+2*O+1),I[2*V+2*O+2]+=L*Ie,q(I,2*V+2*O+2)}for(C=0;C<A;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=A;C<2*A;C++)I[C]=0;return new c(I,0)};function q(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function J(C,A){this.g=C,this.h=A}function ee(C,A){if(U(A))throw Error("division by zero");if(U(C))return new J(T,T);if(G(C))return A=ee(B(C),A),new J(B(A.g),B(A.h));if(G(A))return A=ee(C,B(A)),new J(B(A.g),A.h);if(C.g.length>30){if(G(C)||G(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=A;V.l(C)<=0;)I=oe(I),V=oe(V);var O=fe(I,1),L=fe(V,1);for(V=fe(V,2),I=fe(I,2);!U(V);){var D=L.add(V);D.l(C)<=0&&(O=O.add(I),L=D),V=fe(V,1),I=fe(I,1)}return A=K(C,O.j(A)),new J(O,A)}for(O=T;C.l(A)>=0;){for(I=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(I),D=L.j(A);G(D)||D.l(C)>0;)I-=V,L=g(I),D=L.j(A);U(L)&&(L=x),O=O.add(L),C=K(C,D)}return new J(O,C)}i.B=function(C){return ee(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&C.i(V);return new c(I,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|C.i(V);return new c(I,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^C.i(V);return new c(I,this.h^C.h)};function oe(C){const A=C.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(I,C.h)}function fe(C,A){const I=A>>5;A%=32;const V=C.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=A>0?C.i(L+I)>>>A|C.i(L+I+1)<<32-A:C.i(L+I);return new c(O,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Zb=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=b,Aa=c}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jb,ou,eE,Ih,_p,tE,nE,iE;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(h,y){if(y)e:{var E=a;h=h.split(".");for(var R=0;R<h.length-1;R++){var z=h[R];if(!(z in E))break e;E=E[z]}h=h[h.length-1],R=E[h],y=y(R),y!=R&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function b(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,z,Q){for(var le=Array(arguments.length-2),De=2;De<arguments.length;De++)le[De-2]=arguments[De];return y.prototype[z].apply(R,le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const y=h.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=h[R];return E}return[]}function U(h,y){for(let R=1;R<arguments.length;R++){const z=arguments[R];var E=typeof z;if(E=E!="object"?E:z?Array.isArray(z)?"array":E:"null",E=="array"||E=="object"&&typeof z.length=="number"){E=h.length||0;const Q=z.length||0;h.length=E+Q;for(let le=0;le<Q;le++)h[E+le]=z[le]}else h.push(z)}}class G{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(h){c.setTimeout(()=>{throw h},0)}function K(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class q{constructor(){this.h=this.g=null}add(y,E){const R=J.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var J=new G(()=>new ee,h=>h.reset());class ee{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,C=new q,A=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(I)}};function I(){for(var h;h=K();){try{h.h.call(h.g)}catch(E){B(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function Ie(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Ie,O),Ie.prototype.init=function(h,y){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ie.Z.h.call(this)},Ie.prototype.h=function(){Ie.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ue(h,y,E,R,z){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=z,this.key=++X,this.da=this.fa=!1}function se(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,y,E){for(const R in h)y.call(E,h[R],R,h)}function _e(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(h,y){let E,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(E in R)h[E]=R[E];for(let Q=0;Q<W.length;Q++)E=W[Q],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function he(h){this.src=h,this.g={},this.h=0}he.prototype.add=function(h,y,E,R,z){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const le=ce(h,y,R,z);return le>-1?(y=h[le],E||(y.fa=!1)):(y=new ue(y,this.src,Q,!!R,z),y.fa=E,h.push(y)),y};function Ee(h,y){const E=y.type;if(E in h.g){var R=h.g[E],z=Array.prototype.indexOf.call(R,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(R,z,1),Q&&(se(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ce(h,y,E,R){for(let z=0;z<h.length;++z){const Q=h[z];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==R)return z}return-1}var be="closure_lm_"+(Math.random()*1e6|0),We={};function Ge(h,y,E,R,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ge(h,y[Q],E,R,z);return null}return E=ot(E),h&&h[gt]?h.J(y,E,m(R)?!!R.capture:!1,z):Ut(h,y,E,!1,R,z)}function Ut(h,y,E,R,z,Q){if(!y)throw Error("Invalid event type");const le=m(z)?!!z.capture:!!z;let De=Ht(h);if(De||(h[be]=De=new he(h)),E=De.add(y,E,R,le,Q),E.proxy)return E;if(R=Bn(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)L||(z=le),z===void 0&&(z=!1),h.addEventListener(y.toString(),R,z);else if(h.attachEvent)h.attachEvent(Zt(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bn(){function h(E){return y.call(h.src,h.listener,E)}const y=xi;return h}function mn(h,y,E,R,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)mn(h,y[Q],E,R,z);else R=m(R)?!!R.capture:!!R,E=ot(E),h&&h[gt]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],E=ce(y,E,R,z),E>-1&&(se(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=Ht(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ce(y,E,R,z)),(E=h>-1?y[h]:null)&&ri(E))}function ri(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[gt])Ee(y.i,h);else{var E=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(E,R,h.capture):y.detachEvent?y.detachEvent(Zt(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Ht(y))?(Ee(E,h),E.h==0&&(E.src=null,y[be]=null)):se(h)}}}function Zt(h){return h in We?We[h]:We[h]="on"+h}function xi(h,y){if(h.da)h=!0;else{y=new Ie(y,this);const E=h.listener,R=h.ha||h.src;h.fa&&ri(h),h=E.call(R,y)}return h}function Ht(h){return h=h[be],h instanceof he?h:null}var Ft="__closure_events_fn_"+(Math.random()*1e9>>>0);function ot(h){return typeof h=="function"?h:(h[Ft]||(h[Ft]=function(y){return h.handleEvent(y)}),h[Ft])}function lt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}T(lt,V),lt.prototype[gt]=!0,lt.prototype.removeEventListener=function(h,y,E,R){mn(this,h,y,E,R)};function zt(h,y){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(R,h),ae(y,z)}z=!0;let Q,le;if(E)for(le=E.length-1;le>=0;le--)Q=y.g=E[le],z=jr(Q,R,!0,y)&&z;if(Q=y.g=h,z=jr(Q,R,!0,y)&&z,z=jr(Q,R,!1,y)&&z,E)for(le=0;le<E.length;le++)Q=y.g=E[le],z=jr(Q,R,!1,y)&&z}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let R=0;R<E.length;R++)se(E[R]);delete h.g[y],h.h--}}this.G=null},lt.prototype.J=function(h,y,E,R){return this.i.add(String(h),y,!1,E,R)},lt.prototype.K=function(h,y,E,R){return this.i.add(String(h),y,!0,E,R)};function jr(h,y,E,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const le=y[Q];if(le&&!le.da&&le.capture==E){const De=le.listener,wt=le.ha||le.src;le.fa&&Ee(h.i,le),z=De.call(wt,R)!==!1&&z}}return z&&!R.defaultPrevented}function Fd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Fu(h){h.g=Fd(()=>{h.g=null,h.i&&(h.i=!1,Fu(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class pn extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Fu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(h){V.call(this),this.h=h,this.g={}}T(Ba,V);var el=[];function tl(h){xe(h.g,function(y,E){this.g.hasOwnProperty(E)&&ri(y)},h),h.g={}}Ba.prototype.N=function(){Ba.Z.N.call(this),tl(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=c.JSON.stringify,Gd=c.JSON.parse,Gu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Yu(){}function Qu(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jt(){O.call(this,"d")}T(Jt,O);function qn(){O.call(this,"c")}T(qn,O);var Tt={},$u=null;function ks(){return $u=$u||new lt}Tt.Ia="serverreachability";function Ku(h){O.call(this,Tt.Ia,h)}T(Ku,O);function Ai(h){const y=ks();zt(y,new Ku(y))}Tt.STAT_EVENT="statevent";function qa(h,y){O.call(this,Tt.STAT_EVENT,h),this.stat=y}T(qa,O);function Rt(h){const y=ks();zt(y,new qa(y,h))}Tt.Ja="timingevent";function Ri(h,y){O.call(this,Tt.Ja,h),this.size=y}T(Ri,O);function Ci(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Yd(h,y,E,R,z,Q){h.info(function(){if(h.g)if(Q){var le="",De=Q.split("&");for(let $e=0;$e<De.length;$e++){var wt=De[$e].split("=");if(wt.length>1){const dt=wt[0];wt=wt[1];const Yn=dt.split("_");le=Yn.length>=2&&Yn[1]=="type"?le+(dt+"="+wt+"&"):le+(dt+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+y+`
`+E+`
`+le})}function Xu(h,y,E,R,z,Q,le){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+y+`
`+E+`
`+Q+" "+le})}function Ni(h,y,E,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Qd(h,E)+(R?" "+R:"")})}function Ha(h,y){h.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function Qd(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var z=R[0];if(z!="noop"&&z!="stop"&&z!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return Lr(Q)}catch{return y}}var Fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},il;function Ga(){}T(Ga,Yu),Ga.prototype.g=function(){return new XMLHttpRequest},il=new Ga;function ir(h){return encodeURIComponent(String(h))}function Wu(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function oi(h,y,E,R){this.j=h,this.i=y,this.l=E,this.S=R||1,this.V=new Ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ct={},Gt={};function Ii(h,y,E){h.M=1,h.A=Ya(It(y)),h.u=E,h.R=!0,js(h,null)}function js(h,y){h.F=Date.now(),Di(h),h.B=It(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),zs(E.i,"t",R),h.C=0,E=h.j.L,h.h=new li,h.g=dc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new pn(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,R=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(el[0]=z.toString()),z=el);for(let Q=0;Q<z.length;Q++){const le=Ge(E,z[Q],R||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ai(),Yd(h.i,h.v,h.B,h.l,h.S,h.u)}oi.prototype.ba=function(h){h=h.target;const y=this.O;y&&hi(h)==3?y.j():this.Y(h)},oi.prototype.Y=function(h){try{if(h==this.g)e:{const De=hi(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||De!=4||wt==7||(wt==8||$e<=0?Ai(3):Ai(2)),Mi(this);var y=this.g.ca();this.X=y;var E=$d(this);if(this.o=y==200,Xu(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,z=this.g;if((R=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var Q=R;break t}}Q=null}if(h=Q)Ni(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Rt(12),Nn(this),Hn(this);break e}}if(this.R){h=!0;let dt;for(;!this.K&&this.C<E.length;)if(dt=Ju(this,E),dt==Gt){De==4&&(this.m=4,Rt(14),h=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,Rt(15),Ni(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Ni(this.i,this.l,dt,null),Oi(this,dt);if(Zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ni(this.i,this.l,E,"[Invalid Chunked Response]"),Nn(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),vl(le),le.P=!0,Rt(11))}}else Ni(this.i,this.l,E,null),Oi(this,E);De==4&&Nn(this),this.o&&!this.K&&(De==4?lc(this.j,this):(this.o=!1,Di(this)))}else ar(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Nn(this),Hn(this)}}}catch{}};function $d(h){if(!Zu(h))return h.g.la();const y=en(h.g);if(y==="")return"";let E="";const R=y.length,z=hi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Nn(h),Hn(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)h.h.h=!0,E+=h.h.i.decode(y[Q],{stream:!(z&&Q==R-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Zu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ju(h,y){var E=h.C,R=y.indexOf(`
`,E);return R==-1?Gt:(E=Number(y.substring(E,R)),isNaN(E)?Ct:(R+=1,R+E>y.length?Gt:(y=y.slice(R,R+E),h.C=R+E,y)))}oi.prototype.cancel=function(){this.K=!0,Nn(this)};function Di(h){h.T=Date.now()+h.H,Ls(h,h.H)}function Ls(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ci(g(h.aa,h),y)}function Mi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}oi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ha(this.i,this.B),this.M!=2&&(Ai(),Rt(17)),Nn(this),this.m=2,Hn(this)):Ls(this,this.T-h)};function Hn(h){h.j.I==0||h.K||lc(h.j,h)}function Nn(h){Mi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,tl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Oi(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||ki(E.h,h))){if(!h.L&&ki(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Gs(E),Gr(E);else break e;Ja(E),Rt(18)}}else E.xa=z[1],0<E.xa-E.K&&z[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ci(g(E.Va,E),6e3));Vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bi(E,11)}else if((h.L||E.g==h)&&Gs(E),!D(y))for(z=E.Ba.g.parse(y),y=0;y<z.length;y++){let $e=z[y];const dt=$e[0];if(!(dt<=E.K))if(E.K=dt,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const Yn=$e[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const qi=$e[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const di=$e[5];di!=null&&typeof di=="number"&&di>0&&(R=1.5*di,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const fi=h.g;if(fi){const es=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var Q=R.h;Q.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(sl(Q,Q.h),Q.h=null))}if(R.G){const Ys=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(R.wa=Ys,Ze(R.J,R.G,Ys))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var le=h;if(R.na=hc(R,R.L?R.ba:null,R.W),le.L){ol(R.h,le);var De=le,wt=R.O;wt&&(De.H=wt),De.D&&(Mi(De),Di(De)),R.g=le}else sc(R);E.i.length>0&&zi(E)}else $e[0]!="stop"&&$e[0]!="close"||Bi(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Bi(E,7):gl(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}Ai(4)}catch{}}var Nt=class{constructor(h,y){this.g=h,this.map=y}};function rl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function al(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function ki(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function sl(h,y){h.g?h.g.add(y):h.h=y}function ol(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}rl.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ll(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return N(h.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let z,Q=null;R>=0?(z=h[E].substring(0,R),Q=h[E].substring(R+1)):z=h[E],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function In(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof In?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.u),this.h=h.h,ul(this,rc(h.i)),this.m=h.m):h&&(y=String(h).match(ec))?(this.l=!1,Yt(this,y[1]||"",!0),this.o=ji(y[2]||""),this.g=ji(y[3]||"",!0),Pr(this,y[4]),this.h=ji(y[5]||"",!0),ul(this,y[6]||"",!0),this.m=ji(y[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}In.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Qa(y,Us,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Qa(y,Us,!0),"@"),h.push(ir(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qa(E,E.charAt(0)=="/"?cl:tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qa(E,nc)),h.join("")},In.prototype.resolve=function(h){const y=It(this);let E=!!h.j;E?Yt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var R=h.h;if(E)Pr(y,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var z=y.h.lastIndexOf("/");z!=-1&&(R=y.h.slice(0,z+1)+R)}if(z=R,z==".."||z==".")R="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){R=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let le=0;le<z.length;){const De=z[le++];De=="."?R&&le==z.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&le==z.length&&Q.push("")):(Q.push(De),R=!0)}R=Q.join("/")}else R=z}return E?y.h=R:E=h.i.toString()!=="",E?ul(y,rc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function It(h){return new In(h)}function Yt(h,y,E){h.j=E?ji(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ul(h,y,E){y instanceof zr?(h.i=y,Bs(h.i,h.l)):(E||(y=Qa(y,Ur)),h.i=new zr(y,h.l))}function Ze(h,y,E){h.i.set(y,E)}function Ya(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ji(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qa(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,_n),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function _n(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Us=/[#\/\?@]/g,tc=/[#\?:]/g,cl=/[#\?]/g,Ur=/[#\?@]/g,nc=/#/g;function zr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function bn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ps(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=zr.prototype,i.add=function(h,y){bn(this),this.i=null,h=Br(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ic(h,y){bn(h),y=Br(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function hl(h,y){return bn(h),y=Br(h,y),h.g.has(y)}i.forEach=function(h,y){bn(this),this.g.forEach(function(E,R){E.forEach(function(z){h.call(y,z,R,this)},this)},this)};function dl(h,y){bn(h);let E=[];if(typeof y=="string")hl(h,y)&&(E=E.concat(h.g.get(Br(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return bn(this),this.i=null,h=Br(this,h),hl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=dl(this,h),h.length>0?String(h[0]):y):y};function zs(h,y,E){ic(h,y),E.length>0&&(h.i=null,h.g.set(Br(h,y),N(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const z=ir(E);E=dl(this,E);for(let Q=0;Q<E.length;Q++){let le=z;E[Q]!==""&&(le+="="+ir(E[Q])),h.push(le)}}return this.i=h.join("&")};function rc(h){const y=new zr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Br(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Bs(h,y){y&&!h.j&&(bn(h),h.i=null,h.g.forEach(function(E,R){const z=R.toLowerCase();R!=z&&(ic(this,R),zs(this,z,E))},h)),h.j=y}function ui(h,y){const E=new si;if(c.Image){const R=new Image;R.onload=b(Fn,E,"TestLoadImage: loaded",!0,y,R),R.onerror=b(Fn,E,"TestLoadImage: error",!1,y,R),R.onabort=b(Fn,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=b(Fn,E,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function fl(h,y){const E=new si,R=new AbortController,z=setTimeout(()=>{R.abort(),Fn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(Q=>{clearTimeout(z),Q.ok?Fn(E,"TestPingServer: ok",!0,y):Fn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Fn(E,"TestPingServer: error",!1,y)})}function Fn(h,y,E,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(E)}catch{}}function qr(){this.g=new Gu}function Li(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Li,Yu),Li.prototype.g=function(){return new $a(this.i,this.h)};function $a(h,y){lt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T($a,lt),i=$a.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ci(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qs(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function qs(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Hr(this):ci(this),this.readyState==3&&qs(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Hr(this))},i.Na=function(h){this.g&&(this.response=h,Hr(this))},i.ga=function(){this.g&&Hr(this)};function Hr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ci(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function ci(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Gn(h){let y="";return xe(h,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Ka(h,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Gn(E),typeof h=="string"?E!=null&&ir(E):Ze(h,y,E))}function nt(h){lt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(nt,lt);var Pi=/^https?$/i,ml=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():il.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Xa(this,Q);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)E.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ml,y,void 0)>=0)||R||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of E)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Xa(this,Q)}};function Xa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,pl(h),rr(h)}function pl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},i.Xa=function(){Wa(this)};function Wa(h){if(h.h&&typeof u<"u"){if(h.v&&hi(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),hi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=Q===0){let le=String(h.D).match(ec)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),R=!Pi.test(le?le.toLowerCase():"")}E=R}if(E)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var z=hi(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",pl(h)}}finally{rr(h)}}}}function rr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||zt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function hi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Gd(y)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(h){const y={};h=(h.g&&hi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=Wu(h[R]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[z]||[];y[z]=Q,Q.push(E)}_e(y,function(R){return R.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Fr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,h),this.Za=Ui("retryDelaySeedMs",1e4,h),this.Ta=Ui("forwardChannelMaxRetries",2,h),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new rl(h&&h.concurrentRequestLimit),this.Ba=new qr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Fr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,R){Rt(0),this.W=h,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=hc(this,null,this.W),zi(this)};function gl(h){if(Hs(h),h.I==3){var y=h.V++,E=It(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),Za(h,E),y=new oi(h,h.j,y),y.M=2,y.A=Ya(It(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=dc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Di(y)}cc(h)}function Gr(h){h.g&&(vl(h),h.g.cancel(),h.g=null)}function Hs(h){Gr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Gs(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function zi(h){if(!al(h.h)&&!h.m){h.m=!0;var y=h.Ea;oe||A(),fe||(oe(),fe=!0),C.add(y,h),h.D=0}}function Fs(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ci(g(h.Ea,h,y),uc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new oi(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ae(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ac(this,z,y),E=It(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),Za(this,E),Q&&(this.R?y="headers="+ir(Gn(Q))+"&"+y:this.u&&Ka(E,this.u,Q)),sl(this.h,z),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),z.U=!0,Ii(z,E,null)):Ii(z,E,y),this.I=2}}else this.I==3&&(h?yl(this,h):this.i.length==0||al(this.h)||yl(this))};function yl(h,y){var E;y?E=y.l:E=h.V++;const R=It(h.J);Ze(R,"SID",h.M),Ze(R,"RID",E),Ze(R,"AID",h.K),Za(h,R),h.u&&h.o&&Ka(R,h.u,h.o),E=new oi(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=ac(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,E),Ii(E,R,y)}function Za(h,y){h.H&&xe(h.H,function(E,R){Ze(y,R,E)}),h.l&&xe({},function(E,R){Ze(y,R,E)})}function ac(h,y,E){E=Math.min(h.i.length,E);const R=h.l?g(h.l.Ka,h.l,h):null;e:{var z=h.i;let De=-1;for(;;){const wt=["count="+E];De==-1?E>0?(De=z[0].g,wt.push("ofs="+De)):De=0:wt.push("ofs="+De);let $e=!0;for(let dt=0;dt<E;dt++){var Q=z[dt].g;const Yn=z[dt].map;if(Q-=De,Q<0)De=Math.max(0,z[dt].g-100),$e=!1;else try{Q="req"+Q+"_"||"";try{var le=Yn instanceof Map?Yn:Object.entries(Yn);for(const[qi,di]of le){let fi=di;m(di)&&(fi=Lr(di)),wt.push(Q+qi+"="+encodeURIComponent(fi))}}catch(qi){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),qi}}catch{R&&R(Yn)}}if($e){le=wt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),y.G=h,le}function sc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;oe||A(),fe||(oe(),fe=!0),C.add(y,h),h.A=0}}function Ja(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ci(g(h.Da,h),uc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ci(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Gr(this),oc(this))};function vl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oc(h){h.g=new oi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=It(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),Za(h,y),h.u&&h.o&&Ka(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ya(It(y)),E.u=null,E.R=!0,js(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Gr(this),Ja(this),Rt(19))};function Gs(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function lc(h,y){var E=null;if(h.g==y){Gs(h),vl(h),h.g=null;var R=2}else if(ki(h.h,y))E=y.G,ol(h.h,y),R=1;else return;if(h.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;R=ks(),zt(R,new Ri(R,E)),zi(h)}else sc(h);else if(z=y.m,z==3||z==0&&y.X>0||!(R==1&&Fs(h,y)||R==2&&Ja(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),z){case 1:Bi(h,5);break;case 4:Bi(h,10);break;case 3:Bi(h,6);break;default:Bi(h,2)}}}function uc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Bi(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),R=h.Ua;const z=!R;R=new In(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(R,"https"),Ya(R),z?ui(R.toString(),E):fl(R.toString(),E)}else Rt(2);h.I=0,h.l&&h.l.pa(y),cc(h),Hs(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function cc(h){if(h.I=0,h.ja=[],h.l){const y=ll(h.h);(y.length!=0||h.i.length!=0)&&(U(h.ja,y),U(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function hc(h,y,E){var R=E instanceof In?It(E):new In(E);if(R.g!="")y&&(R.g=y+"."+R.g),Pr(R,R.u);else{var z=c.location;R=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new In(null);R&&Yt(Q,R),y&&(Q.g=y),z&&Pr(Q,z),E&&(Q.h=E),R=Q}return E=h.G,y=h.wa,E&&y&&Ze(R,E,y),Ze(R,"VER",h.ka),Za(h,R),R}function dc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new Li({ab:E})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fc(){}i=fc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Yr(){}Yr.prototype.g=function(h,y){return new gn(h,y)};function gn(h,y){lt.call(this),this.g=new Fr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!D(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new sr(this)}T(gn,lt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){gl(this.g)},gn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Lr(h),h=E);y.i.push(new Nt(y.Ya++,h)),y.I==3&&zi(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,gn.Z.N.call(this)};function mc(h){Jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(mc,Jt);function pc(){qn.call(this),this.status=1}T(pc,qn);function sr(h){this.g=h}T(sr,fc),sr.prototype.ra=function(){zt(this.g,"a")},sr.prototype.qa=function(h){zt(this.g,new mc(h))},sr.prototype.pa=function(h){zt(this.g,new pc)},sr.prototype.oa=function(){zt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,iE=function(){return new Yr},nE=function(){return ks()},tE=Tt,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,Ih=Fa,nl.COMPLETE="complete",eE=nl,Qu.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",lt.prototype.listen=lt.prototype.J,ou=Qu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Jb=nt}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const Q_="@firebase/firestore",$_="4.9.3";class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let $o="12.7.0";const As=new Wp("@firebase/firestore");function So(){return As.logLevel}function me(i,...e){if(As.logLevel<=Pe.DEBUG){const n=e.map(eg);As.debug(`Firestore (${$o}): ${i}`,...n)}}function Ir(i,...e){if(As.logLevel<=Pe.ERROR){const n=e.map(eg);As.error(`Firestore (${$o}): ${i}`,...n)}}function Vo(i,...e){if(As.logLevel<=Pe.WARN){const n=e.map(eg);As.warn(`Firestore (${$o}): ${i}`,...n)}}function eg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,rE(i,a,n)}function rE(i,e,n){let a=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Ir(a),new Error(a)}function Xe(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||rE(e,o,a)}function Ne(i,e){return i}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class aE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class OR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VR{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Rr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Rr)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new aE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class kR{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jR{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new kR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=PR(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Ue(i,e){return i<e?-1:i>e?1:0}function bp(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return ip(o)===ip(u)?Ue(o,u):ip(o)?1:-1}return Ue(i.length,e.length)}const UR=55296,zR=57343;function ip(i){const e=i.charCodeAt(0);return e>=UR&&e<=zR}function ko(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}const X_="__name__";class Qi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Qi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Qi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const a=Qi.isNumericId(e),o=Qi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Qi.extractNumericId(e).compare(Qi.extractNumericId(n)):bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Aa.fromString(e.substring(4,e.length-2))}}class ut extends Qi{construct(e,n,a){return new ut(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new ut(n)}static emptyPath(){return new ut([])}}const BR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Qi{construct(e,n,a){return new on(e,n,a)}static isValidIdentifier(e){return BR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new on([X_])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(a+=m,o++):(u(),o++)}if(u(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}function sE(i,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qR(i,e,n,a){if(e===!0&&a===!0)throw new de(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function W_(i){if(!ve.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z_(i){if(ve.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function oE(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function gd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function Cn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gd(i);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Lt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Vu(i,e){if(!oE(i))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const c=i[a];if(o&&typeof c!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}const J_=-62135596800,e1=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*e1);return new Fe(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e1}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:Lt("string",Fe._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Fe(0,0))}static max(){return new Re(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _u=-1;function HR(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new Fe(n+1,0):new Fe(n,a));return new Ia(o,ve.empty(),e)}function FR(i){return new Ia(i.readTime,i.key,_u)}class Ia{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ia(Re.min(),ve.empty(),_u)}static max(){return new Ia(Re.max(),ve.empty(),_u)}}function GR(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Ue(i.largestBatchId,e.largestBatchId))}const YR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ko(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==YR)throw i;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>a(p)))})),c=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((o=>o?re.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((b=>{c[g]=b,++m,m===u&&a(c)}),(b=>o(b)))}}))}static doWhile(e,n){return new re(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function $R(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(i){return i.name==="IndexedDbTransactionError"}class yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yd.ce=-1;const ng=-1;function vd(i){return i==null}function Fh(i){return i===0&&1/i==-1/0}function KR(i){return typeof i=="number"&&Number.isInteger(i)&&!Fh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const lE="";function XR(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=t1(e)),e=WR(i.get(n),e);return t1(e)}function WR(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case lE:n+="";break;default:n+=u}}return n}function t1(i){return i+lE+""}function n1(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function La(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function uE(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eh(this.root,e,this.comparator,!0)}}class Eh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new sn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new i1(this.data.getIterator())}getIteratorFrom(e){return new i1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class i1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new qt(on.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cE("Invalid base64 string: "+u):u}})(e);return new ln(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const ZR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=ZR.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ma(i){return typeof i=="string"?ln.fromBase64String(i):ln.fromUint8Array(i)}const hE="server_timestamp",dE="__type__",fE="__previous_value__",mE="__local_write_time__";function ig(i){return(i?.mapValue?.fields||{})[dE]?.stringValue===hE}function _d(i){const e=i.mapValue.fields[fE];return ig(e)?_d(e):e}function bu(i){const e=Da(i.mapValue.fields[mE].timestampValue);return new Fe(e.seconds,e.nanos)}class JR{constructor(e,n,a,o,u,c,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const Gh="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Gh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Gh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}const pE="__type__",eC="__max__",Th={mapValue:{}},gE="__vector__",Yh="value";function Oa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ig(i)?4:nC(i)?9007199254740991:tC(i)?10:11:Se(28295,{value:i})}function er(i,e){if(i===e)return!0;const n=Oa(i);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Da(o.timestampValue),m=Da(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ma(o.bytesValue).isEqual(Ma(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return At(o.geoPointValue.latitude)===At(u.geoPointValue.latitude)&&At(o.geoPointValue.longitude)===At(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return At(o.integerValue)===At(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=At(o.doubleValue),m=At(u.doubleValue);return c===m?Fh(c)===Fh(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return ko(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(n1(c)!==n1(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!er(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function Tu(i,e){return(i.values||[]).find((n=>er(n,e)))!==void 0}function jo(i,e){if(i===e)return 0;const n=Oa(i),a=Oa(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=At(u.integerValue||u.doubleValue),p=At(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return r1(i.timestampValue,e.timestampValue);case 4:return r1(bu(i),bu(e));case 5:return bp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Ma(u),p=Ma(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Ue(m[g],p[g]);if(b!==0)return b}return Ue(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Ue(At(u.latitude),At(c.latitude));return m!==0?m:Ue(At(u.longitude),At(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return a1(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[Yh]?.arrayValue,b=p[Yh]?.arrayValue,T=Ue(g?.values?.length||0,b?.values?.length||0);return T!==0?T:a1(g,b)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Th.mapValue&&c===Th.mapValue)return 0;if(u===Th.mapValue)return 1;if(c===Th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let T=0;T<p.length&&T<b.length;++T){const x=bp(p[T],b[T]);if(x!==0)return x;const N=jo(m[p[T]],g[b[T]]);if(N!==0)return N}return Ue(p.length,b.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function r1(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const n=Da(i),a=Da(e),o=Ue(n.seconds,a.seconds);return o!==0?o:Ue(n.nanos,a.nanos)}function a1(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=jo(n[o],a[o]);if(u)return u}return Ue(n.length,a.length)}function Lo(i){return Ep(i)}function Ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=Da(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ma(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Ep(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of a)u?u=!1:o+=",",o+=`${c}:${Ep(n.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function Dh(i){switch(Oa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_d(i);return e?16+Dh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ma(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Dh(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return La(a.fields,((u,c)=>{o+=u.length+Dh(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function s1(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Tp(i){return!!i&&"integerValue"in i}function rg(i){return!!i&&"arrayValue"in i}function o1(i){return!!i&&"nullValue"in i}function l1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Mh(i){return!!i&&"mapValue"in i}function tC(i){return(i?.mapValue?.fields||{})[pE]?.stringValue===gE}function du(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return La(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=du(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(i.arrayValue.values[n]);return e}return{...i}}function nC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eC}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=on.emptyPath(),a={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}c?a[m.lastSegment()]=du(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){La(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Rn(du(this.value))}}function yE(i){const e=[];return La(i.fields,((n,a)=>{const o=new on([n]);if(Mh(a)){const u=yE(a.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Pn(e)}class dn{constructor(e,n,a,o,u,c,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new dn(e,0,Re.min(),Re.min(),Re.min(),Rn.empty(),0)}static newFoundDocument(e,n,a,o){return new dn(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new dn(e,2,n,Re.min(),Re.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Re.min(),Re.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function u1(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(c.referenceValue),n.key):a=jo(c,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function c1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!er(i.position[n],e.position[n]))return!1;return!0}class wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function iC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class vE{}class jt extends vE{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new aC(e,n,a):n==="array-contains"?new lC(e,a):n==="in"?new uC(e,a):n==="not-in"?new cC(e,a):n==="array-contains-any"?new hC(e,a):new jt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new sC(e,a):new oC(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends vE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return _E(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _E(i){return i.op==="and"}function bE(i){return rC(i)&&_E(i)}function rC(i){for(const e of i.filters)if(e instanceof wi)return!1;return!0}function wp(i){if(i instanceof jt)return i.field.canonicalString()+i.op.toString()+Lo(i.value);if(bE(i))return i.filters.map((e=>wp(e))).join(",");{const e=i.filters.map((n=>wp(n))).join(",");return`${i.op}(${e})`}}function EE(i,e){return i instanceof jt?(function(a,o){return o instanceof jt&&a.op===o.op&&a.field.isEqual(o.field)&&er(a.value,o.value)})(i,e):i instanceof wi?(function(a,o){return o instanceof wi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,c,m)=>u&&EE(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function TE(i){return i instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(i):i instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(TE).join(" ,")+"}"})(i):"Filter"}class aC extends jt{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class sC extends jt{constructor(e,n){super(e,"in",n),this.keys=wE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class oC extends jt{constructor(e,n){super(e,"not-in",n),this.keys=wE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wE(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class lC extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&Tu(n.arrayValue,this.value)}}class uC extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class cC extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class hC extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Tu(this.value.arrayValue,a)))}}class dC{constructor(e,n=null,a=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function h1(i,e=null,n=[],a=[],o=null,u=null,c=null){return new dC(i,e,n,a,o,u,c)}function ag(i){const e=Ne(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>wp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),vd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Lo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Lo(a))).join(",")),e.Te=n}return e.Te}function sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!iC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!EE(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!c1(i.startAt,e.startAt)&&c1(i.endAt,e.endAt)}function Sp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Wo{constructor(e,n=null,a=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fC(i,e,n,a,o,u,c,m){return new Wo(i,e,n,a,o,u,c,m)}function bd(i){return new Wo(i)}function d1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function SE(i){return i.collectionGroup!==null}function fu(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new qt(on.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new wu(u,a))})),n.has(on.keyField().canonicalString())||e.Ie.push(new wu(on.keyField(),a))}return e.Ie}function Ki(i){const e=Ne(i);return e.Ee||(e.Ee=mC(e,fu(i))),e.Ee}function mC(i,e){if(i.limitType==="F")return h1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)}));const n=i.endAt?new Qh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Qh(i.startAt.position,i.startAt.inclusive):null;return h1(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function xp(i,e){const n=i.filters.concat([e]);return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Ap(i,e,n){return new Wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ed(i,e){return sg(Ki(i),Ki(e))&&i.limitType===e.limitType}function xE(i){return`${ag(Ki(i))}|lt:${i.limitType}`}function xo(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>TE(o))).join(", ")}]`),vd(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${a})`})(Ki(i))}; limitType=${i.limitType})`}function Td(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of fu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(c,m,p){const g=u1(c,m,p);return c.inclusive?g<=0:g<0})(a.startAt,fu(a),o)||a.endAt&&!(function(c,m,p){const g=u1(c,m,p);return c.inclusive?g>=0:g>0})(a.endAt,fu(a),o))})(i,e)}function pC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function AE(i){return(e,n)=>{let a=!1;for(const o of fu(i)){const u=gC(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function gC(i,e,n){const a=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?jo(p,g):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:i.dir})}}class Os{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){La(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}const yC=new yt(ve.comparator);function Dr(){return yC}const RE=new yt(ve.comparator);function lu(...i){let e=RE;for(const n of i)e=e.insert(n.key,n);return e}function CE(i){let e=RE;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function vs(){return mu()}function NE(){return mu()}function mu(){return new Os((i=>i.toString()),((i,e)=>i.isEqual(e)))}const vC=new yt(ve.comparator),_C=new qt(ve.comparator);function ze(...i){let e=_C;for(const n of i)e=e.add(n);return e}const bC=new qt(Ue);function EC(){return bC}function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fh(e)?"-0":e}}function IE(i){return{integerValue:""+i}}function TC(i,e){return KR(e)?IE(e):og(i,e)}class wd{constructor(){this._=void 0}}function wC(i,e,n){return i instanceof $h?(function(o,u){const c={fields:{[dE]:{stringValue:hE},[mE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ig(u)&&(u=_d(u)),u&&(c.fields[fE]=u),{mapValue:c}})(n,e):i instanceof Su?ME(i,e):i instanceof xu?OE(i,e):(function(o,u){const c=DE(o,u),m=f1(c)+f1(o.Ae);return Tp(c)&&Tp(o.Ae)?IE(m):og(o.serializer,m)})(i,e)}function SC(i,e,n){return i instanceof Su?ME(i,e):i instanceof xu?OE(i,e):n}function DE(i,e){return i instanceof Kh?(function(a){return Tp(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class $h extends wd{}class Su extends wd{constructor(e){super(),this.elements=e}}function ME(i,e){const n=VE(e);for(const a of i.elements)n.some((o=>er(o,a)))||n.push(a);return{arrayValue:{values:n}}}class xu extends wd{constructor(e){super(),this.elements=e}}function OE(i,e){let n=VE(e);for(const a of i.elements)n=n.filter((o=>!er(o,a)));return{arrayValue:{values:n}}}class Kh extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function f1(i){return At(i.integerValue||i.doubleValue)}function VE(i){return rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function xC(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof Su&&o instanceof Su||a instanceof xu&&o instanceof xu?ko(a.elements,o.elements,er):a instanceof Kh&&o instanceof Kh?er(a.Ae,o.Ae):a instanceof $h&&o instanceof $h})(i.transform,e.transform)}class AC{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Sd{}function kE(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new lg(i.key,ni.none()):new ku(i.key,i.data,ni.none());{const n=i.data,a=Rn.empty();let o=new qt(on.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?a.delete(u):a.set(u,c),o=o.add(u)}return new Pa(i.key,a,new Pn(o.toArray()),ni.none())}}function RC(i,e,n){i instanceof ku?(function(o,u,c){const m=o.value.clone(),p=p1(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Pa?(function(o,u,c){if(!Oh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=p1(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(jE(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function pu(i,e,n,a){return i instanceof ku?(function(u,c,m,p){if(!Oh(u.precondition,c))return m;const g=u.value.clone(),b=g1(u.fieldTransforms,p,c);return g.setAll(b),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,a):i instanceof Pa?(function(u,c,m,p){if(!Oh(u.precondition,c))return m;const g=g1(u.fieldTransforms,p,c),b=c.data;return b.setAll(jE(u)),b.setAll(g),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,a):(function(u,c,m){return Oh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function CC(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=DE(a.transform,o||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(a.field,u))}return n||null}function m1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ko(a,o,((u,c)=>xC(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ku extends Sd{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Pa extends Sd{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jE(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function p1(i,e,n){const a=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);a.set(u.field,SC(c,m,n[o]))}return a}function g1(i,e,n){const a=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);a.set(o.field,wC(u,c,e))}return a}class lg extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NC extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IC{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RC(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=NE();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=kE(c,m);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,a)=>m1(n,a)))&&ko(this.baseMutations,e.baseMutations,((n,a)=>m1(n,a)))}}class ug{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return vC})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,a[c].version);return new ug(e,n,a,o)}}class DC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class MC{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,qe;function OC(i){switch(i){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function LE(i){if(i===void 0)return Ir("GRPC error has no .code"),ne.UNKNOWN;switch(i){case kt.OK:return ne.OK;case kt.CANCELLED:return ne.CANCELLED;case kt.UNKNOWN:return ne.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ne.INTERNAL;case kt.UNAVAILABLE:return ne.UNAVAILABLE;case kt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case kt.NOT_FOUND:return ne.NOT_FOUND;case kt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case kt.ABORTED:return ne.ABORTED;case kt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case kt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:i})}}(qe=kt||(kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function VC(){return new TextEncoder}const kC=new Aa([4294967295,4294967295],0);function y1(i){const e=VC().encode(i),n=new Zb;return n.update(e),new Uint8Array(n.digest())}function v1(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Aa([n,a],0),new Aa([o,u],0)]}class cg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new uu(`Invalid padding: ${n}`);if(a<0)throw new uu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new uu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Aa.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Aa.fromNumber(a)));return o.compare(kC)===1&&(o=new Aa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=y1(e),[a,o]=v1(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);if(!this.we(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new cg(u,o,n);return a.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=y1(e),[a,o]=v1(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(a,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xd{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new xd(Re.min(),o,new yt(Ue),Dr(),ze())}}class ju{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new ju(a,n,ze(),ze(),ze())}}class Vh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class PE{constructor(e,n){this.targetId=e,this.Ce=n}}class UE{constructor(e,n,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class _1{constructor(){this.ve=0,this.Fe=b1(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),a=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new ju(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=b1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class jC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=wh(),this.He=wh(),this.Ye=new yt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Sp(u))if(a===0){const c=new ve(u.path);this.et(n,c,dn.newNoDocument(c,Re.min()))}else Xe(a===1,20013,{expectedCount:a});else{const c=this._t(n);if(c!==a){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Ma(a).toUint8Array()}catch(p){if(p instanceof cE)return Vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new cg(c,o,u)}catch(p){return Vo(p instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&Sp(m.target)){const p=new ve(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,dn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let a=ze();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new xd(e,n,this.Ye,this.je,a);return this.je=Dr(),this.Je=wh(),this.He=wh(),this.Ye=new yt(Ue),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new yt(ve.comparator)}function b1(){return new yt(ve.comparator)}const LC={asc:"ASCENDING",desc:"DESCENDING"},PC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UC={and:"AND",or:"OR"};class zC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(i,e){return i.useProto3Json||vd(e)?e:{value:e}}function Xh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function BC(i,e){return Xh(i,e.toTimestamp())}function Xi(i){return Xe(!!i,49232),Re.fromTimestamp((function(n){const a=Da(n);return new Fe(a.seconds,a.nanos)})(i))}function hg(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const n=(function(o){return new ut(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function BE(i){const e=ut.fromString(i);return Xe(YE(e),10190,{key:e.toString()}),e}function Np(i,e){return hg(i.databaseId,e.path)}function rp(i,e){const n=BE(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(HE(n))}function qE(i,e){return hg(i.databaseId,e)}function qC(i){const e=BE(i);return e.length===4?ut.emptyPath():HE(e)}function Ip(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function HE(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function E1(i,e,n){return{name:Np(i,e),fields:n.value.mapValue.fields}}function HC(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,b){return g.useProto3Json?(Xe(b===void 0||typeof b=="string",58123),ln.fromBase64String(b||"")):(Xe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),ln.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const b=g.code===void 0?ne.UNKNOWN:LE(g.code);return new de(b,g.message||"")})(c);n=new UE(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=rp(i,a.document.name),u=Xi(a.document.updateTime),c=a.document.createTime?Xi(a.document.createTime):Re.min(),m=new Rn({mapValue:{fields:a.document.fields}}),p=dn.newFoundDocument(o,u,c,m),g=a.targetIds||[],b=a.removedTargetIds||[];n=new Vh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=rp(i,a.document),u=a.readTime?Xi(a.readTime):Re.min(),c=dn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Vh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=rp(i,a.document),u=a.removedTargetIds||[];n=new Vh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,c=new MC(o,u),m=a.targetId;n=new PE(m,c)}}return n}function FC(i,e){let n;if(e instanceof ku)n={update:E1(i,e.key,e.value)};else if(e instanceof lg)n={delete:Np(i,e.key)};else if(e instanceof Pa)n={update:E1(i,e.key,e.data),updateMask:JC(e.fieldMask)};else{if(!(e instanceof NC))return Se(16599,{Vt:e.type});n={verify:Np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,c){const m=c.transform;if(m instanceof $h)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Kh)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:BC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function GC(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?Xi(o.updateTime):Xi(u);return c.isEqual(Re.min())&&(c=Xi(u)),new AC(c,o.transformResults||[])})(n,e)))):[]}function YC(i,e){return{documents:[qE(i,e.path)]}}function QC(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=qE(i,o);const u=(function(g){if(g.length!==0)return GE(wi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((b=>(function(x){return{field:Ao(x.field),direction:XC(x.dir)}})(b)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Rp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function $C(i){let e=qC(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Xe(a===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const x=FE(T);return x instanceof wi&&bE(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((x=>(function(U){return new wu(Ro(U.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let x;return x=typeof T=="object"?T.value:T,vd(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(T){const x=!!T.before,N=T.values||[];return new Qh(N,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const x=!T.before,N=T.values||[];return new Qh(N,x)})(n.endAt)),fC(e,o,c,u,m,"F",p,g)}function KC(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Ro(n.unaryFilter.field);return jt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ro(n.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ro(n.unaryFilter.field);return jt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return jt.create(Ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((a=>FE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function XC(i){return LC[i]}function WC(i){return PC[i]}function ZC(i){return UC[i]}function Ao(i){return{fieldPath:i.canonicalString()}}function Ro(i){return on.fromServerFormat(i.fieldPath)}function GE(i){return i instanceof jt?(function(n){if(n.op==="=="){if(l1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NAN"}};if(o1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NAN"}};if(o1(n.value))return{unaryFilter:{field:Ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ao(n.field),op:WC(n.op),value:n.value}}})(i):i instanceof wi?(function(n){const a=n.getFilters().map((o=>GE(o)));return a.length===1?a[0]:{compositeFilter:{op:ZC(n.op),filters:a}}})(i):Se(54877,{filter:i})}function JC(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ta{constructor(e,n,a,o,u=Re.min(),c=Re.min(),m=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eN{constructor(e){this.yt=e}}function tN(i){const e=$C({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}class nN{constructor(){this.Cn=new iN}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ia.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class iN{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new qt(ut.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(ut.comparator)).toArray()}}const T1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(QE,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}const w1="LruGarbageCollector",rN=1048576;function S1([i,e],[n,a]){const o=Ue(i,n);return o===0?Ue(e,a):o}class aN{constructor(e){this.Ir=e,this.buffer=new qt(S1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();S1(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sN{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(w1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?me(w1,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.Vr(3e5)}))}}class oN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(yd.ce);const a=new aN(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(T1)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),T1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,c,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),So()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function lN(i,e){return new oN(i,e)}class uN{constructor(){this.changes=new Os((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hN{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&pu(a.mutation,o,Pn.empty(),Fe.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ze()){const o=vs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let c=lu();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=vs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ze())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,a,o){let u=Dr();const c=mu(),m=(function(){return mu()})();return n.forEach(((p,g)=>{const b=a.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof Pa)?u=u.insert(g.key,g):b!==void 0?(c.set(g.key,b.mutation.getFieldMask()),pu(b.mutation,g,b.mutation.getFieldMask(),Fe.now())):c.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,b)=>c.set(g,b))),n.forEach(((g,b)=>m.set(g,new cN(b,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=mu();let o=new yt(((c,m)=>c-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let b=a.get(p)||Pn.empty();b=m.applyToLocalView(g,b),a.set(p,b);const T=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,T=NE();b.forEach((x=>{if(!u.has(x)){const N=kE(n.get(x),a.get(x));N!==null&&T.set(x,N),u=u.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return re.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve(vs());let m=_u,p=u;return c.next((g=>re.forEach(g,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{p=p.insert(b,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ze()))).next((b=>({batchId:m,changes:CE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let o=lu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let c=lu();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const g=(function(T,x){return new Wo(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((b=>{b.forEach(((T,x)=>{c=c.insert(T,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((c=>{u.forEach(((p,g)=>{const b=g.getKey();c.get(b)===null&&(c=c.insert(b,dn.newInvalidDocument(b)))}));let m=lu();return c.forEach(((p,g)=>{const b=u.get(p);b!==void 0&&pu(b.mutation,g,Pn.empty(),Fe.now()),Td(n,g)&&(m=m.insert(p,g))})),m}))}}class dN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Xi(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:tN(o.bundledQuery),readTime:Xi(o.readTime)}})(n)),re.resolve()}}class fN{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=vs();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=vs(),u=n.length+1,c=new ve(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new yt(((g,b)=>g-b));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let b=u.get(g.largestBatchId);b===null&&(b=vs(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=vs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,b)=>m.set(g,b))),!(m.size()>=o)););return re.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new DC(n,a));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}class mN{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class dg{constructor(){this.Qr=new qt($t.$r),this.Ur=new qt($t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new $t(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new $t(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new ut([])),a=new $t(n,e),o=new $t(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new ut([])),a=new $t(n,e),o=new $t(n,e+1);let u=ze();return this.Ur.forEachInRange([a,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new $t(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class $t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt($t.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IC(u,n,a,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new $t(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?ng:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new $t(n,0),o=new $t(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new qt(Ue);return n.forEach((o=>{const u=new $t(o,0),c=new $t(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{a=a.add(m.Yr)}))})),re.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const c=new $t(new ve(u),0);let m=new qt(Ue);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return re.forEach(n.mutations,(o=>{const u=new $t(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new $t(n,0),o=this.Zr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gN{constructor(e){this.ri=e,this.docs=(function(){return new yt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let a=Dr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():dn.newInvalidDocument(o))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Dr();const c=n.path,m=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||GR(FR(b),a)<=0||(o.has(b.key)||Td(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Se(9500)}ii(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new yN(this)}getSize(e){return re.resolve(this.size)}}class yN extends uN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class vN{constructor(e){this.persistence=e,this.si=new Os((n=>ag(n)),sg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class $E{constructor(e,n){this.ui={},this.overlays={},this.ci=new yd(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=e(this),this.Pi=new vN(this),this.indexManager=new nN,this.remoteDocumentCache=(function(o){return new gN(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new eN(n),this.Ii=new dN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new pN(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const o=new _N(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return re.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class _N extends QR{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new fg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(a=>{const o=ve.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wh{constructor(e,n){this.persistence=e,this.pi=new Os((a=>XR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=lN(this,n)}static mi(e,n){return new Wh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(a++,u.removeEntry(c,Re.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Dh(e.data.value)),n}br(e,n,a){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class mg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new mg(e,n.fromCache,a,o)}}class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dA()?8:$R(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bN;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(So()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(So()<=Pe.DEBUG&&me("QueryEngine","Query:",xo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(So()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):re.resolve())}ys(e,n){if(d1(n))return re.resolve(null);let a=Ki(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ap(n,null,"F"),a=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const c=ze(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Ap(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return d1(n)||o.isEqual(Re.min())?re.resolve(null):this.ps.getDocuments(e,a).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,a,o)?re.resolve(null):(So()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,c,n,HR(o,_u)).next((m=>m)))}))}Ds(e,n){let a=new qt(AE(e));return n.forEach(((o,u)=>{Td(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return So()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ia.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const pg="LocalStore",TN=3e8;class wN{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new yt(Ue),this.xs=new Os((u=>ag(u)),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SN(i,e,n,a){return new wN(i,e,n,a)}async function KE(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const c=[],m=[];let p=ze();for(const g of o){c.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function xN(i,e){const n=Ne(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,b){const T=g.batch,x=T.keys();let N=re.resolve();return x.forEach((U=>{N=N.next((()=>b.getEntry(p,U))).next((G=>{const B=g.docVersions.get(U);Xe(B!==null,48541),G.version.compareTo(B)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),b.addEntry(G)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function XE(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function AN(i,e){const n=Ne(i),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const x=o.get(T);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let N=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(ln.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,a)),o=o.insert(T,N),(function(G,B,K){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=TN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(x,N,b)&&m.push(n.Pi.updateTargetData(u,N))}));let p=Dr(),g=ze();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(RN(u,c,e.documentUpdates).next((b=>{p=b.ks,g=b.qs}))),!a.isEqual(Re.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(b)}return re.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function RN(i,e,n){let a=ze(),o=ze();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let c=Dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):me(pg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function CN(i,e){const n=Ne(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=ng),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function NN(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,re.resolve(o)):n.Pi.allocateTargetId(a).next((c=>(o=new Ta(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Dp(i,e,n){const a=Ne(i),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Xo(c))throw c;me(pg,`Failed to update sequence numbers for target ${e}: ${c}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function x1(i,e,n){const a=Ne(i);let o=Re.min(),u=ze();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,b){const T=Ne(p),x=T.xs.get(b);return x!==void 0?re.resolve(T.Ms.get(x)):T.Pi.getTargetData(g,b)})(a,c,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(c,e,n?o:Re.min(),n?u:ze()))).next((m=>(IN(a,pC(e),m),{documents:m,Qs:u})))))}function IN(i,e,n){let a=i.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Os.set(e,a)}class A1{constructor(){this.activeTargetIds=EC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.Mo=new A1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A1,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MN{Oo(e){}shutdown(){}}const R1="ConnectivityMonitor";class C1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(R1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(R1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sh=null;function Mp(){return Sh===null?Sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sh++,"0x"+Sh.toString(16)}const ap="RestConnection",ON={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Gh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const c=Mp(),m=this.zo(e,n.toUriEncodedString());me(ap,`Sending RPC '${e}' ${c}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),b=Yo(g);return this.Jo(e,m,p,a,b).then((T=>(me(ap,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Vo(ap,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",a),T}))}Ho(e,n,a,o,u,c){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=ON[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class kN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const cn="WebChannelConnection";class jN extends VN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const c=Mp();return new Promise(((m,p)=>{const g=new Jb;g.setWithCredentials(!0),g.listenOnce(eE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ih.NO_ERROR:const T=g.getResponseJson();me(cn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Ih.TIMEOUT:me(cn,`RPC '${e}' ${c} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ih.HTTP_ERROR:const x=g.getStatus();if(me(cn,`RPC '${e}' ${c} failed with status:`,x,"response text:",g.getResponseText()),x>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const G=(function(K){const q=K.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(q)>=0?q:ne.UNKNOWN})(U.status);p(new de(G,U.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{me(cn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(o);me(cn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",b,a,15)}))}T_(e,n,a){const o=Mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=iE(),m=nE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const b=u.join("");me(cn,`Creating RPC '${e}' stream ${o}: ${b}`,p);const T=c.createWebChannel(b,p);this.I_(T);let x=!1,N=!1;const U=new kN({Yo:B=>{N?me(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(x||(me(cn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),me(cn,`RPC '${e}' stream ${o} sending:`,B),T.send(B))},Zo:()=>T.close()}),G=(B,K,q)=>{B.listen(K,(J=>{try{q(J)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return G(T,ou.EventType.OPEN,(()=>{N||(me(cn,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),G(T,ou.EventType.CLOSE,(()=>{N||(N=!0,me(cn,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(T))})),G(T,ou.EventType.ERROR,(B=>{N||(N=!0,Vo(cn,`RPC '${e}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),U.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),G(T,ou.EventType.MESSAGE,(B=>{if(!N){const K=B.data[0];Xe(!!K,16349);const q=K,J=q?.error||q[0]?.error;if(J){me(cn,`RPC '${e}' stream ${o} received error:`,J);const ee=J.status;let oe=(function(A){const I=kt[A];if(I!==void 0)return LE(I)})(ee),fe=J.message;oe===void 0&&(oe=ne.INTERNAL,fe="Unknown error status: "+ee+" with message "+J.message),N=!0,U.a_(new de(oe,fe)),T.close()}else me(cn,`RPC '${e}' stream ${o} received:`,K),U.u_(K)}})),G(m,tE.STAT_EVENT,(B=>{B.stat===_p.PROXY?me(cn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===_p.NOPROXY&&me(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function sp(){return typeof document<"u"?document:null}function Ad(i){return new zC(i,!0)}class WE{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const N1="PersistentStream";class ZE{constructor(e,n,a,o,u,c,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ir(n.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(N1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(N1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LN extends ZE{constructor(e,n,a,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=HC(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Re.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Xi(c.readTime):Re.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Ip(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=Sp(p)?{documents:YC(u,p)}:{query:QC(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=zE(u,c.resumeToken);const g=Rp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(Re.min())>0){m.readTime=Xh(u,c.snapshotVersion.toTimestamp());const g=Rp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=KC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.q_(n)}}class PN extends ZE{constructor(e,n,a,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GC(e.writeResults,e.commitTime),a=Xi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>FC(this.serializer,a)))};this.q_(n)}}class UN{}class zN extends UN{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Cp(n,a),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Cp(n,a),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Rs="RemoteStore";class qN{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{a.enqueueAndForget((async()=>{Vs(this)&&(me(Rs,"Restarting streams for network reachability change."),await(async function(p){const g=Ne(p);g.Ea.add(4),await Lu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Rd(g)})(this))}))})),this.Ra=new BN(a,o)}}async function Rd(i){if(Vs(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function JE(i,e){const n=Ne(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):Zo(n).O_()&&yg(n,e))}function gg(i,e){const n=Ne(i),a=Zo(n);n.Ia.delete(e),a.O_()&&eT(n,e),n.Ia.size===0&&(a.O_()?a.L_():Vs(n)&&n.Ra.set("Unknown"))}function yg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(i).Y_(e)}function eT(i,e){i.Va.Ue(e),Zo(i).Z_(e)}function vg(i){i.Va=new jC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Zo(i).start(),i.Ra.ua()}function _g(i){return Vs(i)&&!Zo(i).x_()&&i.Ia.size>0}function Vs(i){return Ne(i).Ea.size===0}function tT(i){i.Va=void 0}async function HN(i){i.Ra.set("Online")}async function FN(i){i.Ia.forEach(((e,n)=>{yg(i,e)}))}async function GN(i,e){tT(i),_g(i)?(i.Ra.ha(e),vg(i)):i.Ra.set("Unknown")}async function YN(i,e,n){if(i.Ra.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(a){me(Rs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Zh(i,a)}else if(e instanceof Vh?i.Va.Ze(e):e instanceof PE?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const a=await XE(i.localStore);n.compareTo(a)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(g);b&&u.Ia.set(g,b.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken(ln.EMPTY_BYTE_STRING,b.snapshotVersion)),eT(u,p);const T=new Ta(b.target,p,g,b.sequenceNumber);yg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(a){me(Rs,"Failed to raise snapshot:",a),await Zh(i,a)}}async function Zh(i,e,n){if(!Xo(e))throw e;i.Ea.add(1),await Lu(i),i.Ra.set("Offline"),n||(n=()=>XE(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(Rs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Rd(i)}))}function nT(i,e){return e().catch((n=>Zh(i,n,e)))}async function Cd(i){const e=Ne(i),n=Va(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ng;for(;QN(e);)try{const o=await CN(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,$N(e,o)}catch(o){await Zh(e,o)}iT(e)&&rT(e)}function QN(i){return Vs(i)&&i.Ta.length<10}function $N(i,e){i.Ta.push(e);const n=Va(i);n.O_()&&n.X_&&n.ea(e.mutations)}function iT(i){return Vs(i)&&!Va(i).x_()&&i.Ta.length>0}function rT(i){Va(i).start()}async function KN(i){Va(i).ra()}async function XN(i){const e=Va(i);for(const n of i.Ta)e.ea(n.mutations)}async function WN(i,e,n){const a=i.Ta.shift(),o=ug.from(a,e,n);await nT(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Cd(i)}async function ZN(i,e){e&&Va(i).X_&&await(async function(a,o){if((function(c){return OC(c)&&c!==ne.ABORTED})(o.code)){const u=a.Ta.shift();Va(a).B_(),await nT(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cd(a)}})(i,e),iT(i)&&rT(i)}async function I1(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),me(Rs,"RemoteStore received new credentials");const a=Vs(n);n.Ea.add(3),await Lu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Rd(n)}async function JN(i,e){const n=Ne(i);e?(n.Ea.delete(2),await Rd(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Zo(i){return i.ma||(i.ma=(function(n,a,o){const u=Ne(n);return u.sa(),new LN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:HN.bind(null,i),t_:FN.bind(null,i),r_:GN.bind(null,i),H_:YN.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),_g(i)?vg(i):i.Ra.set("Unknown")):(await i.ma.stop(),tT(i))}))),i.ma}function Va(i){return i.fa||(i.fa=(function(n,a,o){const u=Ne(n);return u.sa(),new PN(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:KN.bind(null,i),r_:ZN.bind(null,i),ta:XN.bind(null,i),na:WN.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Cd(i)):(await i.fa.stop(),i.Ta.length>0&&(me(Rs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class bg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const c=Date.now()+a,m=new bg(e,n,c,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(i,e){if(Ir("AsyncQueue",`${e}: ${i}`),Xo(i))return new de(ne.UNAVAILABLE,`${e}: ${i}`);throw i}class Co{static emptySet(e){return new Co(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=lu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Co;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class D1{constructor(){this.ga=new yt(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Uo{constructor(e,n,a,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Uo(e,n,Co.emptySet(n),c,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class eI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tI{constructor(){this.queries=M1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ne(n),u=o.queries;o.queries=M1(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function M1(){return new Os((i=>xE(i)),Ed)}async function Tg(i,e){const n=Ne(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new eI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Eg(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Sg(n)}async function wg(i,e){const n=Ne(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function nI(i,e){const n=Ne(i);let a=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(a=!0);c.wa=o}}a&&Sg(n)}function iI(i,e,n){const a=Ne(i),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Sg(i){i.Ca.forEach((e=>{e.next()}))}var Op,O1;(O1=Op||(Op={})).Ma="default",O1.Cache="cache";class xg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Uo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class aT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class rI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=AE(e),this.tu=new Co(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new D1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,T)=>{const x=o.get(b),N=Td(this.query,T)?T:null,U=!!x&&this.mutatedKeys.has(x.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;x&&N?x.data.isEqual(N.data)?U!==G&&(a.track({type:3,doc:N}),B=!0):this.su(x,N)||(a.track({type:2,doc:N}),B=!0,(p&&this.eu(N,p)>0||g&&this.eu(N,g)<0)&&(m=!0)):!x&&N?(a.track({type:0,doc:N}),B=!0):x&&!N&&(a.track({type:1,doc:x}),B=!0,(p||g)&&(m=!0)),B&&(N?(c=c.add(N),u=G?u.add(b):u.delete(b)):(c=c.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),u=u.delete(b.key),a.track({type:1,doc:b})}return{tu:c,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,T)=>(function(N,U){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:B})}};return G(N)-G(U)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Uo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new sT(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new aT(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ag="SyncEngine";class aI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class sI{constructor(e){this.key=e,this.hu=!1}}class oI{constructor(e,n,a,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Os((m=>xE(m)),Ed),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(i,e,n=!0){const a=dT(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await oT(a,e,n,!0),o}async function uI(i,e){const n=dT(i);await oT(n,e,!0,!1)}async function oT(i,e,n,a){const o=await NN(i.localStore,Ki(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await cI(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&JE(i.remoteStore,o),m}async function cI(i,e,n,a,o){i.pu=(T,x,N)=>(async function(G,B,K,q){let J=B.view.ru(K);J.Cs&&(J=await x1(G.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,J))));const ee=q&&q.targetChanges.get(B.targetId),oe=q&&q.targetMismatches.get(B.targetId)!=null,fe=B.view.applyChanges(J,G.isPrimaryClient,ee,oe);return k1(G,B.targetId,fe.au),fe.snapshot})(i,T,x,N);const u=await x1(i.localStore,e,!0),c=new rI(e,u.Qs),m=c.ru(u.documents),p=ju.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);k1(i,n,g.au);const b=new aI(e,n,c);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function hI(i,e,n){const a=Ne(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((c=>!Ed(c,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&gg(a.remoteStore,o.targetId),Vp(a,o.targetId)})).catch(Ko)):(Vp(a,o.targetId),await Dp(a.localStore,o.targetId,!0))}async function dI(i,e){const n=Ne(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),gg(n.remoteStore,a.targetId))}async function fI(i,e,n){const a=bI(i);try{const o=await(function(c,m){const p=Ne(c),g=Fe.now(),b=m.reduce(((N,U)=>N.add(U.key)),ze());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=Dr(),G=ze();return p.Ns.getEntries(N,b).next((B=>{U=B,U.forEach(((K,q)=>{q.isValidDocument()||(G=G.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,U))).next((B=>{T=B;const K=[];for(const q of m){const J=CC(q,T.get(q.key).overlayedDocument);J!=null&&K.push(new Pa(q.key,J,yE(J.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,K,m)})).next((B=>{x=B;const K=B.applyToLocalDocumentSet(T,G);return p.documentOverlayCache.saveOverlays(N,B.batchId,K)}))})).then((()=>({batchId:x.batchId,changes:CE(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new yt(Ue)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(a,o.batchId,n),await Pu(a,o.changes),await Cd(a.remoteStore)}catch(o){const u=Eg(o,"Failed to persist write");n.reject(u)}}async function lT(i,e){const n=Ne(i);try{const a=await AN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Xe(c.hu,14607):o.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await Pu(n,a,e)}catch(a){await Ko(a)}}function V1(i,e,n){const a=Ne(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ne(c);p.onlineState=m;let g=!1;p.queries.forEach(((b,T)=>{for(const x of T.Sa)x.va(m)&&(g=!0)})),g&&Sg(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mI(i,e,n){const a=Ne(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let c=new yt(ve.comparator);c=c.insert(u,dn.newNoDocument(u,Re.min()));const m=ze().add(u),p=new xd(Re.min(),new Map,new yt(Ue),c,m);await lT(a,p),a.du=a.du.remove(u),a.Au.delete(e),Rg(a)}else await Dp(a.localStore,e,!1).then((()=>Vp(a,e,n))).catch(Ko)}async function pI(i,e){const n=Ne(i),a=e.batch.batchId;try{const o=await xN(n.localStore,e);cT(n,a,null),uT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Pu(n,o)}catch(o){await Ko(o)}}async function gI(i,e,n){const a=Ne(i);try{const o=await(function(c,m){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),b=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b))).next((()=>p.localDocuments.getDocuments(g,b)))}))})(a.localStore,e);cT(a,e,n),uT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Pu(a,o)}catch(o){await Ko(o)}}function uT(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function cT(i,e,n){const a=Ne(i);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((a=>{i.Ru.containsKey(a)||hT(i,a)}))}function hT(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(gg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Rg(i))}function k1(i,e,n){for(const a of n)a instanceof aT?(i.Ru.addReference(a.key,e),yI(i,a)):a instanceof sT?(me(Ag,"Document no longer in limbo: "+a.key),i.Ru.removeReference(a.key,e),i.Ru.containsKey(a.key)||hT(i,a.key)):Se(19791,{wu:a})}function yI(i,e){const n=e.key,a=n.path.canonicalString();i.du.get(n)||i.Eu.has(a)||(me(Ag,"New document in limbo: "+n),i.Eu.add(a),Rg(i))}function Rg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(ut.fromString(e)),a=i.fu.next();i.Au.set(a,new sI(n)),i.du=i.du.insert(n,a),JE(i.remoteStore,new Ta(Ki(bd(n.path)),a,"TargetPurposeLimboResolution",yd.ce))}}async function Pu(i,e,n){const a=Ne(i),o=[],u=[],c=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{c.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const b=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=mg.As(p.targetId,g);u.push(b)}})))})),await Promise.all(c),a.Pu.H_(o),await(async function(p,g){const b=Ne(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>re.forEach(g,(x=>re.forEach(x.Es,(N=>b.persistence.referenceDelegate.addReference(T,x.targetId,N))).next((()=>re.forEach(x.ds,(N=>b.persistence.referenceDelegate.removeReference(T,x.targetId,N)))))))))}catch(T){if(!Xo(T))throw T;me(pg,"Failed to update sequence numbers: "+T)}for(const T of g){const x=T.targetId;if(!T.fromCache){const N=b.Ms.get(x),U=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(x,G)}}})(a.localStore,u))}async function vI(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){me(Ag,"User change. New user:",e.toKey());const a=await KE(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(ne.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Pu(n,a.Ls)}}function _I(i,e){const n=Ne(i),a=n.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function dT(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mI.bind(null,e),e.Pu.H_=nI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function bI(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SN(this.persistence,new EN,e.initialUser,this.serializer)}Cu(e){return new $E(fg.mi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class EI extends Jh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Wh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sN(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new $E((a=>Wh.mi(a,n)),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>V1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tI})()}createDatastore(e){const n=Ad(e.databaseInfo.databaseId),a=(function(u){return new jN(u)})(e.databaseInfo);return(function(u,c,m,p){return new zN(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,c,m){return new qN(a,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>V1(this.syncEngine,n,0)),(function(){return C1.v()?new C1:new MN})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,b){const T=new oI(o,u,c,m,p,g);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ne(n);me(Rs,"RemoteStore shutting down."),a.Ea.add(5),await Lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kp.provider={build:()=>new kp};class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ka="FirestoreClient";class TI{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async c=>{me(ka,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(me(ka,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Eg(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function op(i,e){i.asyncQueue.verifyOperationInProgress(),me(ka,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((async o=>{a.isEqual(o)||(await KE(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function j1(i,e){i.asyncQueue.verifyOperationInProgress();const n=await wI(i);me(ka,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>I1(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>I1(e.remoteStore,o))),i._onlineComponents=e}async function wI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(ka,"Using user provided OfflineComponentProvider");try{await op(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await op(i,new Jh)}}else me(ka,"Using default OfflineComponentProvider"),await op(i,new EI(void 0));return i._offlineComponents}async function fT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(ka,"Using user provided OnlineComponentProvider"),await j1(i,i._uninitializedComponentsProvider._online)):(me(ka,"Using default OnlineComponentProvider"),await j1(i,new kp))),i._onlineComponents}function SI(i){return fT(i).then((e=>e.syncEngine))}async function ed(i){const e=await fT(i),n=e.eventManager;return n.onListen=lI.bind(null,e.syncEngine),n.onUnlisten=hI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),n}function xI(i,e,n={}){const a=new Rr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const b=new Cg({next:x=>{b.Nu(),c.enqueueAndForget((()=>wg(u,T)));const N=x.docs.has(m);!N&&x.fromCache?g.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&x.fromCache&&p&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new xg(bd(m.path),b,{includeMetadataChanges:!0,qa:!0});return Tg(u,T)})(await ed(i),i.asyncQueue,e,n,a))),a.promise}function AI(i,e,n={}){const a=new Rr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const b=new Cg({next:x=>{b.Nu(),c.enqueueAndForget((()=>wg(u,T))),x.fromCache&&p.source==="server"?g.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),T=new xg(m,b,{includeMetadataChanges:!0,qa:!0});return Tg(u,T)})(await ed(i),i.asyncQueue,e,n,a))),a.promise}function mT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const L1=new Map;const pT="firestore.googleapis.com",P1=!0;class U1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=P1}else this.host=e.host,this.ssl=e.ssl??P1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rN)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new MR;switch(a.type){case"firstParty":return new jR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=L1.get(n);a&&(me("ComponentProvider","Removing Datastore"),L1.delete(n),a.terminate())})(this),Promise.resolve()}}function RI(i,e,n,a={}){i=Cn(i,Nd);const o=Yo(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Fb(`https://${m}`),Gb("Firestore",!0)),u.host!==pT&&u.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Ss(p,c)&&(i._setSettings(p),a.mockUserToken)){let g,b;if(typeof a.mockUserToken=="string")g=a.mockUserToken,b=hn.MOCK_USER;else{g=iA(a.mockUserToken,i._app?.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new hn(T)}i._authCredentials=new OR(new aE(g,b))}}class Ua{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class Et{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Vu(n,Et._jsonSchema))return new Et(e,a||null,new ve(ut.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Lt("string",Et._jsonSchemaVersion),referencePath:Lt("string")};class Ra extends Ua{constructor(e,n,a){super(e,n,bd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ve(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function He(i,e,...n){if(i=Wt(i),sE("collection","path",e),i instanceof Nd){const a=ut.fromString(e,...n);return Z_(a),new Ra(i,null,a)}{if(!(i instanceof Et||i instanceof Ra))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ut.fromString(e,...n));return Z_(a),new Ra(i.firestore,null,a)}}function Xt(i,e,...n){if(i=Wt(i),arguments.length===1&&(e=tg.newId()),sE("doc","path",e),i instanceof Nd){const a=ut.fromString(e,...n);return W_(a),new Et(i,null,new ve(a))}{if(!(i instanceof Et||i instanceof Ra))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ut.fromString(e,...n));return W_(a),new Et(i.firestore,i instanceof Ra?i.converter:null,new ve(a))}}const z1="AsyncQueue";class B1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WE(this,"async_queue_retry"),this._c=()=>{const a=sp();a&&me(z1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;me(z1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",q1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=bg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:q1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function q1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function H1(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Mr extends Nd{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new B1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B1(e),this._firestoreClient=void 0,await e}}}function CI(i,e){const n=typeof i=="object"?i:Kb(),a=typeof i=="string"?i:Gh,o=Jp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=tA("firestore");u&&RI(o,...u)}return o}function Id(i){if(i._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||NI(i),i._firestoreClient}function NI(i){const e=i._freezeSettings(),n=(function(o,u,c,m){return new JR(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new TI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(ln.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ti(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Lt("string",ti._jsonSchemaVersion),bytes:Lt("string")};class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._methodName=e}}class Wi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Lt("string",Wi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Lt("string",Zi._jsonSchemaVersion),vectorValues:Lt("object")};const II=/^__.*__$/;class DI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class gT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Pa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class Ig{constructor(e,n,a,o,u,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return td(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yT(this.Ac)&&II.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Ad(e)}Cc(e,n,a,o=!1){return new Ig({Ac:e,methodName:n,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Md(i){const e=i._freezeSettings(),n=Ad(i._databaseId);return new MI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vT(i,e,n,a,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Dg("Data must be an object, but it was:",c,a);const m=_T(a,c);let p,g;if(u.merge)p=new Pn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const x=jp(e,T,n);if(!c.contains(x))throw new de(ne.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ET(b,x)||b.push(x)}p=new Pn(b),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new DI(new Rn(m),p,g)}class Od extends Ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function OI(i,e,n,a){const o=i.Cc(1,e,n);Dg("Data must be an object, but it was:",o,a);const u=[],c=Rn.empty();La(a,((p,g)=>{const b=Mg(e,p,n);g=Wt(g);const T=o.yc(b);if(g instanceof Od)u.push(b);else{const x=Uu(g,T);x!=null&&(u.push(b),c.set(b,x))}}));const m=new Pn(u);return new gT(c,m,o.fieldTransforms)}function VI(i,e,n,a,o,u){const c=i.Cc(1,e,n),m=[jp(e,a,n)],p=[o];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(jp(e,u[x])),p.push(u[x+1]);const g=[],b=Rn.empty();for(let x=m.length-1;x>=0;--x)if(!ET(g,m[x])){const N=m[x];let U=p[x];U=Wt(U);const G=c.yc(N);if(U instanceof Od)g.push(N);else{const B=Uu(U,G);B!=null&&(g.push(N),b.set(N,B))}}const T=new Pn(g);return new gT(b,T,c.fieldTransforms)}function kI(i,e,n,a=!1){return Uu(n,i.Cc(a?4:3,e))}function Uu(i,e){if(bT(i=Wt(i)))return Dg("Unsupported field value:",e,i),_T(i,e);if(i instanceof Ng)return(function(a,o){if(!yT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let c=0;for(const m of a){let p=Uu(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=Wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return TC(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Fe.fromDate(a);return{timestampValue:Xh(o.serializer,u)}}if(a instanceof Fe){const u=new Fe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xh(o.serializer,u)}}if(a instanceof Wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ti)return{bytesValue:zE(o.serializer,a._byteString)};if(a instanceof Et){const u=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:hg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Zi)return(function(c,m){return{mapValue:{fields:{[pE]:{stringValue:gE},[Yh]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return og(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${gd(a)}`)})(i,e)}function _T(i,e){const n={};return uE(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):La(i,((a,o)=>{const u=Uu(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function bT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Fe||i instanceof Wi||i instanceof ti||i instanceof Et||i instanceof Ng||i instanceof Zi)}function Dg(i,e,n){if(!bT(n)||!oE(n)){const a=gd(n);throw a==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+a)}}function jp(i,e,n){if((e=Wt(e))instanceof Dd)return e._internalPath;if(typeof e=="string")return Mg(i,e);throw td("Field path arguments must be of type string or ",i,!1,void 0,n)}const jI=new RegExp("[~\\*/\\[\\]]");function Mg(i,e,n){if(e.search(jI)>=0)throw td(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw td(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function td(i,e,n,a,o){const u=a&&!a.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+i+p)}function ET(i,e){return i.some((n=>n.isEqual(e)))}class TT{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LI extends TT{data(){return super.data()}}function Vd(i,e){return typeof e=="string"?Mg(i,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}function wT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class ST extends Og{}function Ei(i,e,...n){let a=[];e instanceof Og&&a.push(e),a=a.concat(n),(function(u){const c=u.filter((p=>p instanceof Vg)).length,m=u.filter((p=>p instanceof kd)).length;if(c>1||c>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)i=o._apply(i);return i}class kd extends ST{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new kd(e,n,a)}_apply(e){const n=this._parse(e);return AT(e._query,n),new Ua(e.firestore,e.converter,xp(e._query,n))}_parse(e){const n=Md(e.firestore);return(function(u,c,m,p,g,b,T){let x;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){G1(T,b);const U=[];for(const G of T)U.push(F1(p,u,G));x={arrayValue:{values:U}}}else x=F1(p,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||G1(T,b),x=kI(m,c,T,b==="in"||b==="not-in");return jt.create(g,b,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _i(i,e,n){const a=e,o=Vd("where",i);return kd._create(o,a,n)}class Vg extends Og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Vg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)AT(c,p),c=xp(c,p)})(e._query,n),new Ua(e.firestore,e.converter,xp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends ST{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new kg(e,n)}_apply(e){const n=(function(o,u,c){if(o.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,c)})(e._query,this._field,this._direction);return new Ua(e.firestore,e.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Wo(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function xT(i,e="asc"){const n=e,a=Vd("orderBy",i);return kg._create(a,n)}function F1(i,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(ut.fromString(n));if(!ve.isDocumentKey(a))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return s1(i,new ve(a))}if(n instanceof Et)return s1(i,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gd(n)}.`)}function G1(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AT(i,e){const n=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PI{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return La(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[Yh].arrayValue?.values?.map((a=>At(a.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Wi(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=_d(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Da(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=ut.fromString(e);Xe(YE(a),9688,{name:e});const o=new Eu(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return o.isEqual(n)||Ir(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function RT(i,e,n){let a;return a=i?i.toFirestore(e):e,a}class cu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bs extends TT{constructor(e,n,a,o,u,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Vd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",bs._jsonSchema={type:Lt("string",bs._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class kh extends bs{data(e={}){return super.data(e)}}class Es{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new kh(this._firestore,this._userDataWriter,a.key,a,new cu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new kh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),b=c.indexOf(m.doc.key)),{type:UI(m.type),doc:p,oldIndex:g,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Es._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=tg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}function Au(i){i=Cn(i,Et);const e=Cn(i.firestore,Mr);return xI(Id(e),i._key).then((n=>CT(e,i,n)))}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:Lt("string",Es._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class jg extends PI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function Pt(i){i=Cn(i,Ua);const e=Cn(i.firestore,Mr),n=Id(e),a=new jg(e);return wT(i._query),AI(n,i._query).then((o=>new Es(e,a,i,o)))}function zI(i,e,n){i=Cn(i,Et);const a=Cn(i.firestore,Mr),o=RT(i.converter,e);return jd(a,[vT(Md(a),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,ni.none())])}function Ru(i,e,n,...a){i=Cn(i,Et);const o=Cn(i.firestore,Mr),u=Md(o);let c;return c=typeof(e=Wt(e))=="string"||e instanceof Dd?VI(u,"updateDoc",i._key,e,n,a):OI(u,"updateDoc",i._key,e),jd(o,[c.toMutation(i._key,ni.exists(!0))])}function Cs(i){return jd(Cn(i.firestore,Mr),[new lg(i._key,ni.none())])}function ja(i,e){const n=Cn(i.firestore,Mr),a=Xt(i),o=RT(i.converter,e);return jd(n,[vT(Md(i.firestore),"addDoc",a._key,o,i.converter!==null,{}).toMutation(a._key,ni.exists(!1))]).then((()=>a))}function Ts(i,...e){i=Wt(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||H1(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(H1(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Et)c=Cn(i.firestore,Mr),m=bd(i._key.path),u={next:p=>{e[a]&&e[a](CT(c,i,p))},error:e[a+1],complete:e[a+2]};else{const p=Cn(i,Ua);c=Cn(p.firestore,Mr),m=p._query;const g=new jg(c);u={next:b=>{e[a]&&e[a](new Es(c,g,p,b))},error:e[a+1],complete:e[a+2]},wT(i._query)}return(function(g,b,T,x){const N=new Cg(x),U=new xg(b,N,T);return g.asyncQueue.enqueueAndForget((async()=>Tg(await ed(g),U))),()=>{N.Nu(),g.asyncQueue.enqueueAndForget((async()=>wg(await ed(g),U)))}})(Id(c),m,o,u)}function jd(i,e){return(function(a,o){const u=new Rr;return a.asyncQueue.enqueueAndForget((async()=>fI(await SI(a),o,u))),u.promise})(Id(i),e)}function CT(i,e,n){const a=n.docs.get(e._key),o=new jg(i);return new bs(i,o,e._key,a,new cu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){$o=o})(Qo),Oo(new xs("firestore",((a,{instanceIdentifier:o,options:u})=>{const c=a.getProvider("app").getImmediate(),m=new Mr(new VR(a.getProvider("auth-internal")),new LR(c,a.getProvider("app-check-internal")),(function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(g.options.projectId,b)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),xa(Q_,$_,e),xa(Q_,$_,"esm2020")})();function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BI=NT,IT=new Mu("auth","Firebase",NT());const nd=new Wp("@firebase/auth");function qI(i,...e){nd.logLevel<=Pe.WARN&&nd.warn(`Auth (${Qo}): ${i}`,...e)}function jh(i,...e){nd.logLevel<=Pe.ERROR&&nd.error(`Auth (${Qo}): ${i}`,...e)}function tr(i,...e){throw Pg(i,...e)}function Ti(i,...e){return Pg(i,...e)}function Lg(i,e,n){const a={...BI(),[e]:n};return new Mu("auth","Firebase",a).create(e,{appName:i.name})}function ws(i){return Lg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HI(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&tr(i,"argument-error"),Lg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pg(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return IT.create(i,...e)}function Ae(i,e,...n){if(!i)throw Pg(e,...n)}function Sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw jh(e),new Error(e)}function Or(i,e){i||Sr(e)}function Lp(){return typeof self<"u"&&self.location?.href||""}function FI(){return Y1()==="http:"||Y1()==="https:"}function Y1(){return typeof self<"u"&&self.location?.protocol||null}function GI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FI()||uA()||"connection"in navigator)?navigator.onLine:!0}function YI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Or(n>e,"Short delay should be less than long delay!"),this.isMobile=sA()||cA()}get(){return GI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ug(i,e){Or(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DT{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const QI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KI=new zu(3e4,6e4);function zg(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Jo(i,e,n,a,o={}){return MT(i,o,async()=>{let u={},c={};a&&(e==="GET"?c=a:u={body:JSON.stringify(a)});const m=Ou({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return lA()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Yo(i.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await OT(i,i.config.apiHost,n,m),g)})}async function MT(i,e,n){i._canInitEmulator=!1;const a={...QI,...e};try{const o=new WI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw xh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw xh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw xh(i,"user-disabled",c);const b=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Lg(i,b,g);tr(i,b)}}catch(o){if(o instanceof kr)throw o;tr(i,"network-request-failed",{message:String(o)})}}async function XI(i,e,n,a,o={}){const u=await Jo(i,e,n,a,o);return"mfaPendingCredential"in u&&tr(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function OT(i,e,n,a){const o=`${e}${n}?${a}`,u=i,c=u.config.emulator?Ug(i.config,o):`${i.config.apiScheme}://${o}`;return $I.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class WI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),KI.get())})}}function xh(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Ti(i,e,a);return o.customData._tokenResponse=n,o}async function ZI(i,e){return Jo(i,"POST","/v1/accounts:delete",e)}async function id(i,e){return Jo(i,"POST","/v1/accounts:lookup",e)}function gu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JI(i,e=!1){const n=Wt(i),a=await n.getIdToken(e),o=Bg(a);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:a,authTime:gu(lp(o.auth_time)),issuedAtTime:gu(lp(o.iat)),expirationTime:gu(lp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function lp(i){return Number(i)*1e3}function Bg(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const o=zb(n);return o?JSON.parse(o):(jh("Failed to decode base64 JWT payload"),null)}catch(o){return jh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Q1(i){const e=Bg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(i,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof kr&&e5(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function e5({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class t5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rd(i){const e=i.auth,n=await i.getIdToken(),a=await Cu(i,id(e,{idToken:n}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?VT(o.providerUserInfo):[],c=i5(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,b)}async function n5(i){const e=Wt(i);await rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i5(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function VT(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function r5(i,e){const n=await MT(i,{},async()=>{const a=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await OT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return i.emulatorConfig&&Yo(i.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a5(i,e){return Jo(i,"POST","/v2/accounts:revokeToken",zg(i,e))}class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Q1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await r5(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,c=new No;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function pa(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class bi{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new t5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return JI(this,e)}reload(){return n5(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await rd(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Cu(this,ZI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:x,isAnonymous:N,providerData:U,stsTokenManager:G}=n;Ae(T&&G,e,"internal-error");const B=No.fromJSON(this.name,G);Ae(typeof T=="string",e,"internal-error"),pa(a,e.name),pa(o,e.name),Ae(typeof x=="boolean",e,"internal-error"),Ae(typeof N=="boolean",e,"internal-error"),pa(u,e.name),pa(c,e.name),pa(m,e.name),pa(p,e.name),pa(g,e.name),pa(b,e.name);const K=new bi({uid:T,auth:e,email:o,emailVerified:x,displayName:a,isAnonymous:N,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:B,createdAt:g,lastLoginAt:b});return U&&Array.isArray(U)&&(K.providerData=U.map(q=>({...q}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,a=!1){const o=new No;o.updateFromServerResponse(n);const u=new bi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await rd(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new No;m.updateFromIdToken(a);const p=new bi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const $1=new Map;function xr(i){Or(i instanceof Function,"Expected a class definition");let e=$1.get(i);return e?(Or(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,$1.set(i,e),e)}class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kT.type="NONE";const K1=kT;function Lh(i,e,n){return`firebase:${i}:${e}:${n}`}class Io{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await id(this.auth,{idToken:e}).catch(()=>{});return n?bi._fromGetAccountInfoResponse(this.auth,n,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Io(xr(K1),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||xr(K1);const c=Lh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(c);if(b){let T;if(typeof b=="string"){const x=await id(e,{idToken:b}).catch(()=>{});if(!x)break;T=await bi._fromGetAccountInfoResponse(e,x,b)}else T=bi._fromJSON(e,b);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Io(u,e,a):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Io(u,e,a))}}function X1(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||PT(e))&&!e.includes("edge/"))return"Chrome";if(zT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if(a?.length===2)return a[1]}return"Other"}function jT(i=fn()){return/firefox\//i.test(i)}function LT(i=fn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PT(i=fn()){return/crios\//i.test(i)}function UT(i=fn()){return/iemobile/i.test(i)}function zT(i=fn()){return/android/i.test(i)}function BT(i=fn()){return/blackberry/i.test(i)}function qT(i=fn()){return/webos/i.test(i)}function qg(i=fn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function s5(i=fn()){return qg(i)&&!!window.navigator?.standalone}function o5(){return hA()&&document.documentMode===10}function HT(i=fn()){return qg(i)||zT(i)||qT(i)||BT(i)||/windows phone/i.test(i)||UT(i)}function FT(i,e=[]){let n;switch(i){case"Browser":n=X1(fn());break;case"Worker":n=`${X1(fn())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qo}/${a}`}class l5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function u5(i,e={}){return Jo(i,"GET","/v2/passwordPolicy",zg(i,e))}const c5=6;class h5{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??c5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class d5{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W1(this),this.idTokenSubscription=new W1(this),this.beforeStateQueue=new l5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await id(this,{idToken:e}),a=await bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(vi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vi(this.app))return Promise.reject(ws(this));const n=e?Wt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vi(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u5(this),n=new h5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await a5(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ld(i){return Wt(i)}class W1{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f5(i){Hg=i}function m5(i){return Hg.loadJS(i)}function p5(){return Hg.gapiScript}function g5(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function y5(i,e){const n=Jp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ss(u,e??{}))return o;tr(o,"already-initialized")}return n.initialize({options:e})}function v5(i,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(xr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e?.popupRedirectResolver)}function _5(i,e,n){const a=Ld(i);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=GT(e),{host:c,port:m}=b5(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},b=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Ss(g,a.config.emulator)&&Ss(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,Yo(c)?(Fb(`${u}//${c}${p}`),Gb("Auth",!0)):E5()}function GT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function b5(i){const e=GT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Z1(a.substr(u.length+1))}}else{const[u,c]=a.split(":");return{host:u,port:Z1(c)}}}function Z1(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function E5(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function Do(i,e){return XI(i,"POST","/v1/accounts:signInWithIdp",zg(i,e))}const T5="http://localhost";class Ns extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const c=new Ns(a,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Do(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:T5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}class Fg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends Fg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends Bu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";class wr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return wr.credential(n,a)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class va extends Bu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";class _a extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return _a.credential(n,a)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await bi._fromIdTokenResponse(e,a,o),c=J1(a);return new zo({user:u,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=J1(a);return new zo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function J1(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class ad extends kr{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new ad(e,n,a,o)}}function QT(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(i,u,e,a):u})}async function w5(i,e,n=!1){const a=await Cu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return zo._forOperation(i,"link",a)}async function S5(i,e,n=!1){const{auth:a}=i;if(vi(a.app))return Promise.reject(ws(a));const o="reauthenticate";try{const u=await Cu(i,QT(a,o,e,i),n);Ae(u.idToken,a,"internal-error");const c=Bg(u.idToken);Ae(c,a,"internal-error");const{sub:m}=c;return Ae(i.uid===m,a,"user-mismatch"),zo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&tr(a,"user-mismatch"),u}}async function x5(i,e,n=!1){if(vi(i.app))return Promise.reject(ws(i));const a="signIn",o=await QT(i,a,e),u=await zo._fromIdTokenResponse(i,a,o);return n||await i._updateCurrentUser(u.user),u}function A5(i,e,n,a){return Wt(i).onIdTokenChanged(e,n,a)}function R5(i,e,n){return Wt(i).beforeAuthStateChanged(e,n)}function Pd(i,e,n,a){return Wt(i).onAuthStateChanged(e,n,a)}function C5(i){return Wt(i).signOut()}const sd="__sak";class $T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sd,"1"),this.storage.removeItem(sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const N5=1e3,I5=10;class KT extends $T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},u=this.storage.getItem(a);o5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,I5):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const D5=KT;class XT extends $T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XT.type="SESSION";const WT=XT;function M5(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ud(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await M5(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ud.receivers=[];function Gg(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class O5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=Gg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(T){const x=T;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function V5(i){Ji().location.href=i}function ZT(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function k5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j5(){return navigator?.serviceWorker?.controller||null}function L5(){return ZT()?self:null}const JT="firebaseLocalStorageDb",P5=1,od="firebaseLocalStorage",ew="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(i,e){return i.transaction([od],e?"readwrite":"readonly").objectStore(od)}function U5(){const i=indexedDB.deleteDatabase(JT);return new qu(i).toPromise()}function Up(){const i=indexedDB.open(JT,P5);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(od,{keyPath:ew})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(od)?e(a):(a.close(),await U5(),e(await Up()))})})}async function eb(i,e,n){const a=zd(i,!0).put({[ew]:e,value:n});return new qu(a).toPromise()}async function z5(i,e){const n=zd(i,!1).get(e),a=await new qu(n).toPromise();return a===void 0?null:a.value}function tb(i,e){const n=zd(i,!0).delete(e);return new qu(n).toPromise()}const B5=800,q5=3;class tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Up(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>q5)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ud._getInstance(L5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k5(),!this.activeServiceWorker)return;this.sender=new O5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Up();return await eb(e,sd,"1"),await tb(e,sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>eb(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>z5(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zd(o,!1).getAll();return new qu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tw.type="LOCAL";const H5=tw;new zu(3e4,6e4);function nw(i,e){return e?xr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Yg extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function F5(i){return x5(i.auth,new Yg(i),i.bypassAuthState)}function G5(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),S5(n,new Yg(i),i.bypassAuthState)}async function Y5(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),w5(n,new Yg(i),i.bypassAuthState)}class iw{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return G5;default:tr(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Q5=new zu(2e3,1e4);async function $5(i,e,n){if(vi(i.app))return Promise.reject(Ti(i,"operation-not-supported-in-this-environment"));const a=Ld(i);HI(i,e,Fg);const o=nw(a,n);return new _s(a,"signInViaPopup",e,o).executeNotNull()}class _s extends iw{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,_s.currentPopupAction&&_s.currentPopupAction.cancel(),_s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Or(this.filter.length===1,"Popup operations only handle one event");const e=Gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_s.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q5.get())};e()}}_s.currentPopupAction=null;const K5="pendingRedirect",Ph=new Map;class X5 extends iw{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const a=await W5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W5(i,e){const n=eD(e),a=J5(i);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Z5(i,e){Ph.set(i._key(),e)}function J5(i){return xr(i._redirectPersistence)}function eD(i){return Lh(K5,i.config.apiKey,i.name)}async function tD(i,e,n=!1){if(vi(i.app))return Promise.reject(ws(i));const a=Ld(i),o=nw(a,e),c=await new X5(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const nD=600*1e3;class iD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rw(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ti(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nD&&this.cachedEventUids.clear(),this.cachedEventUids.has(nb(e))}saveEventToCache(e){this.cachedEventUids.add(nb(e)),this.lastProcessedEventTime=Date.now()}}function nb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function rw({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function rD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(i);default:return!1}}async function aD(i,e={}){return Jo(i,"GET","/v1/projects",e)}const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function lD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await aD(i);for(const n of e)try{if(uD(n))return}catch{}tr(i,"unauthorized-domain")}function uD(i){const e=Lp(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!oD.test(n))return!1;if(sD.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const cD=new zu(3e4,6e4);function ib(){const i=Ji().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function hD(i){return new Promise((e,n)=>{function a(){ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ib(),n(Ti(i,"network-request-failed"))},timeout:cD.get()})}if(Ji().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ji().gapi?.load)a();else{const o=g5("iframefcb");return Ji()[o]=()=>{gapi.load?a():n(Ti(i,"network-request-failed"))},m5(`${p5()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function dD(i){return Uh=Uh||hD(i),Uh}const fD=new zu(5e3,15e3),mD="__/auth/iframe",pD="emulator/auth/iframe",gD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Ug(e,pD):`https://${i.config.authDomain}/${mD}`,a={apiKey:e.apiKey,appName:i.name,v:Qo},o=yD.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Ou(a).slice(1)}`}async function _D(i){const e=await dD(i),n=Ji().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:vD(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gD,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const c=Ti(i,"network-request-failed"),m=Ji().setTimeout(()=>{u(c)},fD.get());function p(){Ji().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(c)})}))}const bD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ED=500,TD=600,wD="_blank",SD="http://localhost";class rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(i,e,n,a=ED,o=TD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...bD,width:a.toString(),height:o.toString(),top:u,left:c},g=fn().toLowerCase();n&&(m=PT(g)?wD:n),jT(g)&&(e=e||SD,p.scrollbars="yes");const b=Object.entries(p).reduce((x,[N,U])=>`${x}${N}=${U},`,"");if(s5(g)&&m!=="_self")return AD(e||"",m),new rb(null);const T=window.open(e||"",m,b);Ae(T,i,"popup-blocked");try{T.focus()}catch{}return new rb(T)}function AD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const RD="__/auth/handler",CD="emulator/auth/handler",ND=encodeURIComponent("fac");async function ab(i,e,n,a,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Qo,eventId:o};if(e instanceof Fg){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",vA(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))c[b]=T}if(e instanceof Bu){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(c.scopes=b.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),g=p?`#${ND}=${encodeURIComponent(p)}`:"";return`${ID(i)}?${Ou(m).slice(1)}${g}`}function ID({config:i}){return i.emulator?Ug(i,CD):`https://${i.authDomain}/${RD}`}const up="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WT,this._completeRedirectFn=tD,this._overrideRedirectResult=Z5}async _openPopup(e,n,a,o){Or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ab(e,n,a,Lp(),o);return xD(e,u,Gg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await ab(e,n,a,Lp(),o);return V5(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Or(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await _D(e),a=new iD(e);return n.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(up,{type:up},o=>{const u=o?.[0]?.[up];u!==void 0&&n(!!u),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||LT()||qg()}}const MD=DD;var sb="@firebase/auth",ob="1.12.0";class OD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function VD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kD(i){Oo(new xs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=a.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(i)},g=new d5(a,o,u,p);return v5(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Oo(new xs("auth-internal",e=>{const n=Ld(e.getProvider("auth").getImmediate());return(a=>new OD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xa(sb,ob,VD(i)),xa(sb,ob,"esm2020")}const jD=300,LD=Hb("authIdTokenMaxAge")||jD;let lb=null;const PD=i=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>LD)return;const o=n?.token;lb!==o&&(lb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UD(i=Kb()){const e=Jp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=y5(i,{popupRedirectResolver:MD,persistence:[H5,D5,WT]}),a=Hb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const c=PD(u.toString());R5(n,c,()=>c(n.currentUser)),A5(n,m=>c(m))}}const o=Bb("auth");return o&&_5(n,`http://${o}`),n}function zD(){return document.getElementsByTagName("head")?.[0]??document}f5({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=Ti("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",zD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kD("Browser");const BD={apiKey:"AIzaSyCEEiHNizVWIMDfUS8d1g_vD7pCmEPY7jc",authDomain:"soccer-scheduler-2774f.firebaseapp.com",projectId:"soccer-scheduler-2774f",storageBucket:"soccer-scheduler-2774f.firebasestorage.app",messagingSenderId:"2892629143",appId:"1:2892629143:web:eba3ba8482612b4d1455d2"},aw=$b(BD),we=CI(aw),Bo=UD(aw);function qD(){const i=fd(),e=async()=>{const n=new wr;try{const o=(await $5(Bo,n)).user,u=Xt(we,"users",o.uid);(await Au(u)).exists()||await zI(u,{email:o.email,role:"manager",teamId:null,createdAt:new Date}),alert(`Welcome ${o.displayName}!`),i("/admin")}catch(a){console.error("Login Error:",a),alert("Login Failed: "+a.message)}};return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md text-center max-w-sm w-full",children:[v.jsx("h1",{className:"text-2xl font-bold mb-4 text-slate-800",children:"Soccer Scheduler"}),v.jsx("p",{className:"mb-6 text-gray-600",children:"Admin & Manager Access"}),v.jsxs("button",{onClick:e,className:"flex items-center justify-center gap-2 w-full bg-white border border-gray-300 text-gray-700 font-semibold py-2 px-4 rounded shadow-sm hover:bg-gray-50 transition",children:[v.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-5 h-5",alt:"Google"}),"Sign in with Google"]})]})})}function HD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const ub=w.forwardRef(HD);function FD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}const cb=w.forwardRef(FD);function GD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const qo=w.forwardRef(GD);function YD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const sw=w.forwardRef(YD);function QD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const ow=w.forwardRef(QD);function $D({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qg=w.forwardRef($D);function KD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const XD=w.forwardRef(KD);function WD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const ZD=w.forwardRef(WD);function JD({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const e4=w.forwardRef(JD);function t4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const n4=w.forwardRef(t4);function i4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const lw=w.forwardRef(i4);function r4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64"}))}const uw=w.forwardRef(r4);function a4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const s4=w.forwardRef(a4);function o4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const l4=w.forwardRef(o4);function u4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const $g=w.forwardRef(u4);function c4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const h4=w.forwardRef(c4);function d4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Kg=w.forwardRef(d4);function f4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const cw=w.forwardRef(f4);function m4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const p4=w.forwardRef(m4);function g4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const y4=w.forwardRef(g4);function v4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Is=w.forwardRef(v4);function _4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const b4=w.forwardRef(_4);function E4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const hw=w.forwardRef(E4);function T4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const w4=w.forwardRef(T4);function S4({title:i,titleId:e,...n},a){return w.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":e},n),i?w.createElement("title",{id:e},i):null,w.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const zp=w.forwardRef(S4);let x4={data:""},A4=i=>{if(typeof window=="object"){let e=(i?i.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(i||document.head).appendChild(e),e.firstChild}return i||x4},R4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,C4=/\/\*[^]*?\*\/|  +/g,hb=/\n+/g,ba=(i,e)=>{let n="",a="",o="";for(let u in i){let c=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+c+";":a+=u[1]=="f"?ba(c,u):u+"{"+ba(c,u[1]=="k"?"":e)+"}":typeof c=="object"?a+=ba(c,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):c!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ba.p?ba.p(u,c):u+":"+c+";")}return n+(e&&o?e+"{"+o+"}":o)+a},Tr={},dw=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+dw(i[n]);return e}return i},N4=(i,e,n,a,o)=>{let u=dw(i),c=Tr[u]||(Tr[u]=(p=>{let g=0,b=11;for(;g<p.length;)b=101*b+p.charCodeAt(g++)>>>0;return"go"+b})(u));if(!Tr[c]){let p=u!==i?i:(g=>{let b,T,x=[{}];for(;b=R4.exec(g.replace(C4,""));)b[4]?x.shift():b[3]?(T=b[3].replace(hb," ").trim(),x.unshift(x[0][T]=x[0][T]||{})):x[0][b[1]]=b[2].replace(hb," ").trim();return x[0]})(i);Tr[c]=ba(o?{["@keyframes "+c]:p}:p,n?"":"."+c)}let m=n&&Tr.g?Tr.g:null;return n&&(Tr.g=Tr[c]),((p,g,b,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=b?p+g.data:g.data+p)})(Tr[c],e,a,m),c},I4=(i,e,n)=>i.reduce((a,o,u)=>{let c=e[u];if(c&&c.call){let m=c(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;c=p?"."+p:m&&typeof m=="object"?m.props?"":ba(m,""):m===!1?"":m}return a+o+(c??"")},"");function Bd(i){let e=this||{},n=i.call?i(e.p):i;return N4(n.unshift?n.raw?I4(n,[].slice.call(arguments,1),e.p):n.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):n,A4(e.target),e.g,e.o,e.k)}let fw,Bp,qp;Bd.bind({g:1});let Vr=Bd.bind({k:1});function D4(i,e,n,a){ba.p=e,fw=i,Bp=n,qp=a}function za(i,e){let n=this||{};return function(){let a=arguments;function o(u,c){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Bp&&Bp()},m),n.o=/ *go\d+/.test(p),m.className=Bd.apply(n,a)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),qp&&g[0]&&qp(m),fw(g,m)}return o}}var M4=i=>typeof i=="function",ld=(i,e)=>M4(i)?i(e):i,O4=(()=>{let i=0;return()=>(++i).toString()})(),mw=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),V4=20,Xg="default",pw=(i,e)=>{let{toastLimit:n}=i.settings;switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,n)};case 1:return{...i,toasts:i.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:a}=e;return pw(i,{type:i.toasts.find(c=>c.id===a.id)?1:0,toast:a});case 3:let{toastId:o}=e;return{...i,toasts:i.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let u=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+u}))}}},zh=[],gw={toasts:[],pausedAt:void 0,settings:{toastLimit:V4}},$i={},yw=(i,e=Xg)=>{$i[e]=pw($i[e]||gw,i),zh.forEach(([n,a])=>{n===e&&a($i[e])})},vw=i=>Object.keys($i).forEach(e=>yw(i,e)),k4=i=>Object.keys($i).find(e=>$i[e].toasts.some(n=>n.id===i)),qd=(i=Xg)=>e=>{yw(e,i)},j4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},L4=(i={},e=Xg)=>{let[n,a]=w.useState($i[e]||gw),o=w.useRef($i[e]);w.useEffect(()=>(o.current!==$i[e]&&a($i[e]),zh.push([e,a]),()=>{let c=zh.findIndex(([m])=>m===e);c>-1&&zh.splice(c,1)}),[e]);let u=n.toasts.map(c=>{var m,p,g;return{...i,...i[c.type],...c,removeDelay:c.removeDelay||((m=i[c.type])==null?void 0:m.removeDelay)||i?.removeDelay,duration:c.duration||((p=i[c.type])==null?void 0:p.duration)||i?.duration||j4[c.type],style:{...i.style,...(g=i[c.type])==null?void 0:g.style,...c.style}}});return{...n,toasts:u}},P4=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:n?.id||O4()}),Hu=i=>(e,n)=>{let a=P4(e,i,n);return qd(a.toasterId||k4(a.id))({type:2,toast:a}),a.id},Kt=(i,e)=>Hu("blank")(i,e);Kt.error=Hu("error");Kt.success=Hu("success");Kt.loading=Hu("loading");Kt.custom=Hu("custom");Kt.dismiss=(i,e)=>{let n={type:3,toastId:i};e?qd(e)(n):vw(n)};Kt.dismissAll=i=>Kt.dismiss(void 0,i);Kt.remove=(i,e)=>{let n={type:4,toastId:i};e?qd(e)(n):vw(n)};Kt.removeAll=i=>Kt.remove(void 0,i);Kt.promise=(i,e,n)=>{let a=Kt.loading(e.loading,{...n,...n?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?ld(e.success,o):void 0;return u?Kt.success(u,{id:a,...n,...n?.success}):Kt.dismiss(a),o}).catch(o=>{let u=e.error?ld(e.error,o):void 0;u?Kt.error(u,{id:a,...n,...n?.error}):Kt.dismiss(a)}),i};var U4=1e3,z4=(i,e="default")=>{let{toasts:n,pausedAt:a}=L4(i,e),o=w.useRef(new Map).current,u=w.useCallback((T,x=U4)=>{if(o.has(T))return;let N=setTimeout(()=>{o.delete(T),c({type:4,toastId:T})},x);o.set(T,N)},[]);w.useEffect(()=>{if(a)return;let T=Date.now(),x=n.map(N=>{if(N.duration===1/0)return;let U=(N.duration||0)+N.pauseDuration-(T-N.createdAt);if(U<0){N.visible&&Kt.dismiss(N.id);return}return setTimeout(()=>Kt.dismiss(N.id,e),U)});return()=>{x.forEach(N=>N&&clearTimeout(N))}},[n,a,e]);let c=w.useCallback(qd(e),[e]),m=w.useCallback(()=>{c({type:5,time:Date.now()})},[c]),p=w.useCallback((T,x)=>{c({type:1,toast:{id:T,height:x}})},[c]),g=w.useCallback(()=>{a&&c({type:6,time:Date.now()})},[a,c]),b=w.useCallback((T,x)=>{let{reverseOrder:N=!1,gutter:U=8,defaultPosition:G}=x||{},B=n.filter(J=>(J.position||G)===(T.position||G)&&J.height),K=B.findIndex(J=>J.id===T.id),q=B.filter((J,ee)=>ee<K&&J.visible).length;return B.filter(J=>J.visible).slice(...N?[q+1]:[0,q]).reduce((J,ee)=>J+(ee.height||0)+U,0)},[n]);return w.useEffect(()=>{n.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let x=o.get(T.id);x&&(clearTimeout(x),o.delete(T.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:b}}},B4=Vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,q4=Vr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,H4=Vr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,F4=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${B4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${q4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${H4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,G4=Vr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Y4=za("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${G4} 1s linear infinite;
`,Q4=Vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$4=Vr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,K4=za("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Q4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,X4=za("div")`
  position: absolute;
`,W4=za("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Z4=Vr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,J4=za("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Z4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,e3=({toast:i})=>{let{icon:e,type:n,iconTheme:a}=i;return e!==void 0?typeof e=="string"?w.createElement(J4,null,e):e:n==="blank"?null:w.createElement(W4,null,w.createElement(Y4,{...a}),n!=="loading"&&w.createElement(X4,null,n==="error"?w.createElement(F4,{...a}):w.createElement(K4,{...a})))},t3=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,n3=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,i3="0%{opacity:0;} 100%{opacity:1;}",r3="0%{opacity:1;} 100%{opacity:0;}",a3=za("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s3=za("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,o3=(i,e)=>{let n=i.includes("top")?1:-1,[a,o]=mw()?[i3,r3]:[t3(n),n3(n)];return{animation:e?`${Vr(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Vr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},l3=w.memo(({toast:i,position:e,style:n,children:a})=>{let o=i.height?o3(i.position||e||"top-center",i.visible):{opacity:0},u=w.createElement(e3,{toast:i}),c=w.createElement(s3,{...i.ariaProps},ld(i.message,i));return w.createElement(a3,{className:i.className,style:{...o,...n,...i.style}},typeof a=="function"?a({icon:u,message:c}):w.createElement(w.Fragment,null,u,c))});D4(w.createElement);var u3=({id:i,className:e,style:n,onHeightUpdate:a,children:o})=>{let u=w.useCallback(c=>{if(c){let m=()=>{let p=c.getBoundingClientRect().height;a(i,p)};m(),new MutationObserver(m).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[i,a]);return w.createElement("div",{ref:u,className:e,style:n},o)},c3=(i,e)=>{let n=i.includes("top"),a=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...o}},h3=Bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ah=16,d3=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:a,children:o,toasterId:u,containerStyle:c,containerClassName:m})=>{let{toasts:p,handlers:g}=z4(n,u);return w.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Ah,left:Ah,right:Ah,bottom:Ah,pointerEvents:"none",...c},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(b=>{let T=b.position||e,x=g.calculateOffset(b,{reverseOrder:i,gutter:a,defaultPosition:e}),N=c3(T,x);return w.createElement(u3,{id:b.id,key:b.id,onHeightUpdate:g.updateHeight,className:b.visible?h3:"",style:N},b.type==="custom"?ld(b.message,b):o?o(b):w.createElement(l3,{toast:b,position:T}))}))};function f3({children:i}){const[e,n]=w.useState(null),a=Si(),o=fd();w.useEffect(()=>Pd(Bo,m=>{n(m)}),[]);const u=async()=>{await C5(Bo),o("/login")},c=[{name:"Club Schedule",href:"/",icon:qo},{name:"My Team",href:"/manager",icon:hw},{name:"Admin",href:"/admin",icon:XD}];return v.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[v.jsx("header",{className:"bg-white shadow-sm z-20 sticky top-0",children:v.jsxs("div",{className:"max-w-5xl mx-auto px-4 h-16 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold",children:"S"}),v.jsx("h1",{className:"text-xl font-bold text-slate-800 tracking-tight hidden sm:block",children:"SoccerScheduler"})]}),v.jsxs("div",{className:"hidden md:flex gap-6 items-center",children:[c.map(m=>v.jsx(Ea,{to:m.href,className:`text-sm font-medium transition-colors ${a.pathname===m.href?"text-indigo-600":"text-slate-500 hover:text-slate-800"}`,children:m.name},m.name)),e&&v.jsxs("button",{onClick:u,className:"ml-4 flex items-center gap-1 text-sm font-medium text-red-500 hover:text-red-700 bg-red-50 px-3 py-1.5 rounded-full transition",children:[v.jsx(ub,{className:"w-4 h-4"}),"Sign Out"]}),!e&&v.jsx(Ea,{to:"/login",className:"ml-4 text-sm font-bold text-indigo-600",children:"Login"})]}),v.jsx("div",{className:"md:hidden",children:e?v.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-red-500",children:v.jsx(ub,{className:"w-6 h-6"})}):v.jsx(Ea,{to:"/login",className:"text-sm font-bold text-indigo-600",children:"Login"})})]})}),v.jsx("main",{className:"flex-grow max-w-5xl w-full mx-auto px-4 py-6 pb-24 md:pb-6",children:v.jsx(hx,{})}),v.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 pb-safe z-30",children:v.jsx("div",{className:"flex justify-around items-center h-16",children:c.map(m=>{const p=a.pathname===m.href;return v.jsxs(Ea,{to:m.href,className:`flex flex-col items-center justify-center w-full h-full space-y-1 ${p?"text-indigo-600":"text-slate-400"}`,children:[v.jsx(m.icon,{className:`w-6 h-6 ${p?"stroke-2":"stroke-1.5"}`}),v.jsx("span",{className:"text-[10px] font-medium",children:m.name})]},m.name)})})}),v.jsx(d3,{position:"top-center"})]})}function yi({children:i}){const[e,n]=w.useState(null),[a,o]=w.useState(!0),u=Si();return w.useEffect(()=>{const c=Pd(Bo,m=>{n(m),o(!1)});return()=>c()},[]),a?v.jsx("div",{className:"flex justify-center items-center h-screen bg-slate-50",children:v.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-indigo-500 border-t-transparent rounded-full"})}):e?i:v.jsx(cx,{to:"/login",state:{from:u},replace:!0})}const _w=6048e5,m3=864e5,Wg=6e4,bw=36e5,db=Symbol.for("constructDateFrom");function nr(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&db in i?i[db](e):i instanceof Date?new i.constructor(e):new Date(e)}function mt(i,e){return nr(e||i,i)}let p3={};function Hd(){return p3}function Nu(i,e){const n=Hd(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=mt(i,e?.in),u=o.getDay(),c=(u<a?7:0)+u-a;return o.setDate(o.getDate()-c),o.setHours(0,0,0,0),o}function ud(i,e){return Nu(i,{...e,weekStartsOn:1})}function Ew(i,e){const n=mt(i,e?.in),a=n.getFullYear(),o=nr(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=ud(o),c=nr(n,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const m=ud(c);return n.getTime()>=u.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function fb(i){const e=mt(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function Zg(i,...e){const n=nr.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function Ds(i,e){const n=mt(i,e?.in);return n.setHours(0,0,0,0),n}function g3(i,e,n){const[a,o]=Zg(n?.in,i,e),u=Ds(a),c=Ds(o),m=+u-fb(u),p=+c-fb(c);return Math.round((m-p)/m3)}function y3(i,e){const n=Ew(i,e),a=nr(i,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ud(a)}function Mo(i,e,n){const a=mt(i,n?.in);return a.setTime(a.getTime()+e*Wg),a}function Ho(i,e,n){const[a,o]=[+mt(i.start,n?.in),+mt(i.end,n?.in)].sort((m,p)=>m-p),[u,c]=[+mt(e.start,n?.in),+mt(e.end,n?.in)].sort((m,p)=>m-p);return a<c&&u<o}function v3(i,e,n){const[a,o]=Zg(n?.in,i,e);return+Ds(a)==+Ds(o)}function _3(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function b3(i){return!(!_3(i)&&typeof i!="number"||isNaN(+mt(i)))}function E3(i,e){const n=mt(i,e?.in);return n.setHours(23,59,59,999),n}function T3(i,e){const[n,a]=Zg(i,e.start,e.end);return{start:n,end:a}}function w3(i,e){const{start:n,end:a}=T3(e?.in,i);let o=+n>+a;const u=o?+n:+a,c=o?a:n;c.setHours(0,0,0,0);let m=1;const p=[];for(;+c<=u;)p.push(nr(n,c)),c.setDate(c.getDate()+m),c.setHours(0,0,0,0);return o?p.reverse():p}function S3(i,e){const n=mt(i,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const x3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A3=(i,e,n)=>{let a;const o=x3[i];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function cp(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const R3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},C3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I3={date:cp({formats:R3,defaultWidth:"full"}),time:cp({formats:C3,defaultWidth:"full"}),dateTime:cp({formats:N3,defaultWidth:"full"})},D3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M3=(i,e,n,a)=>D3[i];function ru(i){return(e,n)=>{const a=n?.context?String(n.context):"standalone";let o;if(a==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):c;o=i.formattingValues[m]||i.formattingValues[c]}else{const c=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[c]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const O3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},j3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},L3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U3=(i,e)=>{const n=Number(i),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},z3={ordinalNumber:U3,era:ru({values:O3,defaultWidth:"wide"}),quarter:ru({values:V3,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ru({values:k3,defaultWidth:"wide"}),day:ru({values:j3,defaultWidth:"wide"}),dayPeriod:ru({values:L3,defaultWidth:"wide",formattingValues:P3,defaultFormattingWidth:"wide"})};function au(i){return(e,n={})=>{const a=n.width,o=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const c=u[0],m=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?q3(m,T=>T.test(c)):B3(m,T=>T.test(c));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const b=e.slice(c.length);return{value:g,rest:b}}}function B3(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function q3(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function H3(i){return(e,n={})=>{const a=e.match(i.matchPattern);if(!a)return null;const o=a[0],u=e.match(i.parsePattern);if(!u)return null;let c=i.valueCallback?i.valueCallback(u[0]):u[0];c=n.valueCallback?n.valueCallback(c):c;const m=e.slice(o.length);return{value:c,rest:m}}}const F3=/^(\d+)(th|st|nd|rd)?/i,G3=/\d+/i,Y3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Q3={any:[/^b/i,/^(a|c)/i]},$3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K3={any:[/1/i,/2/i,/3/i,/4/i]},X3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},J3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nM={ordinalNumber:H3({matchPattern:F3,parsePattern:G3,valueCallback:i=>parseInt(i,10)}),era:au({matchPatterns:Y3,defaultMatchWidth:"wide",parsePatterns:Q3,defaultParseWidth:"any"}),quarter:au({matchPatterns:$3,defaultMatchWidth:"wide",parsePatterns:K3,defaultParseWidth:"any",valueCallback:i=>i+1}),month:au({matchPatterns:X3,defaultMatchWidth:"wide",parsePatterns:W3,defaultParseWidth:"any"}),day:au({matchPatterns:Z3,defaultMatchWidth:"wide",parsePatterns:J3,defaultParseWidth:"any"}),dayPeriod:au({matchPatterns:eM,defaultMatchWidth:"any",parsePatterns:tM,defaultParseWidth:"any"})},iM={code:"en-US",formatDistance:A3,formatLong:I3,formatRelative:M3,localize:z3,match:nM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rM(i,e){const n=mt(i,e?.in);return g3(n,S3(n))+1}function aM(i,e){const n=mt(i,e?.in),a=+ud(n)-+y3(n);return Math.round(a/_w)+1}function Tw(i,e){const n=mt(i,e?.in),a=n.getFullYear(),o=Hd(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,c=nr(e?.in||i,0);c.setFullYear(a+1,0,u),c.setHours(0,0,0,0);const m=Nu(c,e),p=nr(e?.in||i,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=Nu(p,e);return+n>=+m?a+1:+n>=+g?a:a-1}function sM(i,e){const n=Hd(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Tw(i,e),u=nr(e?.in||i,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),Nu(u,e)}function oM(i,e){const n=mt(i,e?.in),a=+Nu(n,e)-+sM(n,e);return Math.round(a/_w)+1}function tt(i,e){const n=i<0?"-":"",a=Math.abs(i).toString().padStart(e,"0");return n+a}const ga={y(i,e){const n=i.getFullYear(),a=n>0?n:1-n;return tt(e==="yy"?a%100:a,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):tt(n+1,2)},d(i,e){return tt(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(i,e){return tt(i.getHours()%12||12,e.length)},H(i,e){return tt(i.getHours(),e.length)},m(i,e){return tt(i.getMinutes(),e.length)},s(i,e){return tt(i.getSeconds(),e.length)},S(i,e){const n=e.length,a=i.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return tt(o,e.length)}},wo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mb={G:function(i,e,n){const a=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const a=i.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return ga.y(i,e)},Y:function(i,e,n,a){const o=Tw(i,a),u=o>0?o:1-o;if(e==="YY"){const c=u%100;return tt(c,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):tt(u,e.length)},R:function(i,e){const n=Ew(i);return tt(n,e.length)},u:function(i,e){const n=i.getFullYear();return tt(n,e.length)},Q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return tt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return tt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,e,n){const a=i.getMonth();switch(e){case"M":case"MM":return ga.M(i,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(i,e,n){const a=i.getMonth();switch(e){case"L":return String(a+1);case"LL":return tt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(i,e,n,a){const o=oM(i,a);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):tt(o,e.length)},I:function(i,e,n){const a=aM(i);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):tt(a,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):ga.d(i,e)},D:function(i,e,n){const a=rM(i);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):tt(a,e.length)},E:function(i,e,n){const a=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(i,e,n,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return tt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,n,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return tt(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,n){const a=i.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return tt(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(i,e,n){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,n){const a=i.getHours();let o;switch(a===12?o=wo.noon:a===0?o=wo.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,n){const a=i.getHours();let o;switch(a>=17?o=wo.evening:a>=12?o=wo.afternoon:a>=4?o=wo.morning:o=wo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let a=i.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ga.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):ga.H(i,e)},K:function(i,e,n){const a=i.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):tt(a,e.length)},k:function(i,e,n){let a=i.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):tt(a,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):ga.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):ga.s(i,e)},S:function(i,e){return ga.S(i,e)},X:function(i,e,n){const a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return gb(a);case"XXXX":case"XX":return ys(a);default:return ys(a,":")}},x:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"x":return gb(a);case"xxxx":case"xx":return ys(a);default:return ys(a,":")}},O:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pb(a,":");default:return"GMT"+ys(a,":")}},z:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pb(a,":");default:return"GMT"+ys(a,":")}},t:function(i,e,n){const a=Math.trunc(+i/1e3);return tt(a,e.length)},T:function(i,e,n){return tt(+i,e.length)}};function pb(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+e+tt(u,2)}function gb(i,e){return i%60===0?(i>0?"-":"+")+tt(Math.abs(i)/60,2):ys(i,e)}function ys(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=tt(Math.trunc(a/60),2),u=tt(a%60,2);return n+o+e+u}const yb=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ww=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},lM=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return yb(i,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",yb(a,e)).replace("{{time}}",ww(o,e))},uM={p:ww,P:lM},cM=/^D+$/,hM=/^Y+$/,dM=["D","DD","YY","YYYY"];function fM(i){return cM.test(i)}function mM(i){return hM.test(i)}function pM(i,e,n){const a=gM(i,e,n);if(console.warn(a),dM.includes(i))throw new RangeError(a)}function gM(i,e,n){const a=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const yM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,vM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_M=/^'([^]*?)'?$/,bM=/''/g,EM=/[a-zA-Z]/;function bt(i,e,n){const a=Hd(),o=a.locale??iM,u=a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=mt(i,n?.in);if(!b3(m))throw new RangeError("Invalid time value");let p=e.match(vM).map(b=>{const T=b[0];if(T==="p"||T==="P"){const x=uM[T];return x(b,o.formatLong)}return b}).join("").match(yM).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const T=b[0];if(T==="'")return{isToken:!1,value:TM(b)};if(mb[T])return{isToken:!0,value:b};if(T.match(EM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:b}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:c,locale:o};return p.map(b=>{if(!b.isToken)return b.value;const T=b.value;(mM(T)||fM(T))&&pM(T,e,String(i));const x=mb[T[0]];return x(m,T,o.localize,g)}).join("")}function TM(i){const e=i.match(_M);return e?e[1].replace(bM,"'"):i}function Ca(i,e,n){const a=+mt(i,n?.in),[o,u]=[+mt(e.start,n?.in),+mt(e.end,n?.in)].sort((c,m)=>c-m);return a>=o&&a<=u}function Na(i,e){const n=()=>nr(e?.in,NaN),o=AM(i);let u;if(o.date){const g=RM(o.date,2);u=CM(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const c=+u;let m=0,p;if(o.time&&(m=NM(o.time),isNaN(m)))return n();if(o.timezone){if(p=IM(o.timezone),isNaN(p))return n()}else{const g=new Date(c+m),b=mt(0,e?.in);return b.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),b.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),b}return mt(c+m+p,e?.in)}const Rh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AM(i){const e={},n=i.split(Rh.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],Rh.timeZoneDelimiter.test(e.date)&&(e.date=i.split(Rh.timeZoneDelimiter)[0],a=i.substr(e.date.length,i.length))),a){const o=Rh.timezone.exec(a);o?(e.time=a.replace(o[1],""),e.timezone=o[1]):e.time=a}return e}function RM(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=i.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:i.slice((a[1]||a[2]).length)}}function CM(i,e){if(e===null)return new Date(NaN);const n=i.match(wM);if(!n)return new Date(NaN);const a=!!n[4],o=su(n[1]),u=su(n[2])-1,c=su(n[3]),m=su(n[4]),p=su(n[5])-1;if(a)return kM(e,m,p)?DM(e,m,p):new Date(NaN);{const g=new Date(0);return!OM(e,u,c)||!VM(e,o)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(o,c)),g)}}function su(i){return i?parseInt(i):1}function NM(i){const e=i.match(SM);if(!e)return NaN;const n=hp(e[1]),a=hp(e[2]),o=hp(e[3]);return jM(n,a,o)?n*bw+a*Wg+o*1e3:NaN}function hp(i){return i&&parseFloat(i.replace(",","."))||0}function IM(i){if(i==="Z")return 0;const e=i.match(xM);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return LM(a,o)?n*(a*bw+o*Wg):NaN}function DM(i,e,n){const a=new Date(0);a.setUTCFullYear(i,0,4);const o=a.getUTCDay()||7,u=(e-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const MM=[31,null,31,30,31,30,31,31,30,31,30,31];function Sw(i){return i%400===0||i%4===0&&i%100!==0}function OM(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(MM[e]||(Sw(i)?29:28))}function VM(i,e){return e>=1&&e<=(Sw(i)?366:365)}function kM(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function jM(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function LM(i,e){return e>=0&&e<=59}function cd(i,e,n){const a=mt(i,n?.in);return a.setHours(e),a}function hd(i,e,n){const a=mt(i,n?.in);return a.setMinutes(e),a}function PM(){const[i,e]=w.useState([]),[n,a]=w.useState([]),[o,u]=w.useState(!0),[c,m]=w.useState(""),[p,g]=w.useState("");w.useEffect(()=>{(async()=>{try{const N=Ei(He(we,"matches"),xT("start","asc")),G=(await Pt(N)).docs.map(q=>({id:q.id,...q.data(),start:q.data().start.toDate(),end:q.data().end.toDate()})),B=Ds(new Date),K=G.filter(q=>q.start>=B);e(K),a(K)}catch(N){console.error("Error loading schedule:",N)}finally{u(!1)}})()},[]),w.useEffect(()=>{let x=i;if(c){const N=Na(c);x=x.filter(U=>v3(U.start,N))}if(p){const N=p.toLowerCase();x=x.filter(U=>U.homeTeamName.toLowerCase().includes(N)||U.awayTeamName.toLowerCase().includes(N))}a(x)},[c,p,i]);const b=n.reduce((x,N)=>{const U=bt(N.start,"yyyy-MM-dd");return x[U]||(x[U]=[]),x[U].push(N),x},{}),T=Object.keys(b).sort();return o?v.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading Club Schedule..."}):v.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[v.jsx(qo,{className:"w-8 h-8 text-indigo-600"}),"Club Master Schedule"]}),v.jsx("p",{className:"text-slate-500 text-sm",children:"View all upcoming matches for the entire club."})]}),v.jsxs("div",{className:"flex gap-2 bg-white p-2 rounded-lg shadow-sm border border-slate-200",children:[v.jsxs("div",{className:"relative",children:[v.jsx(l4,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),v.jsx("input",{placeholder:"Search Team...",className:"pl-9 pr-3 py-2 bg-slate-50 border border-slate-200 rounded text-sm focus:outline-none focus:border-indigo-500",value:p,onChange:x=>g(x.target.value)})]}),v.jsx("input",{type:"date",className:"px-3 py-2 bg-slate-50 border border-slate-200 rounded text-sm focus:outline-none focus:border-indigo-500",value:c,onChange:x=>m(x.target.value)}),(c||p)&&v.jsx("button",{onClick:()=>{m(""),g("")},className:"px-3 py-2 text-xs font-bold text-red-500 hover:bg-red-50 rounded",children:"Clear"})]})]}),T.length===0&&v.jsx("div",{className:"text-center py-12 bg-white rounded-xl border border-dashed border-slate-300",children:v.jsx("p",{className:"text-slate-400",children:"No matches found matching your filters."})}),v.jsx("div",{className:"space-y-8",children:T.map(x=>v.jsxs("div",{children:[v.jsx("div",{className:"sticky top-16 bg-slate-50/95 backdrop-blur py-2 border-b border-slate-200 mb-3 z-10",children:v.jsxs("h3",{className:"font-bold text-slate-700 text-lg flex items-center gap-2",children:[bt(Na(x),"EEEE, MMMM do"),v.jsxs("span",{className:"text-xs font-normal text-slate-400 bg-white px-2 py-0.5 rounded border",children:[b[x].length," Games"]})]})}),v.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:b[x].map(N=>v.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm hover:shadow-md transition flex flex-col justify-between",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("div",{className:"font-bold text-slate-800 text-lg",children:N.homeTeamName}),v.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold px-2",children:"vs"}),v.jsx("div",{className:"font-bold text-slate-800 text-lg",children:N.awayTeamName})]}),v.jsxs("div",{className:"flex justify-between items-end border-t border-slate-50 pt-3",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-1 text-sm font-bold text-indigo-900",children:N.complexName}),v.jsx("div",{className:"text-xs text-slate-500 mt-0.5",children:N.fieldName?N.fieldName:`Field ${N.fieldId}`})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-lg font-bold text-slate-700",children:bt(N.start,"h:mm a")}),v.jsx("div",{className:"text-[10px] text-slate-400 uppercase tracking-wide font-bold",children:"Kickoff"})]})]})]},N.id))})]},x))})]})}function UM(){const{teamId:i}=XS(),[e,n]=w.useState(null),[a,o]=w.useState([]),[u,c]=w.useState([]),[m,p]=w.useState(!0);w.useEffect(()=>{i&&(async()=>{try{const x=await Au(Xt(we,"teams",i));x.exists()&&n({id:x.id,...x.data()});const N=Ei(He(we,"requests"),_i("teamId","==",i),_i("type","==","available")),G=(await Pt(N)).docs.map(A=>({id:A.id,...A.data(),start:A.data().start.toDate(),end:A.data().end.toDate()})),B=He(we,"matches"),[K,q]=await Promise.all([Pt(Ei(B,_i("homeTeamId","==",i))),Pt(Ei(B,_i("awayTeamId","==",i)))]),J=[],ee=A=>({id:A.id,...A.data(),start:A.data().start.toDate(),end:A.data().end.toDate()});K.forEach(A=>J.push(ee(A))),q.forEach(A=>J.push(ee(A)));const oe=Array.from(new Set(J.map(A=>A.id))).map(A=>J.find(I=>I.id===A));c(oe);const fe=Ds(new Date);let C=[];G.forEach(A=>{w3({start:A.start,end:A.end}).forEach(V=>{if(V<fe)return;const O=Ds(V),L=E3(V);C.push({id:A.id+"_"+V.toISOString(),dateDisplay:V,originalNote:A.note,start:O,end:L})})}),C.sort((A,I)=>A.start-I.start),o(C)}catch(x){console.error("Error fetching data",x)}finally{p(!1)}})()},[i]);const g=T=>u.filter(x=>Ho({start:T.start,end:T.end},{start:x.start,end:x.end})).sort((x,N)=>x.start-N.start);if(m)return v.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading Schedule..."});if(!e)return v.jsx("div",{className:"p-10 text-center text-red-500",children:"Team not found."});const b=e.contacts?.[0]||{};return v.jsx("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden mb-6",children:[v.jsxs("div",{className:"bg-indigo-600 p-6 text-white",children:[v.jsx("h1",{className:"text-2xl font-bold mb-1",children:e.name}),v.jsx("p",{className:"text-indigo-100 text-sm",children:"Availability Schedule"})]}),v.jsx("div",{className:"p-6",children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"bg-indigo-50 p-3 rounded-full text-indigo-600",children:v.jsx(e4,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Contact for Games"}),v.jsx("p",{className:"text-slate-900 font-medium",children:b.name||"Team Manager"}),b.email&&v.jsx("a",{href:`mailto:${b.email}`,className:"text-indigo-600 hover:underline",children:b.email})]})]})})]}),v.jsxs("h2",{className:"font-bold text-slate-700 mb-4 flex items-center gap-2",children:[v.jsx(qo,{className:"w-5 h-5"})," Open Dates"]}),v.jsxs("div",{className:"space-y-4",children:[a.length===0&&v.jsx("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-lg p-8 text-center",children:v.jsx("p",{className:"text-slate-400 italic",children:"No upcoming availability posted."})}),a.map(T=>{const x=bt(T.start,"EEEE, MMMM do"),N=g(T),U=N.length>0;return v.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:[v.jsx("div",{className:"border-l-4 border-l-green-500 p-4",children:v.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-2",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-slate-800 text-lg",children:x}),U?v.jsxs("div",{className:"text-xs font-bold text-orange-600 mt-1 flex items-center gap-1",children:[v.jsx(Qg,{className:"w-3 h-3"}),"Partial Availability"]}):v.jsx("div",{className:"text-xs text-slate-400 mt-1",children:"All Day Availability"})]}),T.originalNote&&v.jsx("div",{className:"bg-green-50 text-green-700 px-3 py-1 rounded text-sm font-medium self-start",children:T.originalNote})]})}),U&&v.jsxs("div",{className:"bg-slate-50 border-t border-slate-100 p-3 px-4",children:[v.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[v.jsx(lw,{className:"w-4 h-4 text-red-600 mt-0.5"}),v.jsx("span",{className:"text-xs font-bold text-red-700 uppercase tracking-wide",children:"Unavailable Times"})]}),v.jsx("div",{className:"flex flex-wrap gap-2 ml-6",children:N.map(G=>v.jsxs("div",{className:"bg-white border border-slate-200 text-slate-700 font-bold text-sm px-3 py-1 rounded shadow-sm",children:[bt(G.start,"h:mm a")," - ",bt(G.end,"h:mm a")]},G.id))})]})]},T.id)})]})]})})}function zM(){const i=[{name:"Edit Schedules",path:"/admin/manage-matches",icon:Kg,color:"bg-indigo-500"},{name:"Schedule Matches",path:"/admin/matches",icon:qo,color:"bg-blue-500"},{name:"Club Blackouts",path:"/admin/blackouts",icon:h4,color:"bg-red-500"},{name:"Manage Complexes",path:"/admin/complexes",icon:$g,color:"bg-orange-500"},{name:"Field Availability",path:"/admin/availability",icon:Qg,color:"bg-teal-500"},{name:"Manage Teams",path:"/admin/teams",icon:w4,color:"bg-green-500"},{name:"Manage Users",path:"/admin/users",icon:y4,color:"bg-purple-500"}];return v.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[v.jsx("h2",{className:"text-3xl font-bold mb-8 text-slate-800",children:"Admin Control Center"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:i.map(e=>v.jsx(Ea,{to:e.path,className:"block group",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 flex items-center gap-4 transition group-hover:shadow-md group-hover:border-indigo-200",children:[v.jsx("div",{className:`${e.color} p-3 rounded-lg text-white`,children:v.jsx(e.icon,{className:"w-6 h-6"})}),v.jsx("span",{className:"font-bold text-slate-700 group-hover:text-indigo-600",children:e.name})]})},e.name))})]})}const BM=(i,e,n,a)=>{const o=[];n.some(g=>g.fieldId===i.fieldId&&Ca(i.start,{start:g.start,end:g.end})&&Ca(i.end,{start:g.start,end:g.end}))||o.push("No permit for this field at this time.");const c=e.find(g=>g.fieldId===i.fieldId&&Ho({start:i.start,end:i.end},{start:g.start,end:g.end}));c&&o.push(`Field conflict with Match ${c.id}`);const m=[i.homeTeamId,i.awayTeamId];return a.find(g=>m.includes(g.teamId)&&Ho({start:i.start,end:i.end},{start:g.start,end:g.end}))&&o.push("Team scheduling conflict (Blackout date found)."),{isValid:o.length===0,errors:o}};function xw(){const[i,e]=w.useState({matches:[],permits:[],blackouts:[],loading:!0});return w.useEffect(()=>{const n=Ts(He(we,"matches"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,matches:c}))}),a=Ts(He(we,"permits"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,permits:c}))}),o=Ts(He(we,"requests"),u=>{const c=u.docs.map(m=>({id:m.id,...m.data(),start:m.data().start.toDate(),end:m.data().end.toDate()}));e(m=>({...m,blackouts:c,loading:!1}))});return()=>{n(),a(),o()}},[]),i}function qM(){const{matches:i,permits:e,blackouts:n}=xw(),[a,o]=w.useState([]),[u,c]=w.useState([]),[m,p]=w.useState([]),[g,b]=w.useState({type:"existing",id:"",name:""}),[T,x]=w.useState({type:"existing",id:"",name:""}),[N,U]=w.useState(""),[G,B]=w.useState(""),[K,q]=w.useState(null),[J,ee]=w.useState(""),[oe,fe]=w.useState(90),[C,A]=w.useState(null),[I,V]=w.useState([]),[O,L]=w.useState([]),[D,Ie]=w.useState({type:"idle",msgs:[]});w.useEffect(()=>{(async()=>{const[_e,k,W]=await Promise.all([Pt(He(we,"teams")),Pt(He(we,"complexes")),Pt(He(we,"fields"))]);o(_e.docs.map(ae=>({id:ae.id,...ae.data()}))),c(k.docs.map(ae=>({id:ae.id,...ae.data()}))),p(W.docs.map(ae=>({id:ae.id,...ae.data()})))})(),(async()=>{const _e=query(He(we,"requests"),where("type","==","available")),k=await Pt(_e);L(k.docs.map(W=>({id:W.id,...W.data(),start:W.data().start.toDate(),end:W.data().end.toDate()})))})()},[]);const gt=m.filter(se=>se.complexId===N);w.useEffect(()=>{if(V([]),A(null),!G||!J||!oe)return;const se=[],xe=15;let _e=hd(cd(Na(J),6),0);const k=hd(cd(Na(J),22),0);for(;_e<k;){const W=_e,ae=Mo(_e,oe),he={start:W,end:ae},Ee=e.some(be=>be.fieldId===G&&Ca(W,{start:be.start,end:be.end})&&Ca(ae,{start:be.start,end:be.end})),ce=i.some(be=>be.fieldId===G&&Ho(he,{start:be.start,end:be.end}));Ee&&!ce&&se.push(bt(W,"HH:mm")),_e=Mo(_e,xe)}V(se)},[J,G,oe,i,e]),w.useEffect(()=>{if(!J||!g.id||g.id==="TEMP"){q(null);return}const se=Na(J),xe=O.find(_e=>_e.teamId===g.id&&Ca(se,{start:_e.start,end:_e.end}));q(xe?null:`Warning: ${g.name} has NOT listed this date as available.`)},[J,g,O]);const X=se=>{if(se.type==="temp")return{id:"TEMP",name:se.name};const xe=a.find(_e=>_e.id===se.id);return xe?{id:xe.id,name:xe.name}:null},ue=async se=>{se.preventDefault();const xe=X(g),_e=X(T);if(!xe||!_e||!G||!J||!C){Ie({type:"error",msgs:["Please fill in all fields"]});return}const k=new Date(`${J}T${C}`),W=Mo(k,oe),ae={homeTeamId:xe.id,homeTeamName:xe.name,awayTeamId:_e.id,awayTeamName:_e.name,fieldId:G,start:k,end:W},he=BM(ae,i,e,n);if(he.isValid)try{await ja(He(we,"matches"),ae),alert("Match Scheduled!"),Ie({type:"success",msgs:["Match created successfully!"]})}catch(Ee){console.error("Error:",Ee)}else Ie({type:"error",msgs:he.errors})};return v.jsx("div",{className:"max-w-4xl mx-auto p-4 md:p-8",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-slate-100 overflow-hidden",children:[v.jsx("div",{className:"bg-slate-50 p-6 border-b border-slate-100",children:v.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[v.jsx(hw,{className:"w-6 h-6 text-indigo-600"}),"Schedule Match"]})}),v.jsxs("form",{onSubmit:ue,className:"p-6 space-y-8",children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx(vb,{label:"Home Team",teams:a,selection:g,setSelection:b}),v.jsx(vb,{label:"Away Team",teams:a,selection:T,setSelection:x})]}),v.jsx("hr",{className:"border-slate-100"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Complex"}),v.jsxs("div",{className:"relative",children:[v.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 appearance-none bg-white",value:N,onChange:se=>{U(se.target.value),B("")},children:[v.jsx("option",{value:"",children:"-- Select Complex --"}),u.map(se=>v.jsx("option",{value:se.id,children:se.name},se.id))]}),v.jsx($g,{className:"w-5 h-5 text-slate-400 absolute right-3 top-3.5 pointer-events-none"})]})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Field"}),v.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 disabled:bg-slate-50",value:G,onChange:se=>B(se.target.value),disabled:!N,children:[v.jsx("option",{value:"",children:"-- Select Field --"}),gt.map(se=>v.jsx("option",{value:se.id,children:se.name},se.id))]})]}),v.jsxs("div",{className:"md:col-span-1",children:[v.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Game Date"}),v.jsx("input",{type:"date",className:"w-full border border-slate-300 rounded-lg p-3",value:J,onChange:se=>ee(se.target.value)})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Match Duration: ",v.jsxs("span",{className:"text-indigo-600",children:[oe," mins"]})]}),v.jsx("input",{type:"range",min:"30",max:"180",step:"15",className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer",value:oe,onChange:se=>fe(Number(se.target.value))}),v.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[v.jsx("span",{children:"30m"}),v.jsx("span",{children:"60m"}),v.jsx("span",{children:"90m"}),v.jsx("span",{children:"120m"}),v.jsx("span",{children:"180m"})]})]}),v.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[v.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[v.jsx(Qg,{className:"w-4 h-4"})," Available Start Times"]}),!J||!G?v.jsx("div",{className:"text-sm text-slate-400 italic text-center py-4",children:"Select a Field and Date to see times"}):I.length===0?v.jsx("div",{className:"text-sm text-red-500 font-medium text-center py-4 bg-red-50 rounded",children:"No open slots available (Field closed or fully booked)."}):v.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-2 max-h-48 overflow-y-auto",children:I.map(se=>v.jsx("button",{type:"button",onClick:()=>A(se),className:`px-2 py-2 text-sm font-medium rounded transition-all ${C===se?"bg-indigo-600 text-white shadow-md transform scale-105":"bg-white border border-slate-200 text-slate-600 hover:border-indigo-300 hover:text-indigo-600"}`,children:se},se))})]}),K&&v.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 text-yellow-800 text-sm font-bold border border-yellow-200 rounded flex items-center gap-2",children:[v.jsx(ExclamationTriangleIcon,{className:"w-5 h-5"}),K]}),D.type==="error"&&v.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded text-sm font-medium border border-red-100",children:D.msgs.join(", ")}),v.jsx("button",{type:"submit",disabled:!C,className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-lg hover:bg-indigo-700 shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:C?`Confirm: ${J} @ ${C}`:"Select a Time Slot"})]})]})})}function vb({label:i,teams:e,selection:n,setSelection:a}){const o=n.type==="temp";return v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("label",{className:"text-sm font-bold text-slate-700",children:i}),v.jsx("button",{type:"button",onClick:()=>a({type:o?"existing":"temp",id:"",name:""}),className:"text-xs text-indigo-600 font-semibold hover:underline",children:o?"Select Existing":"Add Temp Team"})]}),o?v.jsx("input",{placeholder:"Enter Temp Team Name",className:"w-full border-2 border-indigo-100 bg-indigo-50 rounded-lg p-3 text-indigo-900 focus:outline-none focus:border-indigo-500",value:n.name,onChange:u=>a({...n,name:u.target.value})}):v.jsxs("select",{className:"w-full border border-slate-300 rounded-lg p-3 bg-white",value:n.id,onChange:u=>a({...n,id:u.target.value}),children:[v.jsx("option",{value:"",children:"-- Select Team --"}),e.map(u=>v.jsx("option",{value:u.id,children:u.name},u.id))]})]})}function HM(){const[i,e]=w.useState([]),[n,a]=w.useState("");w.useEffect(()=>{(async()=>{const b=(await Pt(He(we,"teams"))).docs.map(T=>({id:T.id,...T.data()}));b.sort((T,x)=>T.name.localeCompare(x.name)),e(b)})()},[]);const o=async p=>{if(p.preventDefault(),!!n.trim())try{const b={id:(await ja(He(we,"teams"),{name:n,contacts:[]})).id,name:n,contacts:[]};e([...i,b].sort((T,x)=>T.name.localeCompare(x.name))),a("")}catch(g){console.error("Error adding team:",g),alert("Error creating team")}},u=async(p,g)=>{try{await Ru(Xt(we,"teams",p),{contacts:g}),e(i.map(b=>b.id===p?{...b,contacts:g}:b))}catch{alert("Error updating contacts")}},c=async(p,g)=>{try{await Ru(Xt(we,"teams",p),{name:g}),e(i.map(b=>b.id===p?{...b,name:g}:b))}catch{alert("Error renaming team")}},m=async p=>{if(window.confirm("Delete this team? This will break any existing schedules for them."))try{await Cs(Xt(we,"teams",p)),e(i.filter(g=>g.id!==p))}catch{alert("Error deleting team")}};return v.jsxs("div",{className:"p-4 md:p-6 max-w-5xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Team Management"}),v.jsxs("form",{onSubmit:o,className:"flex gap-4 mb-8 bg-white p-4 rounded-lg shadow-sm border border-slate-200",children:[v.jsx("input",{className:"flex-grow border border-slate-300 p-2 rounded text-sm focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"New Team Name (e.g., U10 Boys Red)",value:n,onChange:p=>a(p.target.value)}),v.jsxs("button",{type:"submit",className:"bg-indigo-600 text-white px-4 py-2 rounded text-sm font-bold flex items-center gap-2 hover:bg-indigo-700 transition",children:[v.jsx(cw,{className:"w-5 h-5"})," Create Team"]})]}),v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:i.map(p=>v.jsx(FM,{team:p,onUpdateContacts:u,onRename:c,onDelete:m},p.id))})]})}function FM({team:i,onUpdateContacts:e,onRename:n,onDelete:a}){const[o,u]=w.useState(!1),[c,m]=w.useState(i.name),[p,g]=w.useState(""),[b,T]=w.useState(""),[x,N]=w.useState("Head Coach"),U=()=>{c.trim()!==i.name&&n(i.id,c),u(!1)},G=()=>{if(!p||!b)return;const K={name:p,email:b,role:x},q=[...i.contacts||[],K];e(i.id,q),g(""),T(""),N("Head Coach")},B=K=>{if(!window.confirm("Remove this contact?"))return;const q=i.contacts.filter(J=>J.email!==K);e(i.id,q)};return v.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-5 shadow-sm hover:shadow-md transition",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-slate-100 pb-3",children:[o?v.jsxs("div",{className:"flex items-center gap-2 flex-grow mr-2",children:[v.jsx("input",{className:"w-full border p-1 rounded font-bold text-slate-800",value:c,onChange:K=>m(K.target.value),autoFocus:!0}),v.jsx("button",{onClick:U,className:"text-green-600 hover:bg-green-50 p-1 rounded",children:v.jsx(sw,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>{u(!1),m(i.name)},className:"text-red-500 hover:bg-red-50 p-1 rounded",children:v.jsx(zp,{className:"w-5 h-5"})})]}):v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"font-bold text-lg text-slate-800",children:i.name}),v.jsx("button",{onClick:()=>u(!0),className:"text-slate-400 hover:text-indigo-600",children:v.jsx(Kg,{className:"w-4 h-4"})})]}),v.jsx("button",{onClick:()=>a(i.id),className:"text-slate-300 hover:text-red-600",children:v.jsx(Is,{className:"w-5 h-5"})})]}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Roster / Staff"}),(i.contacts||[]).length===0&&v.jsx("p",{className:"text-sm text-slate-400 italic",children:"No contacts added."}),(i.contacts||[]).map((K,q)=>v.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-2 rounded border border-slate-100",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"font-semibold text-slate-800 text-sm",children:K.name}),v.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded uppercase tracking-wide ${K.role==="Head Coach"?"bg-indigo-100 text-indigo-700":K.role==="Team Manager"?"bg-purple-100 text-purple-700":"bg-gray-200 text-gray-600"}`,children:K.role})]}),v.jsx("span",{className:"text-xs text-slate-500",children:K.email})]}),v.jsx("button",{onClick:()=>B(K.email),className:"text-slate-400 hover:text-red-500",children:v.jsx(zp,{className:"w-4 h-4"})})]},q))]}),v.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200 mt-4",children:[v.jsx("p",{className:"text-xs font-bold text-slate-500 mb-2",children:"Add Person"}),v.jsxs("div",{className:"grid gap-2",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{placeholder:"Name",className:"border p-1.5 text-sm rounded flex-1 w-full",value:p,onChange:K=>g(K.target.value)}),v.jsxs("select",{className:"border p-1.5 text-sm rounded bg-white text-slate-700 w-1/3",value:x,onChange:K=>N(K.target.value),children:[v.jsx("option",{children:"Head Coach"}),v.jsx("option",{children:"Asst Coach"}),v.jsx("option",{children:"Team Manager"}),v.jsx("option",{children:"Scheduler"}),v.jsx("option",{children:"Parent Rep"})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{placeholder:"Email",className:"border p-1.5 text-sm rounded flex-1 w-full",value:b,onChange:K=>T(K.target.value)}),v.jsx("button",{onClick:G,disabled:!p||!b,className:"bg-slate-800 text-white px-3 py-1.5 text-xs font-bold rounded hover:bg-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"})]})]})]})]})}function GM(){const[i,e]=w.useState([]),[n,a]=w.useState([]);w.useEffect(()=>{(async()=>{const m=await Pt(He(we,"users")),p=await Pt(He(we,"teams"));e(m.docs.map(g=>({id:g.id,...g.data()}))),a(p.docs.map(g=>({id:g.id,...g.data()})))})()},[]);const o=async(c,m)=>{await Ru(Xt(we,"users",c),{role:m}),e(i.map(p=>p.id===c?{...p,role:m}:p))},u=async(c,m)=>{await Ru(Xt(we,"users",c),{teamId:m}),e(i.map(p=>p.id===c?{...p,teamId:m}:p))};return v.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"User Administration"}),v.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:v.jsxs("table",{className:"w-full text-left",children:[v.jsx("thead",{className:"bg-slate-50 border-b",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Email"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Role"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-600",children:"Assigned Team"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(c=>v.jsxs("tr",{className:"hover:bg-slate-50",children:[v.jsxs("td",{className:"p-4 text-sm font-medium text-slate-800",children:[c.email,v.jsx("div",{className:"text-xs text-slate-400 font-mono mt-1",children:c.id})]}),v.jsx("td",{className:"p-4",children:v.jsxs("select",{className:"border border-slate-300 rounded p-1 text-sm bg-white",value:c.role||"manager",onChange:m=>o(c.id,m.target.value),children:[v.jsx("option",{value:"manager",children:"Manager"}),v.jsx("option",{value:"admin",children:"Admin"}),v.jsx("option",{value:"scheduler",children:"Scheduler"})]})}),v.jsx("td",{className:"p-4",children:v.jsxs("select",{className:"border border-slate-300 rounded p-1 text-sm bg-white w-full max-w-xs",value:c.teamId||"",onChange:m=>u(c.id,m.target.value),children:[v.jsx("option",{value:"",children:"-- No Team Assigned --"}),v.jsx("option",{value:"all",children:"ALL (Admin Access)"}),n.map(m=>v.jsx("option",{value:m.id,children:m.name},m.id))]})})]},c.id))})]})})]})}function YM(){const[i,e]=w.useState([]),[n,a]=w.useState(null),[o,u]=w.useState([]),[c,m]=w.useState(""),[p,g]=w.useState(""),[b,T]=w.useState(!0),[x,N]=w.useState(""),[U,G]=w.useState("Grass");w.useEffect(()=>{(async()=>{const fe=(await Pt(He(we,"complexes"))).docs.map(C=>({id:C.id,...C.data()}));fe.sort((C,A)=>C.isManaged===A.isManaged?C.name.localeCompare(A.name):C.isManaged?-1:1),e(fe)})()},[]),w.useEffect(()=>{(async()=>{if(!n){u([]);return}const oe=Ei(He(we,"fields"),_i("complexId","==",n.id)),fe=await Pt(oe);u(fe.docs.map(C=>({id:C.id,...C.data()})))})()},[n]);const B=async ee=>{if(ee.preventDefault(),!!c)try{const oe={name:c,address:p,isManaged:b},C={id:(await ja(He(we,"complexes"),oe)).id,...oe};e([...i,C].sort((A,I)=>A.isManaged===I.isManaged?A.name.localeCompare(I.name):A.isManaged?-1:1)),m(""),g(""),T(!0),a(C)}catch(oe){console.error("Error adding complex:",oe),alert("Failed to add complex.")}},K=async(ee,oe)=>{ee.stopPropagation(),window.confirm("Delete this complex? ALL associated fields will need to be manually deleted.")&&(await Cs(Xt(we,"complexes",oe)),e(i.filter(fe=>fe.id!==oe)),n?.id===oe&&a(null))},q=async ee=>{if(ee.preventDefault(),!x||!n)return;const oe=await ja(He(we,"fields"),{name:x,complexId:n.id,complexName:n.name,surface:U,isActive:!0});u([...o,{id:oe.id,name:x,surface:U,complexId:n.id}]),N("")},J=async ee=>{window.confirm("Delete this field? Matches scheduled here will lose their location data.")&&(await Cs(Xt(we,"fields",ee)),u(o.filter(oe=>oe.id!==ee)))};return v.jsxs("div",{className:"flex h-[calc(100vh-100px)] max-w-6xl mx-auto p-4 gap-6",children:[v.jsxs("div",{className:"w-1/3 bg-white rounded-lg shadow-sm border border-slate-200 flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b bg-slate-50",children:[v.jsx("h2",{className:"font-bold text-lg text-slate-800",children:"Locations"}),v.jsx("p",{className:"text-xs text-slate-500",children:"Manage Club Facilities & Away Venues"})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:i.map(ee=>v.jsx("button",{onClick:()=>a(ee),className:`w-full text-left p-3 rounded-md transition-all group relative ${n?.id===ee.id?"bg-indigo-50 border-indigo-200 text-indigo-700 shadow-sm ring-1 ring-indigo-200":"hover:bg-gray-50 text-slate-700"}`,children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[ee.isManaged?v.jsx(cb,{className:"w-4 h-4 text-indigo-500",title:"Club Managed"}):v.jsx(uw,{className:"w-4 h-4 text-orange-500",title:"External / Away"}),ee.name]}),v.jsxs("div",{className:"text-xs text-slate-400 truncate flex items-center gap-1 mt-1 pl-6",children:[v.jsx($g,{className:"w-3 h-3"})," ",ee.address||"No address"]})]}),v.jsx("div",{onClick:oe=>K(oe,ee.id),className:"opacity-0 group-hover:opacity-100 p-1 text-slate-300 hover:text-red-500 transition-opacity",children:v.jsx(Is,{className:"w-4 h-4"})})]})},ee.id))}),v.jsx("div",{className:"p-4 border-t bg-slate-50",children:v.jsxs("form",{onSubmit:B,className:"space-y-3",children:[v.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase",children:"Add New Location"}),v.jsx("input",{placeholder:"Complex Name",className:"w-full text-sm border p-2 rounded focus:outline-none focus:border-indigo-500",value:c,onChange:ee=>m(ee.target.value)}),v.jsx("input",{placeholder:"Address / City",className:"w-full text-sm border p-2 rounded focus:outline-none focus:border-indigo-500",value:p,onChange:ee=>g(ee.target.value)}),v.jsxs("div",{className:"flex items-center gap-2 bg-white p-2 rounded border border-slate-200",children:[v.jsx("input",{type:"checkbox",id:"managedCheck",checked:b,onChange:ee=>T(ee.target.checked),className:"w-4 h-4 text-indigo-600 rounded cursor-pointer"}),v.jsx("label",{htmlFor:"managedCheck",className:"text-sm text-slate-700 font-bold cursor-pointer select-none",children:"Club-Owned Facility?"})]}),v.jsx("p",{className:"text-[10px] text-slate-400 px-1",children:"Check this if you manage permits/availability for this location. Uncheck for Away venues."}),v.jsx("button",{className:"w-full bg-indigo-600 text-white text-sm py-2 rounded font-medium hover:bg-indigo-700 transition",children:"Add Complex"})]})})]}),v.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-sm border border-slate-200 flex flex-col",children:n?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"p-4 border-b bg-slate-50 flex justify-between items-center",children:v.jsxs("div",{children:[v.jsx("h2",{className:"font-bold text-lg text-slate-800",children:n.name}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wide ${n.isManaged?"bg-indigo-100 text-indigo-700":"bg-orange-100 text-orange-700"}`,children:n.isManaged?"Club Managed":"External Location"}),v.jsxs("span",{className:"text-xs text-slate-400",children:[" ",o.length," Fields Defined"]})]})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-2 lg:grid-cols-3 gap-4 content-start",children:[o.map(ee=>v.jsxs("div",{className:"border p-4 rounded-lg relative group hover:border-indigo-300 hover:shadow-sm transition bg-white",children:[v.jsxs("div",{className:"pr-6",children:[v.jsx("h4",{className:"font-bold text-slate-800 truncate",title:ee.name,children:ee.name}),v.jsxs("p",{className:"text-xs text-slate-500 uppercase mt-1 flex items-center gap-1",children:[v.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),ee.surface]})]}),v.jsx("button",{onClick:()=>J(ee.id),className:"absolute top-2 right-2 text-slate-200 hover:text-red-500 opacity-0 group-hover:opacity-100 transition",children:v.jsx(Is,{className:"w-4 h-4"})})]},ee.id)),v.jsxs("form",{onSubmit:q,className:"border-2 border-dashed border-slate-200 rounded-lg p-4 flex flex-col justify-center gap-2 hover:border-indigo-200 hover:bg-slate-50 transition",children:[v.jsx("input",{autoFocus:!0,placeholder:"New Field Name",className:"text-sm border-b border-slate-300 bg-transparent p-1 focus:outline-none focus:border-indigo-500",value:x,onChange:ee=>N(ee.target.value)}),v.jsxs("select",{className:"text-xs bg-white border border-slate-200 p-1 rounded focus:outline-none",value:U,onChange:ee=>G(ee.target.value),children:[v.jsx("option",{children:"Grass"}),v.jsx("option",{children:"Turf"}),v.jsx("option",{children:"Indoor"}),v.jsx("option",{children:"Clay"})]}),v.jsxs("button",{className:"bg-indigo-50 text-indigo-600 text-xs py-1.5 rounded font-bold hover:bg-indigo-100 flex items-center justify-center gap-1 mt-1",children:[v.jsx(cw,{className:"w-3 h-3"})," Add Field"]})]})]})]}):v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300",children:[v.jsx(cb,{className:"w-16 h-16 mb-2 text-slate-200"}),v.jsx("p",{children:"Select a complex on the left to manage fields."})]})})]})}function QM(){const[i,e]=w.useState([]),[n,a]=w.useState([]),[o,u]=w.useState([]),[c,m]=w.useState(""),[p,g]=w.useState(""),[b,T]=w.useState(""),[x,N]=w.useState("08:00"),[U,G]=w.useState("17:00");w.useEffect(()=>{(async()=>{const ee=(await Pt(He(we,"complexes"))).docs.map(oe=>({id:oe.id,...oe.data()})).filter(oe=>oe.isManaged===!0);e(ee)})()},[]),w.useEffect(()=>{if(!c){a([]);return}(async()=>{const J=Ei(He(we,"fields"),_i("complexId","==",c)),ee=await Pt(J);a(ee.docs.map(oe=>({id:oe.id,...oe.data()})))})()},[c]),w.useEffect(()=>{if(!p){u([]);return}const q=Ei(He(we,"permits"),_i("fieldId","==",p)),J=Ts(q,ee=>{const oe=ee.docs.map(fe=>({id:fe.id,...fe.data(),start:fe.data().start.toDate(),end:fe.data().end.toDate()}));oe.sort((fe,C)=>fe.start-C.start),u(oe)});return()=>J()},[p]);const B=async q=>{if(q.preventDefault(),!p||!b)return;const J=new Date(`${b}T${x}`),ee=new Date(`${b}T${U}`);if(ee<=J){alert("End time must be after start time");return}await ja(He(we,"permits"),{fieldId:p,start:Fe.fromDate(J),end:Fe.fromDate(ee)})},K=async q=>{confirm("Revoke this permit? Scheduled games might become invalid.")&&await Cs(Xt(we,"permits",q))};return v.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Field Availability (Permits)"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6 bg-white p-4 rounded-lg shadow-sm border",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Complex"}),v.jsxs("select",{className:"w-full border p-2 rounded",value:c,onChange:q=>{m(q.target.value),g("")},children:[v.jsx("option",{value:"",children:"-- Select Complex --"}),i.map(q=>v.jsx("option",{value:q.id,children:q.name},q.id))]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Field"}),v.jsxs("select",{className:"w-full border p-2 rounded disabled:bg-slate-100",value:p,onChange:q=>g(q.target.value),disabled:!c,children:[v.jsx("option",{value:"",children:"-- Select Field --"}),n.map(q=>v.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),p&&v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[v.jsx("div",{className:"md:col-span-1",children:v.jsxs("div",{className:"bg-indigo-50 border border-indigo-100 p-4 rounded-lg",children:[v.jsx("h3",{className:"font-bold text-indigo-900 mb-3",children:"Add Open Slot"}),v.jsxs("form",{onSubmit:B,className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"Date"}),v.jsx("input",{type:"date",required:!0,className:"w-full border p-2 rounded",value:b,onChange:q=>T(q.target.value)})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"Start"}),v.jsx("input",{type:"time",required:!0,className:"w-full border p-2 rounded",value:x,onChange:q=>N(q.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-indigo-700",children:"End"}),v.jsx("input",{type:"time",required:!0,className:"w-full border p-2 rounded",value:U,onChange:q=>G(q.target.value)})]})]}),v.jsx("button",{className:"w-full bg-indigo-600 text-white font-bold py-2 rounded hover:bg-indigo-700",children:"Grant Permit"})]})]})}),v.jsxs("div",{className:"md:col-span-2 space-y-3",children:[v.jsx("h3",{className:"font-bold text-slate-700",children:"Active Permits for this Field"}),o.length===0&&v.jsx("p",{className:"text-slate-400 italic",children:"No open slots defined. Field is closed."}),o.map(q=>v.jsxs("div",{className:"flex items-center justify-between bg-white border border-l-4 border-l-green-500 p-3 rounded shadow-sm",children:[v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-slate-800",children:bt(q.start,"EEEE, MMMM do, yyyy")}),v.jsxs("div",{className:"text-sm text-slate-500",children:[bt(q.start,"h:mm a")," - ",bt(q.end,"h:mm a")]})]}),v.jsx("button",{onClick:()=>K(q.id),className:"text-slate-400 hover:text-red-500",children:v.jsx(Is,{className:"w-5 h-5"})})]},q.id))]})]})]})}function $M(){const[i,e]=w.useState([]),[n,a]=w.useState(""),[o,u]=w.useState("Club Holiday");w.useEffect(()=>{const p=Ei(He(we,"requests"),_i("type","==","blackout")),g=Ts(p,b=>{const T=b.docs.map(x=>({id:x.id,...x.data(),start:x.data().start.toDate(),end:x.data().end.toDate()}));T.sort((x,N)=>x.start-N.start),e(T)});return()=>g()},[]);const c=async p=>{if(p.preventDefault(),!n)return;const g=new Date(`${n}T00:00:00`),b=new Date(`${n}T23:59:59`);await ja(He(we,"requests"),{teamId:"ALL",teamName:"ENTIRE CLUB",start:Fe.fromDate(g),end:Fe.fromDate(b),reason:o,type:"blackout",managerId:"ADMIN"}),u("Club Holiday"),alert("Club-wide blackout added. Managers will be blocked from posting availability on this date.")},m=async p=>{confirm("Remove this club blackout?")&&await Cs(Xt(we,"requests",p))};return v.jsxs("div",{className:"p-6 max-w-5xl mx-auto",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx("div",{className:"bg-red-100 p-3 rounded-full text-red-600",children:v.jsx(uw,{className:"w-6 h-6"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Club Blackouts"}),v.jsx("p",{className:"text-slate-500 text-sm",children:"Dates when NO games can be played (Holidays, Weather, Maintenance)."})]})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"md:col-span-1 h-fit bg-red-50 border border-red-100 p-5 rounded-xl shadow-sm",children:[v.jsxs("h3",{className:"font-bold text-red-900 mb-4 flex items-center gap-2",children:[v.jsx(lw,{className:"w-5 h-5"}),"Block Entire Club"]}),v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-red-700 uppercase mb-1",children:"Date"}),v.jsx("input",{type:"date",required:!0,className:"w-full border border-red-200 rounded p-2 focus:ring-2 focus:ring-red-500 outline-none",value:n,onChange:p=>a(p.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-red-700 uppercase mb-1",children:"Reason"}),v.jsx("input",{className:"w-full border border-red-200 rounded p-2 focus:ring-2 focus:ring-red-500 outline-none",value:o,onChange:p=>u(p.target.value),placeholder:"e.g. Thanksgiving"})]}),v.jsx("button",{className:"w-full bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 shadow-sm transition",children:"Block Date"})]}),v.jsx("p",{className:"text-xs text-red-400 mt-4 leading-tight",children:"* This will prevent ALL Managers from posting availability or scheduling home games on this date."})]}),v.jsx("div",{className:"md:col-span-2",children:v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 text-slate-500 font-bold uppercase text-xs",children:"Date"}),v.jsx("th",{className:"p-4 text-slate-500 font-bold uppercase text-xs",children:"Scope"}),v.jsx("th",{className:"p-4 text-slate-500 font-bold uppercase text-xs",children:"Reason"}),v.jsx("th",{className:"p-4"})]})}),v.jsxs("tbody",{className:"divide-y divide-slate-100",children:[i.length===0&&v.jsx("tr",{children:v.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-400 italic",children:"No club-wide blackouts set."})}),i.map(p=>v.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[v.jsx("td",{className:"p-4 font-bold text-slate-800",children:bt(p.start,"EEEE, MMM do, yyyy")}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-bold uppercase tracking-wide",children:p.teamName})}),v.jsx("td",{className:"p-4 text-slate-600 font-medium",children:p.reason}),v.jsx("td",{className:"p-4 text-right",children:v.jsx("button",{onClick:()=>m(p.id),className:"text-slate-300 hover:text-red-600 p-2 rounded hover:bg-red-50 transition",children:v.jsx(Is,{className:"w-5 h-5"})})})]},p.id))]})]})})})]})]})}function KM(){const[i,e]=w.useState(null),[n,a]=w.useState(!1),[o,u]=w.useState([]),[c,m]=w.useState(""),[p,g]=w.useState([]),[b,T]=w.useState([]),[x,N]=w.useState(""),[U,G]=w.useState(""),[B,K]=w.useState("Open for games"),q=w.useRef(null);w.useEffect(()=>{const C=Pd(Bo,async A=>{if(!A)return;e(A);const I=await Au(Xt(we,"users",A.uid));if(I.exists()){const V=I.data(),O=V.role;a(O==="admin");let L=[];if(O==="admin")L=(await Pt(He(we,"teams"))).docs.map(Ie=>({id:Ie.id,...Ie.data()}));else if(V.teamId){const D=await Au(Xt(we,"teams",V.teamId));D.exists()&&(L=[{id:D.id,...D.data()}])}L.sort((D,Ie)=>D.name.localeCompare(Ie.name)),u(L),L.length>0&&m(L[0].id)}});return()=>C()},[]),w.useEffect(()=>{if(!c){g([]);return}const C=Ei(He(we,"requests"),_i("teamId","==",c),_i("type","==","available")),A=Ts(C,I=>{const V=I.docs.map(O=>({id:O.id,...O.data(),start:O.data().start.toDate(),end:O.data().end.toDate()}));V.sort((O,L)=>O.start-L.start),g(V)});return()=>A()},[c]),w.useEffect(()=>{const C=Ei(He(we,"requests"),_i("type","==","blackout")),A=Ts(C,I=>{const V=I.docs.map(O=>({id:O.id,...O.data(),start:O.data().start.toDate(),end:O.data().end.toDate()}));T(V)});return()=>A()},[]);const J=async C=>{if(C.preventDefault(),!c||!x||!U)return;if(U<x){alert("End date cannot be before Start date");return}const A=new Date(`${x}T00:00:00`),I=new Date(`${U}T23:59:59`);if(b.some(L=>Ho({start:A,end:I},{start:L.start,end:L.end}))){alert("BLOCKED: The club has a mandatory blackout during these dates. You cannot post availability.");return}const O=o.find(L=>L.id===c);await ja(He(we,"requests"),{teamId:c,teamName:O?.name||"Unknown",managerId:i.uid,start:Fe.fromDate(A),end:Fe.fromDate(I),note:B,type:"available",createdAt:new Date}),N(""),G("")},ee=async C=>{confirm("Remove this availability slot?")&&await Cs(Xt(we,"requests",C))},oe=C=>{N(bt(C.start,"yyyy-MM-dd")),G(bt(C.end,"yyyy-MM-dd")),K(C.note),q.current?.scrollIntoView({behavior:"smooth"}),document.getElementById("startDateInput")?.focus()},fe=()=>{const A=`${window.location.origin+window.location.pathname}#/team/${c}/availability`;navigator.clipboard.writeText(A),alert(`Link copied! Send this to opposing managers:

`+A)};return i?v.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6",children:[v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200 flex flex-col md:flex-row justify-between gap-4 items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Team Dashboard"}),v.jsx("p",{className:"text-slate-500 text-sm",children:"Manage availability and schedule games."})]}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[v.jsxs(Ea,{to:"/manager/schedule",state:{preselectedTeamId:c},className:"flex items-center justify-center gap-2 bg-slate-800 text-white px-4 py-3 rounded-lg font-bold text-sm hover:bg-slate-900 transition shadow-sm",children:[v.jsx(qo,{className:"w-5 h-5"}),"Schedule Game"]}),v.jsxs("div",{className:"relative min-w-[200px]",children:[v.jsx("select",{className:"w-full bg-indigo-50 border border-indigo-200 text-indigo-900 font-bold rounded-lg py-3 pl-4 pr-10 focus:outline-none appearance-none",value:c,onChange:C=>m(C.target.value),children:o.map(C=>v.jsx("option",{value:C.id,children:C.name},C.id))}),v.jsx(ow,{className:"w-5 h-5 text-indigo-500 absolute right-3 top-3.5 pointer-events-none"})]})]})]}),b.length>0&&v.jsxs("div",{className:"bg-red-50 border-l-4 border-red-600 p-4 rounded-r-lg shadow-sm",children:[v.jsxs("h3",{className:"flex items-center gap-2 font-bold text-red-800 uppercase text-sm tracking-wide mb-2",children:[v.jsx(n4,{className:"w-5 h-5"}),"Club Blackout Dates (No Games)"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.map(C=>v.jsxs("div",{className:"text-sm text-red-700 font-medium ml-7",children:[" ",bt(C.start,"MMM do")," - ",bt(C.end,"MMM do"),": ",C.reason]},C.id))})]}),c&&v.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"md:col-span-1 space-y-4",children:[v.jsxs("div",{className:"bg-blue-600 text-white p-4 rounded-xl shadow-md",children:[v.jsxs("h3",{className:"font-bold flex items-center gap-2 mb-2",children:[v.jsx(p4,{className:"w-5 h-5"})," Share Availability"]}),v.jsx("p",{className:"text-xs text-blue-100 mb-3 leading-relaxed",children:"Send a live link to other clubs so they can see when you are free."}),v.jsx("button",{onClick:fe,className:"w-full bg-white text-blue-700 font-bold py-2 rounded text-sm hover:bg-blue-50 transition",children:"Copy Public Link"})]}),v.jsxs("div",{ref:q,className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[v.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[v.jsx(qo,{className:"w-5 h-5 text-green-600"}),"Add Open Dates"]}),v.jsxs("form",{onSubmit:J,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"From"}),v.jsx("input",{id:"startDateInput",type:"date",required:!0,className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-green-500 outline-none",value:x,onChange:C=>N(C.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"To"}),v.jsx("input",{type:"date",required:!0,className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-green-500 outline-none",value:U,min:x,onChange:C=>G(C.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Note"}),v.jsx("input",{className:"w-full border rounded p-2 text-sm focus:ring-2 focus:ring-green-500 outline-none",placeholder:"e.g. Prefer mornings",value:B,onChange:C=>K(C.target.value)})]}),v.jsx("button",{className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2.5 rounded-lg shadow-sm transition",children:"Post Availability"})]})]})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("h3",{className:"font-bold text-slate-700 mb-3",children:"Posted Openings"}),p.length===0&&v.jsx("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-8 text-center",children:v.jsx("p",{className:"text-slate-400",children:"No availability posted yet."})}),v.jsx("div",{className:"grid gap-3",children:p.map(C=>{const A=bt(C.start,"MMM do"),I=bt(C.end,"MMM do"),V=A!==I;return v.jsxs("div",{className:"bg-white border-l-4 border-l-green-500 p-4 rounded-lg shadow-sm flex justify-between items-center group",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"font-bold text-slate-800 text-lg",children:[A," ",V&&v.jsx("span",{className:"text-slate-400 mx-1",children:""})," ",V&&I]}),v.jsx("div",{className:"text-sm text-slate-500 mt-0.5",children:C.note})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{onClick:()=>oe(C),className:"text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 p-2 rounded transition",title:"Duplicate & Edit",children:v.jsx(ZD,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>ee(C.id),className:"text-slate-400 hover:text-red-500 hover:bg-red-50 p-2 rounded transition",title:"Delete",children:v.jsx(Is,{className:"w-5 h-5"})})]})]},C.id)})})]})]})]}):v.jsx("div",{className:"p-10 text-center",children:"Loading..."})}function XM(){const[i,e]=w.useState([]),[n,a]=w.useState(null),[o,u]=w.useState(""),[c,m]=w.useState("");w.useEffect(()=>{p()},[]);const p=async()=>{const N=Ei(He(we,"matches"),xT("start","asc")),U=await Pt(N);e(U.docs.map(G=>({id:G.id,...G.data(),start:G.data().start.toDate(),end:G.data().end.toDate()})))},g=async N=>{confirm("Are you sure you want to cancel this match?")&&(await Cs(Xt(we,"matches",N)),e(i.filter(U=>U.id!==N)))},b=N=>{a(N.id),u(bt(N.start,"yyyy-MM-dd")),m(bt(N.start,"HH:mm"))},T=()=>{a(null),u(""),m("")},x=async N=>{try{const U=new Date(`${o}T${c}`),G=N.end-N.start,B=new Date(U.getTime()+G);await Ru(Xt(we,"matches",N.id),{start:Fe.fromDate(U),end:Fe.fromDate(B)}),e(i.map(K=>K.id===N.id?{...K,start:U,end:B}:K)),a(null)}catch(U){alert("Error updating match: "+U.message)}};return v.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-800",children:"Match Management"}),v.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[v.jsxs("table",{className:"w-full text-left text-sm",children:[v.jsx("thead",{className:"bg-slate-50 border-b",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Date & Time"}),v.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Teams"}),v.jsx("th",{className:"p-4 font-semibold text-slate-600",children:"Location"}),v.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-100",children:i.map(N=>v.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[v.jsx("td",{className:"p-4",children:n===N.id?v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("input",{type:"date",className:"border rounded p-1 text-xs",value:o,onChange:U=>u(U.target.value)}),v.jsx("input",{type:"time",className:"border rounded p-1 text-xs",value:c,onChange:U=>m(U.target.value)})]}):v.jsxs("div",{children:[v.jsx("div",{className:"font-bold text-slate-800",children:bt(N.start,"MMM do, yyyy")}),v.jsx("div",{className:"text-slate-500",children:bt(N.start,"h:mm a")})]})}),v.jsxs("td",{className:"p-4",children:[v.jsx("div",{className:"font-medium text-slate-900",children:N.homeTeamName||N.homeTeamId}),v.jsx("div",{className:"text-xs text-slate-400",children:"vs"}),v.jsx("div",{className:"font-medium text-slate-900",children:N.awayTeamName||N.awayTeamId})]}),v.jsxs("td",{className:"p-4 text-slate-600",children:[N.complexName||"Unknown Complex",v.jsxs("div",{className:"text-xs text-slate-400",children:["Field ",N.fieldId]})]}),v.jsx("td",{className:"p-4 text-right",children:n===N.id?v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>x(N),className:"text-green-600 hover:bg-green-50 p-1 rounded",children:v.jsx(sw,{className:"w-5 h-5"})}),v.jsx("button",{onClick:T,className:"text-red-500 hover:bg-red-50 p-1 rounded",children:v.jsx(zp,{className:"w-5 h-5"})})]}):v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>b(N),className:"text-indigo-500 hover:text-indigo-700 p-1",children:v.jsx(Kg,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>g(N.id),className:"text-slate-400 hover:text-red-600 p-1",children:v.jsx(Is,{className:"w-5 h-5"})})]})})]},N.id))})]}),i.length===0&&v.jsx("div",{className:"p-8 text-center text-slate-400",children:"No matches found."})]})]})}function WM(){const{matches:i,permits:e,blackouts:n}=xw(),a=Si(),[o,u]=w.useState(!1),[c,m]=w.useState(!0),[p,g]=w.useState(null),[b,T]=w.useState([]),[x,N]=w.useState([]),[U,G]=w.useState([]),[B,K]=w.useState([]),[q,J]=w.useState([]),[ee,oe]=w.useState("home"),[fe,C]=w.useState({type:"existing",id:"",name:""}),[A,I]=w.useState({type:"existing",id:"",name:""}),[V,O]=w.useState(""),[L,D]=w.useState(""),[Ie,gt]=w.useState(""),[X,ue]=w.useState(""),[se,xe]=w.useState(90),[_e,k]=w.useState(null),[W,ae]=w.useState([]);w.useEffect(()=>{const ce=Pd(Bo,async be=>{if(be){const We=await Au(Xt(we,"users",be.uid)),Ge=We.exists()?We.data():{},Ut=Ge.role==="admin";u(Ut);const[Bn,mn,ri]=await Promise.all([Pt(He(we,"teams")),Pt(He(we,"complexes")),Pt(He(we,"fields"))]),Zt=Bn.docs.map(ot=>({id:ot.id,...ot.data()}));Zt.sort((ot,lt)=>ot.name.localeCompare(lt.name)),N(Zt);const xi=mn.docs.map(ot=>({id:ot.id,...ot.data()}));G(xi.filter(ot=>ot.isManaged)),K(xi.filter(ot=>!ot.isManaged)),J(ri.docs.map(ot=>({id:ot.id,...ot.data()})));let Ht=[];if(Ut)Ht=Zt;else if(Ge.teamId){const ot=Zt.find(lt=>lt.id===Ge.teamId);ot&&(Ht=[ot])}T(Ht);const Ft=a.state?.preselectedTeamId;if(Ft){const ot=Ht.find(lt=>lt.id===Ft);ot?g(ot):Ht.length>0&&g(Ht[0])}else Ht.length>0&&g(Ht[0]);m(!1)}});return()=>ce()},[]),w.useEffect(()=>{I({type:"existing",id:"",name:""}),O(""),k(null)},[ee]);const he=q.filter(ce=>ce.complexId===A.id);w.useEffect(()=>{if(ee==="away"){ae([]);return}if(ae([]),k(null),A.type!=="existing"||!A.id||!V||!Ie||!se)return;const ce=Na(Ie);if(n.some(mn=>Ca(ce,{start:mn.start,end:mn.end})))return;const We=[],Ge=15;let Ut=hd(cd(Na(Ie),7),0);const Bn=hd(cd(Na(Ie),21),0);for(;Ut<Bn;){const mn=Ut,ri=Mo(Ut,se),Zt={start:mn,end:ri},xi=e.some(Ft=>Ft.fieldId===V&&Ca(mn,{start:Ft.start,end:Ft.end})&&Ca(ri,{start:Ft.start,end:Ft.end})),Ht=i.some(Ft=>Ft.fieldId===V&&Ho(Zt,{start:Ft.start,end:Ft.end}));xi&&!Ht&&We.push(bt(mn,"HH:mm")),Ut=Mo(Ut,Ge)}ae(We)},[Ie,V,se,i,e,n,ee,A]);const Ee=async ce=>{if(ce.preventDefault(),!p)return;const be=fe.id||fe.name,We=A.id||A.name;if(ee==="home"){if(!_e||!V||!be||A.type==="temp")return}else if(!X||!We||!be)return;const Ge=ee==="home"?_e:X,Ut=new Date(`${Ie}T${Ge}`),Bn=Mo(Ut,se);await ja(He(we,"matches"),{homeTeamId:ee==="home"?p.id:fe.id||"TEMP",homeTeamName:ee==="home"?p.name:fe.name,awayTeamId:ee==="home"?fe.id||"TEMP":p.id,awayTeamName:ee==="home"?fe.name:p.name,fieldId:ee==="home"?V:"EXTERNAL",fieldName:ee==="home"?"":L||"Field 1",complexId:A.type==="temp"?"TEMP":A.id,complexName:A.name,isHomeGame:ee==="home",start:Ut,end:Bn}),alert("Match Scheduled!"),k(null),ue(""),C({type:"existing",id:"",name:""})};return c?v.jsx("div",{className:"p-10 text-center",children:"Loading..."}):b.length===0?v.jsx("div",{className:"p-8 text-center text-red-500",children:"Access Denied"}):v.jsxs("div",{className:"max-w-3xl mx-auto p-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Schedule Game"}),v.jsxs("div",{className:"bg-slate-100 p-1 rounded-lg flex",children:[v.jsxs("button",{onClick:()=>oe("home"),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition ${ee==="home"?"bg-white shadow text-indigo-600":"text-slate-500"}`,children:[v.jsx(s4,{className:"w-4 h-4"})," Home"]}),v.jsxs("button",{onClick:()=>oe("away"),className:`px-4 py-2 rounded-md text-sm font-bold flex items-center gap-2 transition ${ee==="away"?"bg-white shadow text-orange-600":"text-slate-500"}`,children:[v.jsx(b4,{className:"w-4 h-4"})," Away"]})]})]}),v.jsxs("form",{onSubmit:Ee,className:`p-6 rounded-xl shadow-sm border space-y-6 ${ee==="home"?"bg-white border-slate-200":"bg-orange-50 border-orange-200"}`,children:[v.jsxs("div",{className:"grid md:grid-cols-2 gap-4 items-center",children:[v.jsxs("div",{className:`order-1 ${ee==="home"?"order-1":"order-2"}`,children:[v.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:[ee==="home"?"Home":"Away"," (You)"]}),b.length>1?v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"w-full border p-2 rounded bg-indigo-50 border-indigo-200 text-indigo-900 font-bold appearance-none",value:p?.id||"",onChange:ce=>{const be=b.find(We=>We.id===ce.target.value);g(be)},children:b.map(ce=>v.jsx("option",{value:ce.id,children:ce.name},ce.id))}),v.jsx(ow,{className:"w-5 h-5 text-indigo-500 absolute right-3 top-2.5 pointer-events-none"})]}):v.jsx("div",{className:"p-2 bg-indigo-50 border border-indigo-200 rounded font-bold text-indigo-900",children:p?.name})]}),v.jsx("div",{className:"md:hidden text-center font-bold text-slate-400 order-last",children:"VS"}),v.jsx("div",{className:`order-1 ${ee==="home"?"order-2":"order-1"}`,children:v.jsx(_b,{label:ee==="home"?"Away Team (Opponent)":"Home Team (Opponent)",items:x.filter(ce=>ce.id!==p?.id),selection:fe,setSelection:C,placeholder:"Enter Team Name",allowTemp:!0})})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsx("div",{children:v.jsx(_b,{label:ee==="home"?"Club Complex":"Away Complex",items:ee==="home"?U:B,selection:A,setSelection:I,placeholder:"Enter Address / Location Name",allowTemp:ee==="away"})}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Date"}),v.jsx("input",{type:"date",className:"w-full border p-2 rounded",onChange:ce=>gt(ce.target.value)})]})]}),ee==="home"?v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Field"}),v.jsxs("select",{className:"w-full border p-2 rounded mb-4",disabled:A.type==="temp"||!A.id,onChange:ce=>O(ce.target.value),children:[v.jsx("option",{value:"",children:"-- Select Field --"}),he.map(ce=>v.jsxs("option",{value:ce.id,children:[ce.name," (",ce.surface,")"]},ce.id))]}),v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Verified Open Slots"}),v.jsxs("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto",children:[(!Ie||!V)&&v.jsx("div",{className:"text-xs text-slate-400 col-span-4 italic",children:"Select Date and Field..."}),Ie&&V&&W.length===0&&v.jsx("div",{className:"text-xs text-red-500 col-span-4 bg-red-50 p-2 rounded",children:"No slots available (Check Permits/Blackouts)."}),W.map(ce=>v.jsx("button",{type:"button",onClick:()=>k(ce),className:`p-2 text-xs font-bold rounded ${_e===ce?"bg-indigo-600 text-white":"bg-slate-50 border"}`,children:ce},ce))]})]}):v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Field Name (Optional)"}),v.jsx("input",{className:"w-full border p-2 rounded",placeholder:"e.g. Field 4B",value:L,onChange:ce=>D(ce.target.value)})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Kickoff Time"}),v.jsx("input",{type:"time",className:"w-full border p-2 rounded",value:X,onChange:ce=>ue(ce.target.value)})]})]}),v.jsxs("button",{className:`w-full text-white font-bold py-3 rounded shadow-sm ${ee==="home"?"bg-indigo-600 hover:bg-indigo-700":"bg-orange-600 hover:bg-orange-700"}`,children:["Confirm ",ee==="home"?"Home":"Away"," Match"]})]})]})}function _b({label:i,items:e,selection:n,setSelection:a,placeholder:o,allowTemp:u}){const c=n.type==="temp";return v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between items-center mb-1",children:[v.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:i}),u&&v.jsx("button",{type:"button",onClick:()=>a({type:c?"existing":"temp",id:"",name:""}),className:"text-xs text-indigo-600 font-semibold hover:underline",children:c?"Select Existing":"Enter Manual Name"})]}),c?v.jsx("input",{placeholder:o,className:"w-full border-2 border-indigo-100 bg-indigo-50 rounded p-2 text-indigo-900 focus:outline-none",value:n.name,onChange:m=>a({...n,name:m.target.value})}):v.jsxs("select",{className:"w-full border border-slate-300 rounded p-2 bg-white",value:n.id,onChange:m=>{const p=e.find(g=>g.id===m.target.value);a({...n,id:m.target.value,name:p?.name||""})},children:[v.jsx("option",{value:"",children:"-- Select --"}),e.map(m=>v.jsx("option",{value:m.id,children:m.name},m.id))]})]})}function ZM(){return v.jsx(Lx,{children:v.jsxs(fx,{children:[v.jsx(vn,{path:"/login",element:v.jsx(qD,{})}),v.jsxs(vn,{path:"/",element:v.jsx(f3,{}),children:[v.jsx(vn,{path:"team/:teamId/availability",element:v.jsx(UM,{})}),v.jsx(vn,{index:!0,element:v.jsx(yi,{children:v.jsx(PM,{})})}),v.jsx(vn,{path:"manager",element:v.jsx(yi,{children:v.jsx(KM,{})})}),v.jsx(vn,{path:"manager/schedule",element:v.jsx(yi,{children:v.jsx(WM,{})})}),v.jsx(vn,{path:"admin",element:v.jsx(yi,{children:v.jsx(zM,{})})}),v.jsx(vn,{path:"admin/matches",element:v.jsx(yi,{children:v.jsx(qM,{})})}),v.jsx(vn,{path:"admin/teams",element:v.jsx(yi,{children:v.jsx(HM,{})})}),v.jsx(vn,{path:"admin/users",element:v.jsx(yi,{children:v.jsx(GM,{})})}),v.jsx(vn,{path:"admin/complexes",element:v.jsx(yi,{children:v.jsx(YM,{})})}),v.jsx(vn,{path:"admin/availability",element:v.jsx(yi,{children:v.jsx(QM,{})})}),v.jsx(vn,{path:"admin/blackouts",element:v.jsx(yi,{children:v.jsx($M,{})})}),v.jsx(vn,{path:"admin/manage-matches",element:v.jsx(yi,{children:v.jsx(XM,{})})})]})]})})}hS.createRoot(document.getElementById("root")).render(v.jsx(w.StrictMode,{children:v.jsx(ZM,{})}));
